{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/app/organizer/events/%5Bid%5D/edit/page.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useRouter, useParams } from 'next/navigation';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { useI18n } from '@/components/providers/I18nProvider'; // Add this import\r\nimport {\r\n    Calendar, MapPin, Globe, Users, DollarSign, Plus, Trash2, Save, ArrowLeft,\r\n    AlertCircle, Clock, Edit, Lock, AlertTriangle, Info, X\r\n} from 'lucide-react';\r\nimport { useTheme, useThemeClasses } from '@/hooks/useTheme';\r\nimport { imageApi, imageUtils, eventsApi } from '@/lib/api';\r\n// Local interfaces to avoid import issues\r\ninterface Category {\r\n    categoryId: number;\r\n    name: string;\r\n    description?: string;\r\n}\r\n\r\ninterface Venue {\r\n    venueId: number;\r\n    name: string;\r\n    address: string;\r\n    city: string;\r\n    capacity: number;\r\n    description?: string;\r\n}\r\n\r\ninterface TicketType {\r\n    ticketTypeId?: number;\r\n    name: string;\r\n    price: number;\r\n    quantityAvailable: number;\r\n    quantitySold: number;\r\n    description: string;\r\n    isActive: boolean;\r\n    isEventPublished?: boolean;\r\n    eventStatus?: string;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n}\r\n\r\ninterface EventFormData {\r\n    title: string;\r\n    description: string;\r\n    eventDate: string;\r\n    endDate: string;\r\n    location: string;\r\n    isOnline: boolean;\r\n    maxCapacity: string;\r\n    categoryId: string;\r\n    venueId: number | null;\r\n    imageUrl: string;\r\n    registrationDeadline: string;\r\n    isPublished: boolean;\r\n}\r\n\r\ninterface CreateTicketTypeData {\r\n    name: string;\r\n    description: string;\r\n    price: string;\r\n    quantityAvailable: string;\r\n    saleStartDate: string;\r\n    saleEndDate: string;\r\n    minQuantityPerOrder: string;\r\n    maxQuantityPerOrder: string;\r\n    sortOrder: string;\r\n}\r\n\r\ninterface EditTicketTypeData extends CreateTicketTypeData {\r\n    ticketTypeId: number;\r\n}\r\n\r\nconst EditEventPage = () => {\r\n    const router = useRouter();\r\n    const params = useParams();\r\n    const eventId = params?.id as string;\r\n    const { user, isOrganizer } = useAuth();\r\n    const { t } = useI18n(); // Add this hook\r\n    const themeClasses = useThemeClasses();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [initialLoading, setInitialLoading] = useState(true);\r\n    const [categories, setCategories] = useState<Category[]>([]);\r\n    const [venues, setVenues] = useState<Venue[]>([]);\r\n    const [ticketTypes, setTicketTypes] = useState<TicketType[]>([]);\r\n    const [error, setError] = useState('');\r\n    const [success, setSuccess] = useState('');\r\n\r\n    // Ticket editing state\r\n    const [showCreateTicketForm, setShowCreateTicketForm] = useState(false);\r\n    const [showEditTicketForm, setShowEditTicketForm] = useState(false);\r\n    const [editingTicketType, setEditingTicketType] = useState<TicketType | null>(null);\r\n    const [ticketFormLoading, setTicketFormLoading] = useState(false);\r\n\r\n\r\n    // Image handling state - add after your existing state declarations\r\n    const [bannerFile, setBannerFile] = useState<File | null>(null);\r\n    const [imageFile, setImageFile] = useState<File | null>(null);\r\n    const [bannerPreview, setBannerPreview] = useState<string>('');\r\n    const [imagePreview, setImagePreview] = useState<string>('');\r\n    const [deleteBanner, setDeleteBanner] = useState(false);\r\n    const [deleteImage, setDeleteImage] = useState(false);\r\n    const [imageUploadLoading, setImageUploadLoading] = useState(false);\r\n\r\n    const [isDragging, setIsDragging] = useState(false);\r\n\r\n    // Form state\r\n    const [formData, setFormData] = useState<EventFormData>({\r\n        title: '',\r\n        description: '',\r\n        eventDate: '',\r\n        endDate: '',\r\n        location: '',\r\n        isOnline: false,\r\n        maxCapacity: '',\r\n        categoryId: '',\r\n        venueId: null,\r\n        imageUrl: '',\r\n        registrationDeadline: '',\r\n        isPublished: false\r\n    });\r\n\r\n    const [createTicketData, setCreateTicketData] = useState<CreateTicketTypeData>({\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        quantityAvailable: '',\r\n        saleStartDate: '',\r\n        saleEndDate: '',\r\n        minQuantityPerOrder: '1',\r\n        maxQuantityPerOrder: '10',\r\n        sortOrder: '0'\r\n    });\r\n\r\n    const [editTicketData, setEditTicketData] = useState<EditTicketTypeData>({\r\n        ticketTypeId: 0,\r\n        name: '',\r\n        description: '',\r\n        price: '',\r\n        quantityAvailable: '',\r\n        saleStartDate: '',\r\n        saleEndDate: '',\r\n        minQuantityPerOrder: '1',\r\n        maxQuantityPerOrder: '10',\r\n        sortOrder: '0'\r\n    });\r\n\r\n    const [formErrors, setFormErrors] = useState<Record<string, string>>({});\r\n    const [ticketFormErrors, setTicketFormErrors] = useState<Record<string, string>>({});\r\n\r\n\r\n    const [showImageModal, setShowImageModal] = useState(false);\r\n    const [modalImageSrc, setModalImageSrc] = useState('');\r\n\r\n    const openImageModal = (src: string) => {\r\n        setModalImageSrc(src);\r\n        setShowImageModal(true);\r\n    };\r\n\r\n    const ImagePreviewModal = () => (\r\n        showImageModal && (\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4\">\r\n                <div className=\"relative max-w-4xl max-h-4xl\">\r\n                    <img\r\n                        src={modalImageSrc}\r\n                        alt={t('imagePreview')}\r\n                        className=\"max-w-full max-h-full object-contain\"\r\n                    />\r\n                    <button\r\n                        onClick={() => setShowImageModal(false)}\r\n                        className=\"absolute top-4 right-4 p-2 bg-black bg-opacity-50 text-white rounded-full hover:bg-opacity-75\"\r\n                    >\r\n                        <X className=\"h-6 w-6\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        )\r\n    );\r\n\r\n    // Load event data and initial data\r\n    useEffect(() => {\r\n        if (user && isOrganizer && eventId) {\r\n            loadEventData();\r\n            fetchInitialData();\r\n        } else if (user && !isOrganizer) {\r\n            router.push('/');\r\n        }\r\n    }, [user, isOrganizer, eventId, router]);\r\n\r\n    const loadEventData = async () => {\r\n        try {\r\n            setInitialLoading(true);\r\n            setError('');\r\n\r\n            // Fetch event details using your API\r\n            const response = await fetch(`http://localhost:5251/api/events/${eventId}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                if (response.status === 404) {\r\n                    setError(t('loadError'));\r\n                    return;\r\n                }\r\n                throw new Error(t('loadError'));\r\n            }\r\n\r\n            const eventData = await response.json();\r\n            console.log('Loaded event data:', eventData);\r\n\r\n            // Helper function to format date for datetime-local input\r\n            const formatDateForInput = (dateValue: any) => {\r\n                if (!dateValue) return '';\r\n\r\n                try {\r\n                    const date = new Date(dateValue);\r\n                    if (isNaN(date.getTime())) return '';\r\n\r\n                    // Format to YYYY-MM-DDTHH:MM for datetime-local input\r\n                    const year = date.getFullYear();\r\n                    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n                    const day = String(date.getDate()).padStart(2, '0');\r\n                    const hours = String(date.getHours()).padStart(2, '0');\r\n                    const minutes = String(date.getMinutes()).padStart(2, '0');\r\n\r\n                    return `${year}-${month}-${day}T${hours}:${minutes}`;\r\n                } catch (error) {\r\n                    console.error('Error formatting date:', error);\r\n                    return '';\r\n                }\r\n            };\r\n\r\n            // In your loadEventData function, after setting formData:\r\n            setFormData({\r\n                title: eventData.title || '',\r\n                description: eventData.description || '',\r\n                eventDate: formatDateForInput(eventData.startDateTime || eventData.eventDate),\r\n                endDate: formatDateForInput(eventData.endDateTime),\r\n                location: eventData.location || '',\r\n                isOnline: eventData.isOnline || false,\r\n                maxCapacity: eventData.maxAttendees?.toString() || '',\r\n                categoryId: eventData.categoryId?.toString() || '',\r\n                venueId: eventData.venueId || null,\r\n                imageUrl: eventData.imageUrl || '',\r\n                registrationDeadline: formatDateForInput(eventData.registrationDeadline),\r\n                isPublished: eventData.isPublished || false\r\n            });\r\n\r\n\r\n\r\n            // Fetch ticket types for this event\r\n            await fetchTicketTypes();\r\n\r\n        } catch (error) {\r\n            console.error('Error loading event data:', error);\r\n            setError(t('loadError'));\r\n        } finally {\r\n            setInitialLoading(false);\r\n        }\r\n    };\r\n\r\n\r\n    const handleDragOver = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragging(true);\r\n    };\r\n\r\n    const handleDragLeave = (e: React.DragEvent) => {\r\n        e.preventDefault();\r\n        setIsDragging(false);\r\n    };\r\n\r\n    const handleDrop = async (e: React.DragEvent, type: 'banner' | 'image') => {\r\n        e.preventDefault();\r\n        setIsDragging(false);\r\n\r\n        const files = Array.from(e.dataTransfer.files);\r\n        const imageFile = files.find(file => file.type.startsWith('image/'));\r\n\r\n        if (imageFile) {\r\n            if (type === 'banner') {\r\n                await handleBannerFileChange({ target: { files: [imageFile] } } as any);\r\n            } else {\r\n                await handleImageFileChange({ target: { files: [imageFile] } } as any);\r\n            }\r\n        } else {\r\n            setError(t('invalidImageFile'));\r\n        }\r\n    };\r\n\r\n    const handleBannerFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (file) {\r\n            setError(''); // Clear previous errors\r\n\r\n            const validation = imageApi.validateImageFile(file);\r\n            if (!validation.isValid) {\r\n                setError(t('invalidImageFile') + ': ' + (validation.error || t('imageUploadFailed')));\r\n                return;\r\n            }\r\n\r\n            try {\r\n                setImageUploadLoading(true); // Show loading state during preview generation\r\n                setBannerFile(file);\r\n                const preview = await imageUtils.resizeImageForPreview(file, 800, 400);\r\n                setBannerPreview(preview);\r\n                setDeleteBanner(false);\r\n\r\n                // Show success message for file selection\r\n                setSuccess(t('imageUploadSuccess'));\r\n                setTimeout(() => setSuccess(''), 2000);\r\n            } catch (error) {\r\n                setError(t('imageProcessing') + ' ' + t('imageUploadFailed'));\r\n            } finally {\r\n                setImageUploadLoading(false);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleImageFileChange = async (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = e.target.files?.[0];\r\n        if (file) {\r\n            setError(''); // Clear previous errors\r\n\r\n            const validation = imageApi.validateImageFile(file);\r\n            if (!validation.isValid) {\r\n                setError(t('invalidImageFile') + ': ' + (validation.error || t('imageUploadFailed')));\r\n                return;\r\n            }\r\n\r\n            try {\r\n                setImageUploadLoading(true); // Show loading state during preview generation\r\n                setImageFile(file);\r\n                const preview = await imageUtils.resizeImageForPreview(file, 400, 300);\r\n                setImagePreview(preview);\r\n                setDeleteImage(false);\r\n\r\n                // Show success message for file selection\r\n                setSuccess(t('imageUploadSuccess'));\r\n                setTimeout(() => setSuccess(''), 2000);\r\n            } catch (error) {\r\n                setError(t('imageProcessing') + ' ' + t('imageUploadFailed'));\r\n            } finally {\r\n                setImageUploadLoading(false);\r\n            }\r\n        }\r\n    };\r\n\r\n\r\n    const handleDeleteBanner = () => {\r\n        setBannerFile(null);\r\n        setBannerPreview('');\r\n        setDeleteBanner(true);\r\n        const bannerInput = document.getElementById('banner-upload') as HTMLInputElement;\r\n        if (bannerInput) bannerInput.value = '';\r\n    };\r\n\r\n    const handleDeleteImage = () => {\r\n        setImageFile(null);\r\n        setImagePreview('');\r\n        setDeleteImage(true);\r\n        const imageInput = document.getElementById('image-upload') as HTMLInputElement;\r\n        if (imageInput) imageInput.value = '';\r\n    };\r\n\r\n    const fetchTicketTypes = async () => {\r\n        try {\r\n            const response = await fetch(`http://localhost:5251/api/tickets/event/${eventId}/ticket-types`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                }\r\n            });\r\n\r\n            if (response.ok) {\r\n                const ticketTypesData = await response.json();\r\n                console.log('Loaded ticket types:', ticketTypesData);\r\n\r\n                // Map API response to local format with smart editing fields\r\n                const mappedTicketTypes = ticketTypesData.map((tt: any) => ({\r\n                    ticketTypeId: tt.ticketTypeId,\r\n                    name: tt.name,\r\n                    price: tt.price,\r\n                    quantityAvailable: tt.quantityAvailable || tt.quantity,\r\n                    quantitySold: tt.quantitySold || 0,\r\n                    description: tt.description || '',\r\n                    isActive: tt.isActive,\r\n                    isEventPublished: tt.isEventPublished,\r\n                    eventStatus: tt.eventStatus,\r\n                    saleStartDate: tt.saleStartDate,\r\n                    saleEndDate: tt.saleEndDate,\r\n                    minQuantityPerOrder: tt.minQuantityPerOrder || 1,\r\n                    maxQuantityPerOrder: tt.maxQuantityPerOrder || 10,\r\n                    sortOrder: tt.sortOrder || 0\r\n                }));\r\n\r\n                setTicketTypes(mappedTicketTypes);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching ticket types:', error);\r\n            setTicketTypes([]);\r\n        }\r\n    };\r\n\r\n    const fetchInitialData = async () => {\r\n        try {\r\n            // Fetch categories\r\n            const categoriesResponse = await fetch('http://localhost:5251/api/categories', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                }\r\n            });\r\n\r\n            if (categoriesResponse.ok) {\r\n                const categoriesData = await categoriesResponse.json();\r\n                setCategories(categoriesData);\r\n            }\r\n\r\n            // Fetch venues\r\n            const venuesResponse = await fetch('http://localhost:5251/api/venues', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                }\r\n            });\r\n\r\n            if (venuesResponse.ok) {\r\n                const venuesData = await venuesResponse.json();\r\n                setVenues(venuesData);\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Error fetching initial data:', error);\r\n        }\r\n    };\r\n\r\n    // Smart editing logic for ticket types\r\n    const canEditTicketType = (ticketType: TicketType): { canEdit: boolean; reason: string } => {\r\n        // Check if event is published\r\n        if (ticketType.isEventPublished) {\r\n            return {\r\n                canEdit: false,\r\n                reason: t('salesDataIntegrity')\r\n            };\r\n        }\r\n\r\n        // Check if tickets have been sold\r\n        const ticketsSold = ticketType.quantitySold || 0;\r\n        if (ticketsSold > 0) {\r\n            return {\r\n                canEdit: false,\r\n                reason: t('ticketsSoldCount', { count: ticketsSold })\r\n            };\r\n        }\r\n\r\n        // Check if event is in draft status\r\n        if (ticketType.eventStatus && ticketType.eventStatus.toLowerCase() !== 'draft') {\r\n            return {\r\n                canEdit: false,\r\n                reason: t('eventStatusNotDraft')\r\n            };\r\n        }\r\n\r\n        return {\r\n            canEdit: true,\r\n            reason: t('safeToEdit')\r\n        };\r\n    };\r\n\r\n\r\n    const ImageDropZone = ({\r\n        type,\r\n        preview,\r\n        currentImage,\r\n        onFileSelect,\r\n        onDelete,\r\n        children\r\n    }: {\r\n        type: 'banner' | 'image';\r\n        preview: string;\r\n        currentImage: string;\r\n        onFileSelect: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n        onDelete: () => void;\r\n        children: React.ReactNode;\r\n    }) => (\r\n        <div\r\n            className={`relative ${isDragging ? 'border-blue-500 bg-blue-50 dark:bg-blue-900/20' : ''}`}\r\n            onDragOver={handleDragOver}\r\n            onDragLeave={handleDragLeave}\r\n            onDrop={(e) => handleDrop(e, type)}\r\n        >\r\n            {children}\r\n            {isDragging && (\r\n                <div className=\"absolute inset-0 border-2 border-dashed border-blue-500 bg-blue-50/50 dark:bg-blue-900/20 flex items-center justify-center rounded-lg\">\r\n                    <p className=\"text-blue-700 dark:text-blue-300 font-medium\">\r\n                        {t('dropImageHere')}\r\n                    </p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    const getEditingStatus = (ticketType: TicketType) => {\r\n        const { canEdit, reason } = canEditTicketType(ticketType);\r\n        const ticketsSold = ticketType.quantitySold || 0;\r\n\r\n        if (!canEdit) {\r\n            return {\r\n                status: 'locked',\r\n                icon: Lock,\r\n                color: 'text-red-600',\r\n                bgColor: 'bg-red-50 dark:bg-red-900/20',\r\n                borderColor: 'border-red-200 dark:border-red-800',\r\n                reason: reason\r\n            };\r\n        }\r\n\r\n        return {\r\n            status: 'editable',\r\n            icon: Edit,\r\n            color: 'text-green-600',\r\n            bgColor: 'bg-green-50 dark:bg-green-900/20',\r\n            borderColor: 'border-green-200 dark:border-green-800',\r\n            reason: t('safeToEdit')\r\n        };\r\n    };\r\n\r\n    const canCreateTicketTypes = (): { canCreate: boolean; reason: string } => {\r\n        // Check if event is published\r\n        if (formData.isPublished) {\r\n            return {\r\n                canCreate: false,\r\n                reason: t('salesDataIntegrity')\r\n            };\r\n        }\r\n\r\n        // Check if any tickets have been sold\r\n        const totalTicketsSold = ticketTypes.reduce((sum, tt) => sum + (tt.quantitySold || 0), 0);\r\n        if (totalTicketsSold > 0) {\r\n            return {\r\n                canCreate: false,\r\n                reason: t('cannotCreateTicketTypes', { count: totalTicketsSold })\r\n            };\r\n        }\r\n\r\n        return {\r\n            canCreate: true,\r\n            reason: t('safeToEdit')\r\n        };\r\n    };\r\n\r\n    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\r\n        const { name, value, type } = e.target;\r\n        const checked = (e.target as HTMLInputElement).checked;\r\n\r\n        setFormData(prev => ({\r\n            ...prev,\r\n            [name]: type === 'checkbox' ? checked : value\r\n        }));\r\n\r\n        // Clear error when field is updated\r\n        if (formErrors[name]) {\r\n            setFormErrors(prev => ({\r\n                ...prev,\r\n                [name]: ''\r\n            }));\r\n        }\r\n    };\r\n\r\n    const handleCreateTicketInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        const { name, value } = e.target;\r\n        setCreateTicketData(prev => ({ ...prev, [name]: value }));\r\n\r\n        if (ticketFormErrors[name]) {\r\n            setTicketFormErrors(prev => ({ ...prev, [name]: '' }));\r\n        }\r\n    };\r\n\r\n    const handleEditTicketInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\r\n        const { name, value } = e.target;\r\n        setEditTicketData(prev => ({ ...prev, [name]: value }));\r\n\r\n        if (ticketFormErrors[name]) {\r\n            setTicketFormErrors(prev => ({ ...prev, [name]: '' }));\r\n        }\r\n    };\r\n\r\n    const validateTicketForm = (data: CreateTicketTypeData) => {\r\n        const errors: Record<string, string> = {};\r\n\r\n        if (!data.name.trim()) errors.name = t('ticketTypeNameRequired');\r\n        if (!data.price || parseFloat(data.price) < 0) errors.price = t('priceRequired');\r\n        if (!data.quantityAvailable || parseInt(data.quantityAvailable) <= 0) errors.quantityAvailable = t('quantityGreaterThanZero');\r\n\r\n        setTicketFormErrors(errors);\r\n        return Object.keys(errors).length === 0;\r\n    };\r\n\r\n    const openCreateTicketForm = () => {\r\n        const { canCreate, reason } = canCreateTicketTypes();\r\n        if (!canCreate) {\r\n            setError(reason);\r\n            return;\r\n        }\r\n\r\n        setCreateTicketData({\r\n            name: '',\r\n            description: '',\r\n            price: '',\r\n            quantityAvailable: '',\r\n            saleStartDate: '',\r\n            saleEndDate: '',\r\n            minQuantityPerOrder: '1',\r\n            maxQuantityPerOrder: '10',\r\n            sortOrder: '0'\r\n        });\r\n        setShowCreateTicketForm(true);\r\n    };\r\n\r\n    const openEditTicketForm = (ticketType: TicketType) => {\r\n        const { canEdit, reason } = canEditTicketType(ticketType);\r\n        if (!canEdit) {\r\n            setError(reason);\r\n            return;\r\n        }\r\n\r\n        setEditingTicketType(ticketType);\r\n        setEditTicketData({\r\n            ticketTypeId: ticketType.ticketTypeId!,\r\n            name: ticketType.name,\r\n            description: ticketType.description,\r\n            price: ticketType.price.toString(),\r\n            quantityAvailable: ticketType.quantityAvailable.toString(),\r\n            saleStartDate: ticketType.saleStartDate || '',\r\n            saleEndDate: ticketType.saleEndDate || '',\r\n            minQuantityPerOrder: (ticketType.minQuantityPerOrder || 1).toString(),\r\n            maxQuantityPerOrder: (ticketType.maxQuantityPerOrder || 10).toString(),\r\n            sortOrder: (ticketType.sortOrder || 0).toString()\r\n        });\r\n        setShowEditTicketForm(true);\r\n    };\r\n\r\n    const handleCreateTicketType = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!validateTicketForm(createTicketData)) return;\r\n\r\n        setTicketFormLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            const payload = {\r\n                eventId: parseInt(eventId),\r\n                name: createTicketData.name.trim(),\r\n                description: createTicketData.description.trim() || null,\r\n                price: parseFloat(createTicketData.price),\r\n                quantityAvailable: parseInt(createTicketData.quantityAvailable),\r\n                saleStartDate: createTicketData.saleStartDate || null,\r\n                saleEndDate: createTicketData.saleEndDate || null,\r\n                minQuantityPerOrder: parseInt(createTicketData.minQuantityPerOrder),\r\n                maxQuantityPerOrder: parseInt(createTicketData.maxQuantityPerOrder),\r\n                sortOrder: parseInt(createTicketData.sortOrder)\r\n            };\r\n\r\n            const response = await fetch('http://localhost:5251/api/tickets/ticket-types', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (response.ok) {\r\n                setSuccess(t('ticketTypeCreatedSuccessfully'));\r\n                await fetchTicketTypes();\r\n                setShowCreateTicketForm(false);\r\n                setTimeout(() => setSuccess(''), 3000);\r\n            } else {\r\n                const errorData = await response.json();\r\n                setError(errorData.message || t('failedToCreateTicketType'));\r\n            }\r\n        } catch (error) {\r\n            setError(t('loadError'));\r\n        } finally {\r\n            setTicketFormLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleUpdateTicketType = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!validateTicketForm(editTicketData)) return;\r\n\r\n        setTicketFormLoading(true);\r\n        setError('');\r\n\r\n        try {\r\n            const payload = {\r\n                name: editTicketData.name.trim(),\r\n                description: editTicketData.description.trim() || null,\r\n                price: parseFloat(editTicketData.price),\r\n                quantityAvailable: parseInt(editTicketData.quantityAvailable),\r\n                saleStartDate: editTicketData.saleStartDate || null,\r\n                saleEndDate: editTicketData.saleEndDate || null,\r\n                minQuantityPerOrder: parseInt(editTicketData.minQuantityPerOrder),\r\n                maxQuantityPerOrder: parseInt(editTicketData.maxQuantityPerOrder),\r\n                sortOrder: parseInt(editTicketData.sortOrder)\r\n            };\r\n\r\n            const response = await fetch(`http://localhost:5251/api/tickets/ticket-types/${editTicketData.ticketTypeId}`, {\r\n                method: 'PUT',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                },\r\n                body: JSON.stringify(payload)\r\n            });\r\n\r\n            if (response.ok) {\r\n                setSuccess(t('ticketTypeUpdatedSuccessfully'));\r\n                await fetchTicketTypes();\r\n                setShowEditTicketForm(false);\r\n                setEditingTicketType(null);\r\n                setTimeout(() => setSuccess(''), 3000);\r\n            } else {\r\n                const errorData = await response.json();\r\n                setError(errorData.message || t('failedToUpdateTicketType'));\r\n            }\r\n        } catch (error) {\r\n            setError(t('loadError'));\r\n        } finally {\r\n            setTicketFormLoading(false);\r\n        }\r\n    };\r\n\r\n    // Helper function to check if event spans multiple days\r\n    const isMultiDayEvent = () => {\r\n        if (!formData.eventDate || !formData.endDate) return false;\r\n\r\n        const start = new Date(formData.eventDate);\r\n        const end = new Date(formData.endDate);\r\n\r\n        return start.toDateString() !== end.toDateString();\r\n    };\r\n\r\n    // Helper function to calculate event duration\r\n    const getEventDuration = () => {\r\n        if (!formData.eventDate || !formData.endDate) return null;\r\n\r\n        const start = new Date(formData.eventDate);\r\n        const end = new Date(formData.endDate);\r\n        const diffInMs = end.getTime() - start.getTime();\r\n        const diffInDays = Math.ceil(diffInMs / (1000 * 60 * 60 * 24));\r\n\r\n        return diffInDays > 0 ? diffInDays : null;\r\n    };\r\n\r\n    const validateForm = () => {\r\n        const errors: Record<string, string> = {};\r\n\r\n        if (!formData.title.trim()) {\r\n            errors.title = t('eventTitleRequired');\r\n        }\r\n\r\n        if (!formData.description.trim()) {\r\n            errors.description = t('descriptionRequired');\r\n        }\r\n\r\n        if (!formData.eventDate) {\r\n            errors.eventDate = t('startDateTimeRequired');\r\n        }\r\n\r\n        // Validate end date if provided\r\n        if (formData.endDate && formData.eventDate) {\r\n            const start = new Date(formData.eventDate);\r\n            const end = new Date(formData.endDate);\r\n\r\n            if (end <= start) {\r\n                errors.endDate = t('endDateAfterStart');\r\n            }\r\n        }\r\n\r\n        if (!formData.categoryId) {\r\n            errors.categoryId = t('categoryRequired');\r\n        }\r\n\r\n        if (!formData.isOnline && !formData.venueId) {\r\n            errors.venueId = t('venueRequired');\r\n        }\r\n\r\n        if (!formData.maxCapacity || parseInt(formData.maxCapacity) <= 0) {\r\n            errors.maxCapacity = t('maxCapacityRequired');\r\n        }\r\n\r\n        // Validate registration deadline\r\n        if (formData.registrationDeadline && formData.eventDate) {\r\n            const regDeadline = new Date(formData.registrationDeadline);\r\n            const eventStart = new Date(formData.eventDate);\r\n\r\n            if (regDeadline >= eventStart) {\r\n                errors.registrationDeadline = t('registrationDeadlineBeforeEvent');\r\n            }\r\n        }\r\n\r\n        setFormErrors(errors);\r\n        return Object.keys(errors).length === 0;\r\n    };\r\n\r\n    const handleSubmit = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n\r\n        if (!validateForm()) {\r\n            setError(t('fixErrorsBelow'));\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setImageUploadLoading(true);\r\n        setError('');\r\n        setSuccess('');\r\n\r\n        try {\r\n            const eventPayload = {\r\n                title: formData.title,\r\n                description: formData.description,\r\n                shortDescription: undefined, // Changed from null to undefined\r\n                startDateTime: formData.eventDate,\r\n                endDateTime: formData.endDate || undefined, // Changed from null to undefined\r\n                categoryId: parseInt(formData.categoryId),\r\n                venueId: formData.isOnline ? undefined : parseInt(formData.venueId?.toString() || '0'), // Changed from null to undefined\r\n                imageUrl: formData.imageUrl || undefined, // Changed from null to undefined\r\n                bannerImageUrl: undefined, // Changed from null to undefined\r\n                tags: undefined, // Changed from null to undefined\r\n                maxAttendees: parseInt(formData.maxCapacity),\r\n                basePrice: 0,\r\n                currency: \"USD\",\r\n                isOnline: formData.isOnline,\r\n                onlineUrl: undefined // Changed from null to undefined\r\n            };\r\n\r\n            console.log('Updating event with images:', eventPayload);\r\n\r\n            // Enhanced error handling for image uploads\r\n            try {\r\n                const updatedEvent = await eventsApi.updateEventWithImages(\r\n                    parseInt(eventId),\r\n                    eventPayload,\r\n                    bannerFile || undefined,\r\n                    imageFile || undefined,\r\n                    deleteBanner,\r\n                    deleteImage\r\n                );\r\n\r\n                console.log('Event updated successfully:', updatedEvent);\r\n                setSuccess(t('eventUpdatedSuccessfully'));\r\n\r\n                setTimeout(() => {\r\n                    router.push(`/organizer/events`);\r\n                }, 2000);\r\n            } catch (imageError: any) {\r\n                // Handle specific image upload errors\r\n                if (imageError.message.includes('banner')) {\r\n                    setError(t('bannerImage') + ' ' + t('imageUploadFailed') + ': ' + imageError.message);\r\n                } else if (imageError.message.includes('image')) {\r\n                    setError(t('eventImage') + ' ' + t('imageUploadFailed') + ': ' + imageError.message);\r\n                } else {\r\n                    setError(t('imageUploadFailed') + ': ' + imageError.message);\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Error updating event:', error);\r\n            setError(error instanceof Error ? error.message : t('failedToUpdateEvent'));\r\n        } finally {\r\n            setLoading(false);\r\n            setImageUploadLoading(false);\r\n        }\r\n    };\r\n\r\n    if (!user || !isOrganizer) {\r\n        return (\r\n            <div className={`min-h-screen ${themeClasses.background} flex items-center justify-center`}>\r\n                <div className=\"text-center\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n                    <p className={`mt-4 ${themeClasses.textMuted}`}>{t('loading')}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (initialLoading) {\r\n        return (\r\n            <div className={`min-h-screen ${themeClasses.background} flex items-center justify-center`}>\r\n                <div className=\"text-center\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n                    <p className={`mt-4 ${themeClasses.textMuted}`}>{t('loading')}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const eventDuration = getEventDuration();\r\n    const { canCreate } = canCreateTicketTypes();\r\n    const editableTickets = ticketTypes.filter(tt => canEditTicketType(tt).canEdit).length;\r\n    const lockedTickets = ticketTypes.length - editableTickets;\r\n\r\n    return (\r\n        <div className={`min-h-screen ${themeClasses.background}`}>\r\n            <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                {/* Header */}\r\n                <div className=\"mb-8\">\r\n                    <button\r\n                        onClick={() => router.back()}\r\n                        className={`flex items-center ${themeClasses.textMuted} hover:${themeClasses.text} mb-4`}\r\n                    >\r\n                        <ArrowLeft className=\"h-4 w-4 mr-2\" />\r\n                        {t('back')} to {t('events')}\r\n                    </button>\r\n                    <h1 className={`text-3xl font-bold ${themeClasses.text}`}>{t('editEvent')}</h1>\r\n                    <p className={`${themeClasses.textMuted} mt-1`}>{t('updateEventDetails')}</p>\r\n\r\n                    {/* Show event duration if multi-day */}\r\n                    {eventDuration && eventDuration > 1 && (\r\n                        <div className=\"mt-2 inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300\">\r\n                            <Clock className=\"h-4 w-4 mr-1\" />\r\n                            {t('dayEvent', { count: eventDuration })}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                <div className={`${themeClasses.card} rounded-lg shadow-sm ${themeClasses.border} border`}>\r\n                    {/* Success/Error Messages */}\r\n                    {success && (\r\n                        <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border-b border-green-200 dark:border-green-800\">\r\n                            <div className=\"flex items-center\">\r\n                                <div className=\"flex-shrink-0\">\r\n                                    <svg className=\"h-5 w-5 text-green-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                                        <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\" clipRule=\"evenodd\" />\r\n                                    </svg>\r\n                                </div>\r\n                                <div className=\"ml-3\">\r\n                                    <p className=\"text-sm text-green-700 dark:text-green-300\">{success}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {error && (\r\n                        <div className=\"p-4 bg-red-50 dark:bg-red-900/20 border-b border-red-200 dark:border-red-800\">\r\n                            <div className=\"flex items-center\">\r\n                                <AlertCircle className=\"h-5 w-5 text-red-400 flex-shrink-0\" />\r\n                                <div className=\"ml-3\">\r\n                                    <p className=\"text-sm text-red-700 dark:text-red-400\">{error}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    <form onSubmit={handleSubmit} className=\"p-6 space-y-8\">\r\n                        {/* Basic Information */}\r\n                        <div>\r\n                            <h2 className={`text-lg font-semibold ${themeClasses.text} mb-4`}>{t('basicInformation')}</h2>\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                <div className=\"md:col-span-2\">\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('eventTitle')} *\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"title\"\r\n                                        value={formData.title}\r\n                                        onChange={handleInputChange}\r\n                                        className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${formErrors.title ? 'border-red-500' : ''}`}\r\n                                        placeholder={t('enterEventTitle')}\r\n                                    />\r\n                                    {formErrors.title && <p className=\"text-red-500 text-sm mt-1\">{formErrors.title}</p>}\r\n                                </div>\r\n\r\n                                <div className=\"md:col-span-2\">\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('eventDescription')} *\r\n                                    </label>\r\n                                    <textarea\r\n                                        name=\"description\"\r\n                                        value={formData.description}\r\n                                        onChange={handleInputChange}\r\n                                        rows={4}\r\n                                        className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${formErrors.description ? 'border-red-500' : ''}`}\r\n                                        placeholder={t('describeEventDetail')}\r\n                                    />\r\n                                    {formErrors.description && <p className=\"text-red-500 text-sm mt-1\">{formErrors.description}</p>}\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('category')} *\r\n                                    </label>\r\n                                    <select\r\n                                        name=\"categoryId\"\r\n                                        value={formData.categoryId}\r\n                                        onChange={handleInputChange}\r\n                                        className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${formErrors.categoryId ? 'border-red-500' : ''}`}\r\n                                    >\r\n                                        <option value=\"\" className={themeClasses.textMuted}>{t('selectCategory')}</option>\r\n                                        {categories.map(category => (\r\n                                            <option key={category.categoryId} value={category.categoryId} className={themeClasses.text}>\r\n                                                {category.name}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                    {formErrors.categoryId && <p className=\"text-red-500 text-sm mt-1\">{formErrors.categoryId}</p>}\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('maxCapacity')} *\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"number\"\r\n                                        name=\"maxCapacity\"\r\n                                        value={formData.maxCapacity}\r\n                                        onChange={handleInputChange}\r\n                                        min=\"1\"\r\n                                        className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${formErrors.maxCapacity ? 'border-red-500' : ''}`}\r\n                                        placeholder={t('maximumAttendees')}\r\n                                    />\r\n                                    {formErrors.maxCapacity && <p className=\"text-red-500 text-sm mt-1\">{formErrors.maxCapacity}</p>}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Event Images Section - AFTER (translated) */}\r\n                        <div>\r\n                            <h2 className={`text-lg font-semibold ${themeClasses.text} mb-4`}>{t('eventImages')}</h2>\r\n\r\n                            <div className=\"space-y-6\">\r\n                                <div>\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('bannerImage')}\r\n                                    </label>\r\n                                    <p className={`text-xs ${themeClasses.textMuted} mb-3`}>\r\n                                        {t('bannerImageDescription')}\r\n                                    </p>\r\n\r\n                                    <div className=\"mb-4\">\r\n                                        {bannerPreview ? (\r\n                                            <div className=\"relative\">\r\n                                                <img\r\n                                                    src={bannerPreview}\r\n                                                    alt={t('imagePreview')}\r\n                                                    className=\"w-full h-48 object-cover rounded-lg border\"\r\n                                                />\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={handleDeleteBanner}\r\n                                                    className=\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600\"\r\n                                                    title={t('removeImage')}\r\n                                                >\r\n                                                    <X className=\"h-4 w-4\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        ) : formData.imageUrl && !deleteBanner ? (\r\n                                            <div className=\"relative\">\r\n                                                <img\r\n                                                    src={imageUtils.getImageWithFallback(formData.imageUrl, 'event-banner')}\r\n                                                    alt={t('bannerImage')}\r\n                                                    className=\"w-full h-48 object-cover rounded-lg border\"\r\n                                                />\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={handleDeleteBanner}\r\n                                                    className=\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600\"\r\n                                                    title={t('removeImage')}\r\n                                                >\r\n                                                    <X className=\"h-4 w-4\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className={`w-full h-48 ${themeClasses.border} border-2 border-dashed rounded-lg flex items-center justify-center ${themeClasses.textMuted}`}>\r\n                                                <div className=\"text-center\">\r\n                                                    <Globe className=\"h-12 w-12 mx-auto mb-2\" />\r\n                                                    <p>{t('noBannerImage')}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <input\r\n                                        id=\"banner-upload\"\r\n                                        type=\"file\"\r\n                                        accept=\"image/*\"\r\n                                        onChange={handleBannerFileChange}\r\n                                        className=\"hidden\"\r\n                                        aria-label={t('selectImageFile')}\r\n                                    />\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => document.getElementById('banner-upload')?.click()}\r\n                                        className={`flex items-center px-4 py-2 ${themeClasses.border} border rounded-lg ${themeClasses.text} ${themeClasses.hover} transition-colors`}\r\n                                    >\r\n                                        <Plus className=\"h-4 w-4 mr-2\" />\r\n                                        {bannerPreview || formData.imageUrl ? t('changeBanner') : t('uploadBanner')}\r\n                                    </button>\r\n                                </div>\r\n\r\n                                {/* Event Image Section */}\r\n                                <div>\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('eventImage')}\r\n                                    </label>\r\n                                    <p className={`text-xs ${themeClasses.textMuted} mb-3`}>\r\n                                        {t('eventImageDescription')}\r\n                                    </p>\r\n\r\n                                    <div className=\"mb-4\">\r\n                                        {imagePreview ? (\r\n                                            <div className=\"relative inline-block\">\r\n                                                <img\r\n                                                    src={imagePreview}\r\n                                                    alt={t('imagePreview')}\r\n                                                    className=\"w-64 h-48 object-cover rounded-lg border\"\r\n                                                />\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={handleDeleteImage}\r\n                                                    className=\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600\"\r\n                                                    title={t('removeImage')}\r\n                                                >\r\n                                                    <X className=\"h-4 w-4\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        ) : formData.imageUrl && !deleteImage ? (\r\n                                            <div className=\"relative inline-block\">\r\n                                                <img\r\n                                                    src={imageUtils.getImageWithFallback(formData.imageUrl, 'event-image')}\r\n                                                    alt={t('eventImage')}\r\n                                                    className=\"w-64 h-48 object-cover rounded-lg border\"\r\n                                                />\r\n                                                <button\r\n                                                    type=\"button\"\r\n                                                    onClick={handleDeleteImage}\r\n                                                    className=\"absolute top-2 right-2 p-1 bg-red-500 text-white rounded-full hover:bg-red-600\"\r\n                                                    title={t('removeImage')}\r\n                                                >\r\n                                                    <X className=\"h-4 w-4\" />\r\n                                                </button>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <div className={`w-64 h-48 ${themeClasses.border} border-2 border-dashed rounded-lg flex items-center justify-center ${themeClasses.textMuted}`}>\r\n                                                <div className=\"text-center\">\r\n                                                    <Calendar className=\"h-8 w-8 mx-auto mb-2\" />\r\n                                                    <p className=\"text-sm\">{t('noEventImage')}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n\r\n                                    <input\r\n                                        id=\"image-upload\"\r\n                                        type=\"file\"\r\n                                        accept=\"image/*\"\r\n                                        onChange={handleImageFileChange}\r\n                                        className=\"hidden\"\r\n                                        aria-label={t('selectImageFile')}\r\n                                    />\r\n                                    <button\r\n                                        type=\"button\"\r\n                                        onClick={() => document.getElementById('image-upload')?.click()}\r\n                                        className={`flex items-center px-4 py-2 ${themeClasses.border} border rounded-lg ${themeClasses.text} ${themeClasses.hover} transition-colors`}\r\n                                    >\r\n                                        <Plus className=\"h-4 w-4 mr-2\" />\r\n                                        {imagePreview || formData.imageUrl ? t('changeImage') : t('uploadImage')}\r\n                                    </button>\r\n                                </div>\r\n\r\n                                {/* Image Upload Progress */}\r\n                                {imageUploadLoading && (\r\n                                    <div className=\"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\r\n                                        <div className=\"flex items-center\">\r\n                                            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-3\"></div>\r\n                                            <span className=\"text-sm text-blue-700 dark:text-blue-300\">{t('uploadingImages')}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Image Guidelines */}\r\n                                <div className=\"p-4 bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-800 rounded-lg\">\r\n                                    <h4 className={`text-sm font-medium ${themeClasses.text} mb-2`}>{t('imageGuidelines')}</h4>\r\n                                    <ul className={`text-xs ${themeClasses.textMuted} space-y-1`}>\r\n                                        <li> {t('supportedFormats')}: JPEG, PNG, WebP, GIF</li>\r\n                                        <li> {t('maxFileSize')}: 5MB</li>\r\n                                        <li> {t('bannerRecommended')}: 1200x400px (3:1 ratio)</li>\r\n                                        <li> {t('imageRecommended')}: 400x300px (4:3 ratio)</li>\r\n                                    </ul>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        {/* Date & Time */}\r\n                        <div>\r\n                            <h2 className={`text-lg font-semibold ${themeClasses.text} mb-4`}>{t('dateTime')}</h2>\r\n\r\n                            {/* Date Range Preview */}\r\n                            {formData.eventDate && formData.endDate && isMultiDayEvent() && (\r\n                                <div className=\"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <Calendar className=\"h-4 w-4 text-blue-600 dark:text-blue-400 mr-2\" />\r\n                                        <span className=\"text-sm text-blue-700 dark:text-blue-300 font-medium\">\r\n                                            {t('multiDayEvent', { count: eventDuration })}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                                <div>\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('startDateTime')} *\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"datetime-local\"\r\n                                        name=\"eventDate\"\r\n                                        value={formData.eventDate}\r\n                                        onChange={handleInputChange}\r\n                                        className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${formErrors.eventDate ? 'border-red-500' : ''}`}\r\n                                    />\r\n                                    {formErrors.eventDate && <p className=\"text-red-500 text-sm mt-1\">{formErrors.eventDate}</p>}\r\n                                </div>\r\n\r\n                                <div>\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('endDateTime')}\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"datetime-local\"\r\n                                        name=\"endDate\"\r\n                                        value={formData.endDate}\r\n                                        onChange={handleInputChange}\r\n                                        className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${formErrors.endDate ? 'border-red-500' : ''}`}\r\n                                    />\r\n                                    {formErrors.endDate && <p className=\"text-red-500 text-sm mt-1\">{formErrors.endDate}</p>}\r\n                                    <p className={`text-xs ${themeClasses.textMuted} mt-1`}>\r\n                                        {t('leaveEmptySingleSession')}\r\n                                    </p>\r\n                                </div>\r\n\r\n                                <div className=\"md:col-span-2\">\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('registrationDeadline')}\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"datetime-local\"\r\n                                        name=\"registrationDeadline\"\r\n                                        value={formData.registrationDeadline}\r\n                                        onChange={handleInputChange}\r\n                                        className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${formErrors.registrationDeadline ? 'border-red-500' : ''}`}\r\n                                    />\r\n                                    {formErrors.registrationDeadline && <p className=\"text-red-500 text-sm mt-1\">{formErrors.registrationDeadline}</p>}\r\n                                    <p className={`text-xs ${themeClasses.textMuted} mt-1`}>\r\n                                        {t('whenRegistrationClose')}\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Location */}\r\n                        <div>\r\n                            <h2 className={`text-lg font-semibold ${themeClasses.text} mb-4`}>{t('location')}</h2>\r\n                            <div className=\"space-y-4\">\r\n                                <div className=\"flex items-center\">\r\n                                    <input\r\n                                        type=\"checkbox\"\r\n                                        name=\"isOnline\"\r\n                                        checked={formData.isOnline}\r\n                                        onChange={handleInputChange}\r\n                                        className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                    />\r\n                                    <label className={`ml-2 text-sm ${themeClasses.text}`}>\r\n                                        {t('onlineEvent')}\r\n                                    </label>\r\n                                </div>\r\n\r\n                                {!formData.isOnline && (\r\n                                    <div>\r\n                                        <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                            {t('venue')} *\r\n                                        </label>\r\n                                        <select\r\n                                            name=\"venueId\"\r\n                                            value={formData.venueId || ''}\r\n                                            onChange={handleInputChange}\r\n                                            className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${formErrors.venueId ? 'border-red-500' : ''}`}\r\n                                        >\r\n                                            <option value=\"\" className={themeClasses.textMuted}>{t('selectVenue')}</option>\r\n                                            {venues.map(venue => (\r\n                                                <option key={venue.venueId} value={venue.venueId} className={themeClasses.text}>\r\n                                                    {t('venueWithCapacity', { name: venue.name, city: venue.city, capacity: venue.capacity })}\r\n                                                </option>\r\n                                            ))}\r\n                                        </select>\r\n                                        {formErrors.venueId && <p className=\"text-red-500 text-sm mt-1\">{formErrors.venueId}</p>}\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div>\r\n                                    <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                        {t('locationDetails')}\r\n                                    </label>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        name=\"location\"\r\n                                        value={formData.location}\r\n                                        onChange={handleInputChange}\r\n                                        className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text}`}\r\n                                        placeholder={formData.isOnline ? t('meetingLinkPlatform') : t('additionalLocationInfo')}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Enhanced Ticket Types Section */}\r\n                        <div>\r\n                            <div className=\"flex justify-between items-center mb-4\">\r\n                                <h2 className={`text-lg font-semibold ${themeClasses.text}`}>{t('ticketTypes')}</h2>\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={openCreateTicketForm}\r\n                                    disabled={!canCreate}\r\n                                    className={`flex items-center px-4 py-2 rounded-lg text-sm transition-colors ${canCreate\r\n                                        ? 'bg-blue-600 text-white hover:bg-blue-700'\r\n                                        : 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                                        }`}\r\n                                    title={canCreate ? t('addTicketType') : t('cannotCreateTicketTypes')}\r\n                                >\r\n                                    <Plus className=\"h-4 w-4 mr-2\" />\r\n                                    {t('addTicketType')}\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Smart Editing Rules Notice */}\r\n                            <div className=\"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg\">\r\n                                <h3 className=\"text-sm font-medium text-blue-800 dark:text-blue-200 mb-2\">{t('smartTicketEditing')}</h3>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 text-xs text-blue-700 dark:text-blue-300\">\r\n                                    <div>\r\n                                        <p className=\"font-medium mb-1\">{t('whenCanEdit')}</p>\r\n                                        <ul className=\"space-y-1\">\r\n                                            <li>{t('eventDraftStatus')}</li>\r\n                                            <li>{t('noTicketsSold')}</li>\r\n                                            <li>{t('eventNotPublished')}</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                    <div>\r\n                                        <p className=\"font-medium mb-1\">{t('whenEditingLocked')}</p>\r\n                                        <ul className=\"space-y-1\">\r\n                                            <li>{t('eventIsPublished')}</li>\r\n                                            <li>{t('ticketsAlreadySold')}</li>\r\n                                            <li>{t('eventStatusNotDraft')}</li>\r\n                                        </ul>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Ticket Types Stats */}\r\n                            <div className=\"grid grid-cols-3 gap-4 mb-6\">\r\n                                <div className={`${themeClasses.card} p-4 rounded-lg ${themeClasses.border} border`}>\r\n                                    <div className={`text-2xl font-bold ${themeClasses.text}`}>{ticketTypes.length}</div>\r\n                                    <div className={`text-sm ${themeClasses.textMuted}`}>{t('totalTypes')}</div>\r\n                                </div>\r\n                                <div className={`${themeClasses.card} p-4 rounded-lg border-green-200 dark:border-green-800 border`}>\r\n                                    <div className=\"text-2xl font-bold text-green-600 dark:text-green-400\">{editableTickets}</div>\r\n                                    <div className={`text-sm ${themeClasses.textMuted}`}>{t('editable')}</div>\r\n                                </div>\r\n                                <div className={`${themeClasses.card} p-4 rounded-lg border-red-200 dark:border-red-800 border`}>\r\n                                    <div className=\"text-2xl font-bold text-red-600 dark:text-red-400\">{lockedTickets}</div>\r\n                                    <div className={`text-sm ${themeClasses.textMuted}`}>{t('locked')}</div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {ticketTypes.length === 0 ? (\r\n                                <div className={`text-center py-8 ${themeClasses.border} border rounded-lg ${themeClasses.isDark ? 'bg-gray-800' : 'bg-gray-50'}`}>\r\n                                    <Users className={`h-12 w-12 ${themeClasses.textMuted} mx-auto mb-4`} />\r\n                                    <h3 className={`text-lg font-medium ${themeClasses.text} mb-2`}>{t('noTicketTypesYet')}</h3>\r\n                                    <p className={`${themeClasses.textMuted} mb-4`}>{t('addTicketTypesToStart')}</p>\r\n                                    {canCreate && (\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={openCreateTicketForm}\r\n                                            className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n                                        >\r\n                                            <Plus className=\"h-4 w-4 mr-2\" />\r\n                                            {t('createFirstTicketType')}\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"space-y-4\">\r\n                                    {ticketTypes.map((ticket, index) => {\r\n                                        const editStatus = getEditingStatus(ticket);\r\n                                        const { canEdit } = canEditTicketType(ticket);\r\n\r\n                                        return (\r\n                                            <div key={ticket.ticketTypeId || index} className={`p-6 ${themeClasses.border} border rounded-lg ${themeClasses.card}`}>\r\n                                                <div className=\"flex justify-between items-start\">\r\n                                                    <div className=\"flex-1\">\r\n                                                        <div className=\"flex items-center space-x-3 mb-3\">\r\n                                                            <h3 className={`text-lg font-medium ${themeClasses.text}`}>\r\n                                                                {ticket.name || `${t('ticketTypeName')} ${index + 1}`}\r\n                                                            </h3>\r\n                                                            <div className={`px-2 py-1 rounded-full text-xs font-medium ${editStatus.bgColor} ${editStatus.borderColor} border`}>\r\n                                                                <div className=\"flex items-center\">\r\n                                                                    <editStatus.icon className={`h-3 w-3 ${editStatus.color} mr-1`} />\r\n                                                                    <span className={editStatus.color}>\r\n                                                                        {canEdit ? t('editable') : t('locked')}\r\n                                                                    </span>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        {ticket.description && (\r\n                                                            <p className={`${themeClasses.textMuted} mb-4`}>{ticket.description}</p>\r\n                                                        )}\r\n\r\n                                                        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm\">\r\n                                                            <div>\r\n                                                                <span className={`font-medium ${themeClasses.textMuted}`}>{t('price')}:</span>\r\n                                                                <p className={`${themeClasses.text} font-medium`}>RM {ticket.price}</p>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <span className={`font-medium ${themeClasses.textMuted}`}>{t('quantity')}:</span>\r\n                                                                <p className={themeClasses.text}>{ticket.quantityAvailable}</p>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <span className={`font-medium ${themeClasses.textMuted}`}>{t('ticketsSold')}:</span>\r\n                                                                <p className={`font-medium ${ticket.quantitySold > 0 ? 'text-blue-600 dark:text-blue-400' : themeClasses.text}`}>\r\n                                                                    {ticket.quantitySold}\r\n                                                                </p>\r\n                                                            </div>\r\n                                                            <div>\r\n                                                                <span className={`font-medium ${themeClasses.textMuted}`}>Status:</span>\r\n                                                                <p className={themeClasses.text}>{ticket.isActive ? 'Active' : 'Inactive'}</p>\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        {/* Progress bar for sales */}\r\n                                                        <div className=\"mt-4\">\r\n                                                            <div className={`w-full ${themeClasses.isDark ? 'bg-gray-700' : 'bg-gray-200'} rounded-full h-2`}>\r\n                                                                <div\r\n                                                                    className={`h-2 rounded-full ${ticket.quantitySold > 0 ? 'bg-blue-600' : 'bg-gray-400'}`}\r\n                                                                    style={{\r\n                                                                        width: `${(ticket.quantitySold / ticket.quantityAvailable) * 100}%`\r\n                                                                    }}\r\n                                                                ></div>\r\n                                                            </div>\r\n                                                            <p className={`text-xs ${themeClasses.textMuted} mt-1`}>\r\n                                                                {ticket.quantityAvailable - ticket.quantitySold} remaining\r\n                                                            </p>\r\n                                                        </div>\r\n\r\n                                                        {/* Edit status explanation */}\r\n                                                        <div className={`mt-4 text-xs ${themeClasses.textMuted}`}>\r\n                                                            <strong>Edit Status:</strong> {editStatus.reason}\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"ml-4\">\r\n                                                        <button\r\n                                                            type=\"button\"\r\n                                                            onClick={() => openEditTicketForm(ticket)}\r\n                                                            disabled={!canEdit}\r\n                                                            className={`p-2 rounded-lg transition-colors ${canEdit\r\n                                                                ? 'text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 cursor-pointer'\r\n                                                                : `${themeClasses.textMuted} cursor-not-allowed ${themeClasses.isDark ? 'bg-gray-800' : 'bg-gray-50'}`\r\n                                                                }`}\r\n                                                            title={canEdit ? t('editTicketType') : editStatus.reason}\r\n                                                        >\r\n                                                            {canEdit ? <Edit className=\"h-5 w-5\" /> : <Lock className=\"h-5 w-5\" />}\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* Publishing Options */}\r\n                        <div>\r\n                            <h2 className={`text-lg font-semibold ${themeClasses.text} mb-4`}>{t('publishingOptions')}</h2>\r\n                            <div className=\"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4\">\r\n                                <p className=\"text-sm text-yellow-700 dark:text-yellow-300\">\r\n                                    <strong>Note:</strong> {t('usePublishButtons')}\r\n                                </p>\r\n                            </div>\r\n                            <div className=\"flex items-center\">\r\n                                <input\r\n                                    type=\"checkbox\"\r\n                                    name=\"isPublished\"\r\n                                    checked={formData.isPublished}\r\n                                    onChange={handleInputChange}\r\n                                    className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\r\n                                    disabled\r\n                                />\r\n                                <label className={`ml-2 text-sm ${themeClasses.textMuted}`}>\r\n                                    {t('published')} ({t('makeVisiblePublic')}) - {formData.isPublished ? t('currentlyPublished') : t('currentlyUnpublished')}\r\n                                </label>\r\n                            </div>\r\n                            <p className={`text-xs ${themeClasses.textMuted} mt-1`}>\r\n                                {t('usePublishButtons')}\r\n                            </p>\r\n                        </div>\r\n\r\n                        {/* Action Buttons */}\r\n                        <div className={`flex justify-end space-x-4 pt-6 border-t ${themeClasses.border}`}>\r\n                            <button\r\n                                type=\"button\"\r\n                                onClick={() => router.back()}\r\n                                className={`px-6 py-2 ${themeClasses.border} border ${themeClasses.text} rounded-lg ${themeClasses.hover} transition-colors`}\r\n                                disabled={loading}\r\n                            >\r\n                                {t('cancel')}\r\n                            </button>\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={loading}\r\n                                className=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                            >\r\n                                {loading ? (\r\n                                    <>\r\n                                        <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                                        {t('updatingEvent')}\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <Save className=\"h-4 w-4 mr-2\" />\r\n                                        {t('update')} {t('events')}\r\n                                    </>\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                {/* Create Ticket Type Modal */}\r\n                {showCreateTicketForm && (\r\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n                        <div className={`${themeClasses.card} rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto`}>\r\n                            <div className=\"p-6\">\r\n                                <div className=\"flex justify-between items-center mb-6\">\r\n                                    <h2 className={`text-xl font-semibold ${themeClasses.text}`}>{t('createTicketType')}</h2>\r\n                                    <button\r\n                                        onClick={() => setShowCreateTicketForm(false)}\r\n                                        className={`${themeClasses.textMuted} hover:${themeClasses.text}`}\r\n                                    >\r\n                                        <X className=\"h-6 w-6\" />\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <form onSubmit={handleCreateTicketType} className=\"space-y-4\">\r\n                                    <div>\r\n                                        <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                            {t('ticketTypeName')} *\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"name\"\r\n                                            value={createTicketData.name}\r\n                                            onChange={handleCreateTicketInputChange}\r\n                                            className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${ticketFormErrors.name ? 'border-red-500' : ''}`}\r\n                                            placeholder=\"e.g., General Admission, VIP, Early Bird\"\r\n                                        />\r\n                                        {ticketFormErrors.name && <p className=\"text-red-500 text-sm mt-1\">{ticketFormErrors.name}</p>}\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                            {t('ticketDescription')}\r\n                                        </label>\r\n                                        <textarea\r\n                                            name=\"description\"\r\n                                            value={createTicketData.description}\r\n                                            onChange={handleCreateTicketInputChange}\r\n                                            rows={3}\r\n                                            className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text}`}\r\n                                            placeholder={t('optionalTicketDescription')}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                        <div>\r\n                                            <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                                {t('price')} *\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"price\"\r\n                                                value={createTicketData.price}\r\n                                                onChange={handleCreateTicketInputChange}\r\n                                                min=\"0\"\r\n                                                step=\"0.01\"\r\n                                                className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${ticketFormErrors.price ? 'border-red-500' : ''}`}\r\n                                                placeholder=\"0.00\"\r\n                                            />\r\n                                            {ticketFormErrors.price && <p className=\"text-red-500 text-sm mt-1\">{ticketFormErrors.price}</p>}\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                                {t('quantity')} *\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"quantityAvailable\"\r\n                                                value={createTicketData.quantityAvailable}\r\n                                                onChange={handleCreateTicketInputChange}\r\n                                                min=\"1\"\r\n                                                className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${ticketFormErrors.quantityAvailable ? 'border-red-500' : ''}`}\r\n                                                placeholder={t('quantity')}\r\n                                            />\r\n                                            {ticketFormErrors.quantityAvailable && <p className=\"text-red-500 text-sm mt-1\">{ticketFormErrors.quantityAvailable}</p>}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className={`flex justify-end space-x-4 pt-6 border-t ${themeClasses.border}`}>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => setShowCreateTicketForm(false)}\r\n                                            className={`px-6 py-2 ${themeClasses.border} border ${themeClasses.text} rounded-lg ${themeClasses.hover} transition-colors`}\r\n                                        >\r\n                                            {t('cancel')}\r\n                                        </button>\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            disabled={ticketFormLoading}\r\n                                            className=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                                        >\r\n                                            {ticketFormLoading ? (\r\n                                                <>\r\n                                                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                                                    {t('loading')}...\r\n                                                </>\r\n                                            ) : (\r\n                                                <>\r\n                                                    <Save className=\"h-4 w-4 mr-2\" />\r\n                                                    {t('createTicketType')}\r\n                                                </>\r\n                                            )}\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Edit Ticket Type Modal */}\r\n                {showEditTicketForm && editingTicketType && (\r\n                    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n                        <div className={`${themeClasses.card} rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto`}>\r\n                            <div className=\"p-6\">\r\n                                <div className=\"flex justify-between items-center mb-6\">\r\n                                    <h2 className={`text-xl font-semibold ${themeClasses.text}`}>{t('editTicketType')}</h2>\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            setShowEditTicketForm(false);\r\n                                            setEditingTicketType(null);\r\n                                        }}\r\n                                        className={`${themeClasses.textMuted} hover:${themeClasses.text}`}\r\n                                    >\r\n                                        <X className=\"h-6 w-6\" />\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <form onSubmit={async (e) => {\r\n                                    e.preventDefault();\r\n                                    try {\r\n                                        await handleUpdateTicketType(e);\r\n                                        // Redirect to events page after successful update\r\n                                        window.location.href = 'http://localhost:3000/organizer/events';\r\n                                    } catch (error) {\r\n                                        // Handle error if needed - the form will show error messages\r\n                                        console.error('Update failed:', error);\r\n                                    }\r\n                                }} className=\"space-y-4\">\r\n                                    {/* Safe Edit Notice */}\r\n                                    <div className=\"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\r\n                                        <h4 className=\"text-sm font-medium text-green-800 dark:text-green-200 mb-2\"> {t('safeToEdit')}</h4>\r\n                                        <p className=\"text-xs text-green-700 dark:text-green-300\">\r\n                                            {t('safeToEdit')} - {t('noTicketsSold')} {t('eventDraftStatus')}.\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                            {t('ticketTypeName')} *\r\n                                        </label>\r\n                                        <input\r\n                                            type=\"text\"\r\n                                            name=\"name\"\r\n                                            value={editTicketData.name}\r\n                                            onChange={handleEditTicketInputChange}\r\n                                            className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${ticketFormErrors.name ? 'border-red-500' : ''}`}\r\n                                            placeholder=\"e.g., General Admission, VIP, Early Bird\"\r\n                                        />\r\n                                        {ticketFormErrors.name && <p className=\"text-red-500 text-sm mt-1\">{ticketFormErrors.name}</p>}\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                            {t('ticketDescription')}\r\n                                        </label>\r\n                                        <textarea\r\n                                            name=\"description\"\r\n                                            value={editTicketData.description}\r\n                                            onChange={handleEditTicketInputChange}\r\n                                            rows={3}\r\n                                            className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text}`}\r\n                                            placeholder={t('optionalTicketDescription')}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                                        <div>\r\n                                            <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                                {t('price')} *\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"price\"\r\n                                                value={editTicketData.price}\r\n                                                onChange={handleEditTicketInputChange}\r\n                                                min=\"0\"\r\n                                                step=\"0.01\"\r\n                                                className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${ticketFormErrors.price ? 'border-red-500' : ''}`}\r\n                                                placeholder=\"0.00\"\r\n                                            />\r\n                                            {ticketFormErrors.price && <p className=\"text-red-500 text-sm mt-1\">{ticketFormErrors.price}</p>}\r\n                                        </div>\r\n\r\n                                        <div>\r\n                                            <label className={`block text-sm font-medium ${themeClasses.text} mb-2`}>\r\n                                                {t('quantity')} *\r\n                                            </label>\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                name=\"quantityAvailable\"\r\n                                                value={editTicketData.quantityAvailable}\r\n                                                onChange={handleEditTicketInputChange}\r\n                                                min=\"1\"\r\n                                                className={`w-full px-4 py-2 ${themeClasses.card} ${themeClasses.border} border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ${themeClasses.text} ${ticketFormErrors.quantityAvailable ? 'border-red-500' : ''}`}\r\n                                                placeholder={t('quantity')}\r\n                                            />\r\n                                            {ticketFormErrors.quantityAvailable && <p className=\"text-red-500 text-sm mt-1\">{ticketFormErrors.quantityAvailable}</p>}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div className={`flex justify-end space-x-4 pt-6 border-t ${themeClasses.border}`}>\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            onClick={() => {\r\n                                                setShowEditTicketForm(false);\r\n                                                setEditingTicketType(null);\r\n                                            }}\r\n                                            className={`px-6 py-2 ${themeClasses.border} border ${themeClasses.text} rounded-lg ${themeClasses.hover} transition-colors`}\r\n                                        >\r\n                                            {t('cancel')}\r\n                                        </button>\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            disabled={ticketFormLoading}\r\n                                            className=\"flex items-center px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\r\n                                        >\r\n                                            {ticketFormLoading ? (\r\n                                                <>\r\n                                                    <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                                                    {t('loading')}...\r\n                                                </>\r\n                                            ) : (\r\n                                                <>\r\n                                                    <Save className=\"h-4 w-4 mr-2\" />\r\n                                                    {t('updateTicketType')}\r\n                                                </>\r\n                                            )}\r\n                                        </button>\r\n                                    </div>\r\n                                </form>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default EditEventPage;"],"names":[],"mappings":"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","debugId":null}}]
}