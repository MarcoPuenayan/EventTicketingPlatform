{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/lib/api.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport axios, { AxiosResponse, AxiosError } from 'axios';\r\n\r\n// Enhanced types with smart ticketing support\r\ninterface User {\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    roles: string[];\r\n}\r\n\r\ninterface AuthResponse {\r\n    token: string;\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    roles: string[];\r\n    expiresAt: string;\r\n}\r\n\r\ninterface LoginRequest {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\ninterface RegisterRequest {\r\n    email: string;\r\n    password: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    phoneNumber?: string;\r\n}\r\n\r\ninterface Event {\r\n    eventDate: string | number | Date;\r\n    revenue: number;\r\n    eventId: number;\r\n    title: string;\r\n    description: string;\r\n    shortDescription?: string;\r\n    organizerId: number;\r\n    organizerName: string;\r\n    venueId: number;\r\n    venueName: string;\r\n    venueCity: string;\r\n    categoryId: number;\r\n    categoryName: string;\r\n    startDateTime: string;\r\n    endDateTime: string;\r\n    imageUrl?: string;\r\n    basePrice: number;\r\n    currency: string;\r\n    isOnline: boolean;\r\n    ticketsSold: number;\r\n    availableTickets: number;\r\n    status: string;\r\n    isPublished: boolean;\r\n}\r\n\r\n// Enhanced TicketType interface with smart editing support\r\ninterface TicketType {\r\n    ticketTypeId: number;\r\n    eventId: number;\r\n    eventTitle?: string;\r\n    name: string;\r\n    description?: string;\r\n    price: number;\r\n    quantityAvailable: number;\r\n    quantitySold: number;\r\n    quantityRemaining: number;\r\n    isActive: boolean;\r\n    isOnSale: boolean;\r\n    // Smart editing support fields\r\n    isEventPublished?: boolean;\r\n    eventStatus?: string;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n    createdAt?: string;\r\n    updatedAt?: string;\r\n}\r\n\r\ninterface Ticket {\r\n    ticketId: number;\r\n    eventId: number;\r\n    eventTitle: string;\r\n    ticketTypeName: string;\r\n    ticketNumber: string;\r\n    qrCode?: string;\r\n    pricePaid: number;\r\n    status: string;\r\n    purchaseDate: string;\r\n    attendeeFirstName?: string;\r\n    attendeeLastName?: string;\r\n    attendeeEmail?: string;\r\n    eventStartDateTime: string;\r\n    venueName: string;\r\n    venueAddress: string;\r\n}\r\n\r\ninterface Order {\r\n    orderId: number;\r\n    orderNumber: string;\r\n    eventTitle: string;\r\n    totalAmount: number;\r\n    currency: string;\r\n    status: string;\r\n    createdAt: string;\r\n    tickets: Ticket[];\r\n}\r\n\r\n// Enhanced DTOs with proper field mapping\r\ninterface CreateEventDto {\r\n    title: string;\r\n    description: string;\r\n    shortDescription?: string;\r\n    startDateTime: string;\r\n    endDateTime?: string;\r\n    categoryId: number;\r\n    venueId?: number;\r\n    imageUrl?: string;\r\n    bannerImageUrl?: string;\r\n    tags?: string;\r\n    maxAttendees: number;\r\n    basePrice: number;\r\n    currency: string;\r\n    isOnline: boolean;\r\n    onlineUrl?: string;\r\n}\r\n\r\ninterface UpdateEventDto {\r\n    title?: string;\r\n    description?: string;\r\n    shortDescription?: string;\r\n    startDateTime?: string;\r\n    endDateTime?: string;\r\n    categoryId?: number;\r\n    venueId?: number;\r\n    imageUrl?: string;\r\n    bannerImageUrl?: string;\r\n    tags?: string;\r\n    maxAttendees?: number;\r\n    basePrice?: number;\r\n    currency?: string;\r\n    isOnline?: boolean;\r\n    onlineUrl?: string;\r\n}\r\n\r\n// Enhanced CreateTicketTypeDto with all required fields\r\ninterface CreateTicketTypeDto {\r\n    eventId: number;\r\n    name: string;\r\n    description?: string;\r\n    price: number;\r\n    quantityAvailable: number;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n}\r\n\r\ninterface UpdateTicketTypeDto {\r\n    name?: string;\r\n    description?: string;\r\n    price?: number;\r\n    quantityAvailable?: number;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n    isActive?: boolean;\r\n}\r\n\r\ninterface Category {\r\n    categoryId: number;\r\n    name: string;\r\n    description?: string;\r\n}\r\n\r\ninterface CreateCategoryDto {\r\n    name: string;\r\n    description?: string;\r\n}\r\n\r\ninterface Venue {\r\n    venueId: number;\r\n    name: string;\r\n    address: string;\r\n    city: string;\r\n    capacity: number;\r\n    description?: string;\r\n}\r\n\r\ninterface CreateVenueDto {\r\n    name: string;\r\n    address: string;\r\n    city: string;\r\n    capacity: number;\r\n    description?: string;\r\n}\r\n\r\ninterface PurchaseTicketsDto {\r\n    eventId: number;\r\n    ticketItems: {\r\n        ticketTypeId: number;\r\n        quantity: number;\r\n    }[];\r\n    billingEmail: string;\r\n    billingFirstName: string;\r\n    billingLastName: string;\r\n    billingAddress?: string;\r\n    billingCity?: string;\r\n    billingState?: string;\r\n    billingZipCode?: string;\r\n    promoCode?: string;\r\n    attendees?: {\r\n        firstName: string;\r\n        lastName: string;\r\n        email: string;\r\n    }[];\r\n}\r\n\r\ninterface OrderSummary {\r\n    eventId: number;\r\n    eventTitle: string;\r\n    items: { ticketTypeId: number; quantity: number; }[];\r\n    subTotal: number;\r\n    serviceFee: number;\r\n    taxAmount: number;\r\n    discountAmount: number;\r\n    totalAmount: number;\r\n    currency: string;\r\n}\r\n\r\ninterface CheckInTicketDto {\r\n    ticketNumber: string;\r\n}\r\n\r\ninterface TicketValidation {\r\n    isValid: boolean;\r\n    ticket?: Ticket;\r\n    message: string;\r\n}\r\n\r\ninterface UserProfile {\r\n    userId: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phoneNumber?: string;\r\n    dateOfBirth?: string;\r\n    profileImageUrl?: string;\r\n    isEmailVerified: boolean;\r\n    isPhoneVerified: boolean;\r\n    createdAt: string;\r\n    lastLoginAt?: string;\r\n    status: string;\r\n    bio?: string;\r\n    website?: string;\r\n    timeZone?: string;\r\n    isOrganizer: boolean;\r\n    roles: string[];\r\n}\r\n\r\ninterface UpdateUserProfileDto {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phoneNumber?: string;\r\n    dateOfBirth?: string;\r\n    bio?: string;\r\n    website?: string;\r\n    timeZone?: string;\r\n}\r\n\r\ninterface UserOrganization {\r\n    companyName?: string;\r\n    businessLicense?: string;\r\n    address?: string;\r\n    city?: string;\r\n    state?: string;\r\n    zipCode?: string;\r\n    country?: string;\r\n}\r\n\r\ninterface UpdateUserOrganizationDto {\r\n    companyName?: string;\r\n    businessLicense?: string;\r\n    address?: string;\r\n    city?: string;\r\n    state?: string;\r\n    zipCode?: string;\r\n    country?: string;\r\n}\r\n\r\ninterface UserPreferences {\r\n    emailNotifications: boolean;\r\n    smsNotifications: boolean;\r\n    newBookingNotifications: boolean;\r\n    cancellationNotifications: boolean;\r\n    lowInventoryNotifications: boolean;\r\n    dailyReports: boolean;\r\n    weeklyReports: boolean;\r\n    monthlyReports: boolean;\r\n    twoFactorEnabled: boolean;\r\n    sessionTimeout: number;\r\n    loginNotifications: boolean;\r\n    defaultTimeZone?: string;\r\n    defaultEventDuration: number;\r\n    defaultTicketSaleStart: number;\r\n    defaultRefundPolicy?: string;\r\n    requireApproval: boolean;\r\n    autoPublish: boolean;\r\n    theme: string;\r\n    language: string;\r\n    dateFormat: string;\r\n    timeFormat: string;\r\n    currency: string;\r\n    accentColor: string;\r\n    fontSize: string;\r\n    compactMode: boolean;\r\n}\r\n\r\ninterface UpdateUserPreferencesDto {\r\n    emailNotifications: boolean;\r\n    smsNotifications: boolean;\r\n    newBookingNotifications: boolean;\r\n    cancellationNotifications: boolean;\r\n    lowInventoryNotifications: boolean;\r\n    dailyReports: boolean;\r\n    weeklyReports: boolean;\r\n    monthlyReports: boolean;\r\n    twoFactorEnabled: boolean;\r\n    sessionTimeout: number;\r\n    loginNotifications: boolean;\r\n    defaultTimeZone?: string;\r\n    defaultEventDuration: number;\r\n    defaultTicketSaleStart: number;\r\n    defaultRefundPolicy?: string;\r\n    requireApproval: boolean;\r\n    autoPublish: boolean;\r\n    theme: string;\r\n    language: string;\r\n    dateFormat: string;\r\n    timeFormat: string;\r\n    currency: string;\r\n    accentColor: string;\r\n    fontSize: string;\r\n    compactMode: boolean;\r\n}\r\n\r\ninterface ChangePasswordDto {\r\n    currentPassword: string;\r\n    newPassword: string;\r\n}\r\n\r\n// API Response wrapper\r\ninterface ApiResponse<T> {\r\n    success?: boolean;\r\n    data?: T;\r\n    message?: string;\r\n    errors?: string[];\r\n}\r\n\r\n// Enhanced API configuration with environment support\r\nconst getApiBaseUrl = (): string => {\r\n    if (typeof window !== 'undefined') {\r\n        return process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5251/api';\r\n    }\r\n    return process.env.API_URL || 'http://localhost:5251/api';\r\n};\r\n\r\nexport const userApi = {\r\n    // Profile management\r\n    getProfile: async (): Promise<UserProfile> => {\r\n        try {\r\n            console.log('üë§ Fetching user profile');\r\n            const response = await api.get('/user/profile');\r\n            console.log('üë§ Successfully loaded user profile');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üë§ Error fetching profile:', error.message);\r\n            throw new Error(`Failed to load profile: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    updateProfile: async (profileData: UpdateUserProfileDto): Promise<UserProfile> => {\r\n        try {\r\n            console.log('üë§ Updating user profile');\r\n            const response = await api.put('/user/profile', profileData);\r\n            console.log('üë§ Successfully updated user profile');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üë§ Error updating profile:', error.message);\r\n            throw new Error(`Failed to update profile: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    changePassword: async (passwordData: ChangePasswordDto): Promise<void> => {\r\n        try {\r\n            console.log('üë§ Changing password');\r\n            await api.post('/user/change-password', passwordData);\r\n            console.log('üë§ Successfully changed password');\r\n        } catch (error: any) {\r\n            console.error('üë§ Error changing password:', error.message);\r\n            throw new Error(`Failed to change password: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    // Organization management\r\n    getOrganization: async (): Promise<UserOrganization> => {\r\n        try {\r\n            console.log('üè¢ Fetching organization details');\r\n            const response = await api.get('/user/organization');\r\n            console.log('üè¢ Successfully loaded organization details');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üè¢ Error fetching organization:', error.message);\r\n            // Return empty object for new organizations\r\n            return {};\r\n        }\r\n    },\r\n\r\n    updateOrganization: async (orgData: UpdateUserOrganizationDto): Promise<UserOrganization> => {\r\n        try {\r\n            console.log('üè¢ Updating organization details');\r\n            const response = await api.put('/user/organization', orgData);\r\n            console.log('üè¢ Successfully updated organization details');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üè¢ Error updating organization:', error.message);\r\n            throw new Error(`Failed to update organization: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    // Preferences management\r\n    getPreferences: async (): Promise<UserPreferences> => {\r\n        try {\r\n            console.log('‚öôÔ∏è Fetching user preferences');\r\n            const response = await api.get('/user/preferences');\r\n            console.log('‚öôÔ∏è Successfully loaded user preferences');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('‚öôÔ∏è Error fetching preferences:', error.message);\r\n            // Return default preferences if none exist\r\n            return {\r\n                emailNotifications: true,\r\n                smsNotifications: false,\r\n                newBookingNotifications: true,\r\n                cancellationNotifications: true,\r\n                lowInventoryNotifications: true,\r\n                dailyReports: false,\r\n                weeklyReports: true,\r\n                monthlyReports: true,\r\n                twoFactorEnabled: false,\r\n                sessionTimeout: 30,\r\n                loginNotifications: true,\r\n                defaultTimeZone: 'America/New_York',\r\n                defaultEventDuration: 120,\r\n                defaultTicketSaleStart: 30,\r\n                defaultRefundPolicy: 'flexible',\r\n                requireApproval: false,\r\n                autoPublish: false,\r\n                theme: 'light',\r\n                language: 'en',\r\n                dateFormat: 'MM/dd/yyyy',\r\n                timeFormat: '12h',\r\n                currency: 'USD',\r\n                accentColor: 'blue',\r\n                fontSize: 'medium',\r\n                compactMode: false\r\n\r\n            };\r\n        }\r\n    },\r\n\r\n    updatePreferences: async (preferencesData: UpdateUserPreferencesDto): Promise<UserPreferences> => {\r\n        try {\r\n            console.log('‚öôÔ∏è Updating user preferences');\r\n            const response = await api.put('/user/preferences', preferencesData);\r\n            console.log('‚öôÔ∏è Successfully updated user preferences');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('‚öôÔ∏è Error updating preferences:', error.message);\r\n            throw new Error(`Failed to update preferences: ${error.message}`);\r\n        }\r\n    }\r\n};\r\n\r\nconst API_BASE_URL = getApiBaseUrl();\r\n\r\nconst api = axios.create({\r\n    baseURL: API_BASE_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n    timeout: 30000, // 30 second timeout\r\n});\r\n\r\n// Enhanced request interceptor with better error handling\r\napi.interceptors.request.use((config) => {\r\n    if (typeof window !== 'undefined') {\r\n        const token = localStorage.getItem('authToken');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n    }\r\n\r\n    // Log requests in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n        console.log(`üîÑ API Request: ${config.method?.toUpperCase()} ${config.url}`);\r\n    }\r\n\r\n    return config;\r\n});\r\n\r\n// Enhanced response interceptor with better error handling\r\napi.interceptors.response.use(\r\n    (response: AxiosResponse) => {\r\n        // Handle wrapped responses\r\n        if (response.data?.success === false) {\r\n            throw new Error(response.data.message || 'API request failed');\r\n        }\r\n\r\n        // Extract data from wrapped responses\r\n        if (response.data?.success === true && response.data?.data !== undefined) {\r\n            response.data = response.data.data;\r\n        }\r\n\r\n        if (process.env.NODE_ENV === 'development') {\r\n            console.log(`‚úÖ API Response: ${response.config.method?.toUpperCase()} ${response.config.url}`);\r\n        }\r\n\r\n        return response;\r\n    },\r\n    (error: AxiosError) => {\r\n        const message = (error.response?.data as any)?.message || error.message || 'Network error';\r\n\r\n        if (process.env.NODE_ENV === 'development') {\r\n            console.error(`‚ùå API Error: ${error.config?.method?.toUpperCase()} ${error.config?.url}`, message);\r\n        }\r\n\r\n        if (error.response?.status === 401 && typeof window !== 'undefined') {\r\n            localStorage.removeItem('authToken');\r\n            localStorage.removeItem('user');\r\n            // Don't redirect automatically, let components handle this\r\n            console.warn('Authentication expired. Please log in again.');\r\n        }\r\n\r\n        // Create a more detailed error\r\n        const enhancedError = new Error(message);\r\n        (enhancedError as any).status = error.response?.status;\r\n        (enhancedError as any).originalError = error;\r\n\r\n        return Promise.reject(enhancedError);\r\n    }\r\n);\r\n\r\n// Helper functions for data normalization\r\nconst normalizeTicketType = (tt: any): TicketType => ({\r\n    ticketTypeId: tt.ticketTypeId || tt.TicketTypeId,\r\n    eventId: tt.eventId || tt.EventId,\r\n    eventTitle: tt.eventTitle || tt.EventTitle,\r\n    name: tt.name || tt.Name || '',\r\n    description: tt.description || tt.Description || '',\r\n    price: Number(tt.price || tt.Price || 0),\r\n    quantityAvailable: Number(tt.quantityAvailable || tt.QuantityAvailable || 0),\r\n    quantitySold: Number(tt.quantitySold || tt.QuantitySold || 0),\r\n    quantityRemaining: Number(tt.quantityRemaining || tt.QuantityRemaining || 0),\r\n    isActive: tt.isActive !== undefined ? tt.isActive : tt.IsActive !== undefined ? tt.IsActive : true,\r\n    isOnSale: tt.isOnSale !== undefined ? tt.isOnSale : tt.IsOnSale !== undefined ? tt.IsOnSale : true,\r\n    isEventPublished: tt.isEventPublished || tt.IsEventPublished || false,\r\n    eventStatus: tt.eventStatus || tt.EventStatus || 'Draft',\r\n    saleStartDate: tt.saleStartDate || tt.SaleStartDate,\r\n    saleEndDate: tt.saleEndDate || tt.SaleEndDate,\r\n    minQuantityPerOrder: Number(tt.minQuantityPerOrder || tt.MinQuantityPerOrder || 1),\r\n    maxQuantityPerOrder: Number(tt.maxQuantityPerOrder || tt.MaxQuantityPerOrder || 10),\r\n    sortOrder: Number(tt.sortOrder || tt.SortOrder || 0),\r\n    createdAt: tt.createdAt || tt.CreatedAt,\r\n    updatedAt: tt.updatedAt || tt.UpdatedAt\r\n});\r\n\r\n// Smart ticketing utility functions\r\nexport const canEditTicketType = (ticketType: TicketType): { canEdit: boolean; reason: string } => {\r\n    if (ticketType.quantitySold > 0) {\r\n        return {\r\n            canEdit: false,\r\n            reason: `${ticketType.quantitySold} ticket(s) already sold. Editing locked to preserve purchase data.`\r\n        };\r\n    }\r\n\r\n    if (ticketType.isEventPublished) {\r\n        return {\r\n            canEdit: false,\r\n            reason: 'Event is published. Limited editing to preserve sales integrity.'\r\n        };\r\n    }\r\n\r\n    return {\r\n        canEdit: true,\r\n        reason: 'Safe to edit - no sales yet and event is unpublished.'\r\n    };\r\n};\r\n\r\nexport const canCreateTicketTypes = (event: Event): { canCreate: boolean; reason: string } => {\r\n    const totalTicketsSold = event.ticketsSold || 0;\r\n\r\n    if (totalTicketsSold > 0) {\r\n        return {\r\n            canCreate: false,\r\n            reason: `Cannot create new ticket types. ${totalTicketsSold} ticket(s) have already been sold.`\r\n        };\r\n    }\r\n\r\n    if (event.isPublished) {\r\n        return {\r\n            canCreate: true,\r\n            reason: 'Event is published - new ticket types will be immediately available for sale.'\r\n        };\r\n    }\r\n\r\n    return {\r\n        canCreate: true,\r\n        reason: 'Safe to create new ticket types.'\r\n    };\r\n};\r\n\r\n// Auth API\r\nexport const authApi = {\r\n    login: async (credentials: LoginRequest): Promise<AuthResponse> => {\r\n        const response = await api.post('/auth/login', credentials);\r\n        return response.data;\r\n    },\r\n\r\n    register: async (userData: RegisterRequest): Promise<AuthResponse> => {\r\n        const response = await api.post('/auth/register', userData);\r\n        return response.data;\r\n    },\r\n};\r\n\r\n// Events API - Enhanced for organizers\r\nexport const eventsApi = {\r\n    // Public endpoints\r\n    getEvents: async (params?: {\r\n        categoryId?: number;\r\n        search?: string;\r\n        isOnline?: boolean;\r\n        startDate?: string;\r\n        endDate?: string;\r\n        page?: number;\r\n        pageSize?: number;\r\n    }): Promise<Event[]> => {\r\n        const response = await api.get('/events', { params });\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getEvent: async (id: number): Promise<Event> => {\r\n        const response = await api.get(`/events/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Organizer endpoints\r\n    getMyEvents: async (): Promise<Event[]> => {\r\n        const response = await api.get('/events/my-events');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    createEvent: async (eventData: CreateEventDto): Promise<Event> => {\r\n        const response = await api.post('/events', eventData);\r\n        return response.data;\r\n    },\r\n\r\n    updateEvent: async (id: number, eventData: UpdateEventDto): Promise<Event> => {\r\n        const response = await api.put(`/events/${id}`, eventData);\r\n        return response.data;\r\n    },\r\n\r\n    deleteEvent: async (id: number): Promise<boolean> => {\r\n        const response = await api.delete(`/events/${id}`);\r\n        return response.status === 204 || response.status === 200;\r\n    },\r\n\r\n    publishEvent: async (id: number): Promise<void> => {\r\n        await api.post(`/events/${id}/publish`);\r\n    },\r\n\r\n    unpublishEvent: async (id: number): Promise<void> => {\r\n        await api.post(`/events/${id}/unpublish`);\r\n    }\r\n};\r\n\r\n// Categories API\r\nexport const categoriesApi = {\r\n    getCategories: async (): Promise<Category[]> => {\r\n        const response = await api.get('/categories');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getCategory: async (id: number): Promise<Category> => {\r\n        const response = await api.get(`/categories/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    createCategory: async (categoryData: CreateCategoryDto): Promise<Category> => {\r\n        const response = await api.post('/categories', categoryData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Venues API\r\nexport const venuesApi = {\r\n    getVenues: async (city?: string): Promise<Venue[]> => {\r\n        const params = city ? { city } : {};\r\n        const response = await api.get('/venues', { params });\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getVenue: async (id: number): Promise<Venue> => {\r\n        const response = await api.get(`/venues/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    createVenue: async (venueData: CreateVenueDto): Promise<Venue> => {\r\n        const response = await api.post('/venues', venueData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Enhanced Tickets API with smart ticketing support\r\nexport const ticketsApi = {\r\n    // Ticket Types - Enhanced with proper error handling and data normalization\r\n    getEventTicketTypes: async (eventId: number): Promise<TicketType[]> => {\r\n        try {\r\n            console.log(`üé´ Fetching ticket types for event ${eventId}`);\r\n            const response = await api.get(`/tickets/event/${eventId}/ticket-types`);\r\n\r\n            const ticketTypes = Array.isArray(response.data) ? response.data : [];\r\n            const normalizedTicketTypes = ticketTypes.map(normalizeTicketType);\r\n\r\n            console.log(`üé´ Successfully loaded ${normalizedTicketTypes.length} ticket types`);\r\n            return normalizedTicketTypes;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error fetching ticket types:', error.message);\r\n            throw new Error(`Failed to load ticket types: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    createTicketType: async (ticketTypeData: CreateTicketTypeDto): Promise<TicketType> => {\r\n        try {\r\n            console.log('üé´ Creating ticket type:', ticketTypeData);\r\n\r\n            const payload = {\r\n                eventId: Number(ticketTypeData.eventId),\r\n                name: ticketTypeData.name.trim(),\r\n                description: ticketTypeData.description?.trim() || null,\r\n                price: Number(ticketTypeData.price),\r\n                quantityAvailable: Number(ticketTypeData.quantityAvailable),\r\n                saleStartDate: ticketTypeData.saleStartDate || null,\r\n                saleEndDate: ticketTypeData.saleEndDate || null,\r\n                minQuantityPerOrder: Number(ticketTypeData.minQuantityPerOrder || 1),\r\n                maxQuantityPerOrder: Number(ticketTypeData.maxQuantityPerOrder || 10),\r\n                sortOrder: Number(ticketTypeData.sortOrder || 0)\r\n            };\r\n\r\n            const response = await api.post('/tickets/ticket-types', payload);\r\n            const normalizedTicketType = normalizeTicketType(response.data);\r\n\r\n            console.log('üé´ Successfully created ticket type:', normalizedTicketType);\r\n            return normalizedTicketType;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error creating ticket type:', error.message);\r\n            throw new Error(`Failed to create ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    updateTicketType: async (id: number, ticketTypeData: UpdateTicketTypeDto): Promise<TicketType> => {\r\n        try {\r\n            console.log(`üé´ Updating ticket type ${id}:`, ticketTypeData);\r\n\r\n            // Remove undefined values\r\n            const payload = Object.fromEntries(\r\n                Object.entries(ticketTypeData).filter(([_, value]) => value !== undefined)\r\n            );\r\n\r\n            const response = await api.put(`/tickets/ticket-types/${id}`, payload);\r\n            const normalizedTicketType = normalizeTicketType(response.data);\r\n\r\n            console.log('üé´ Successfully updated ticket type:', normalizedTicketType);\r\n            return normalizedTicketType;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error updating ticket type:', error.message);\r\n            throw new Error(`Failed to update ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    deleteTicketType: async (id: number): Promise<boolean> => {\r\n        try {\r\n            console.log(`üé´ Deleting ticket type ${id}`);\r\n            const response = await api.delete(`/tickets/ticket-types/${id}`);\r\n            console.log('üé´ Successfully deleted ticket type');\r\n            return response.status === 204 || response.status === 200;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error deleting ticket type:', error.message);\r\n            throw new Error(`Failed to delete ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    getTicketType: async (id: number): Promise<TicketType> => {\r\n        const response = await api.get(`/tickets/ticket-types/${id}`);\r\n        return normalizeTicketType(response.data);\r\n    },\r\n\r\n    // Orders and Purchases\r\n    calculateOrder: async (purchaseData: PurchaseTicketsDto): Promise<OrderSummary> => {\r\n        const response = await api.post('/tickets/calculate-order', purchaseData);\r\n        return response.data;\r\n    },\r\n\r\n    purchaseTickets: async (purchaseData: PurchaseTicketsDto): Promise<Order> => {\r\n        const response = await api.post('/tickets/purchase', purchaseData);\r\n        return response.data;\r\n    },\r\n\r\n    // User tickets\r\n    getMyTickets: async (): Promise<Ticket[]> => {\r\n        const response = await api.get('/tickets/my-tickets');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getTicket: async (id: number): Promise<Ticket> => {\r\n        const response = await api.get(`/tickets/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Validation and Check-in\r\n    validateTicket: async (ticketNumber: string): Promise<TicketValidation> => {\r\n        const response = await api.post('/tickets/validate', JSON.stringify(ticketNumber), {\r\n            headers: { 'Content-Type': 'application/json' }\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    checkInTicket: async (checkInData: CheckInTicketDto): Promise<Ticket> => {\r\n        const response = await api.post('/tickets/check-in', checkInData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Orders API\r\nexport const ordersApi = {\r\n    getMyOrders: async (): Promise<Order[]> => {\r\n        const response = await api.get('/orders');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getOrder: async (id: number): Promise<Order> => {\r\n        const response = await api.get(`/orders/${id}`);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Health check and connectivity testing\r\nexport const healthApi = {\r\n    checkConnection: async (): Promise<boolean> => {\r\n        try {\r\n            const response = await api.get('/health');\r\n            return response.status === 200;\r\n        } catch {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    testAuth: async (): Promise<boolean> => {\r\n        try {\r\n            const response = await api.get('/events/my-events');\r\n            return response.status === 200;\r\n        } catch {\r\n            return false;\r\n        }\r\n    }\r\n};\r\n\r\nexport default api;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 563, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/app/organizer/dashboard/page.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n// app/organizer/dashboard/page.tsx\r\n'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { eventsApi } from '@/lib/api';\r\nimport { useTheme, useThemeClasses } from '@/hooks/useTheme';\r\nimport { useI18nContext } from '@/components/providers/I18nProvider';\r\nimport {\r\n    Calendar,\r\n    Users,\r\n    DollarSign,\r\n    TrendingUp,\r\n    Plus,\r\n    Eye,\r\n    Edit,\r\n    Trash2,\r\n    MapPin,\r\n    Clock,\r\n    Tag,\r\n    Globe,\r\n    ArrowUp,\r\n    ArrowDown,\r\n    RefreshCw,\r\n    AlertCircle\r\n} from 'lucide-react';\r\n\r\n// Define Event type locally to match your types file\r\ninterface Event {\r\n    eventDate: string | number | Date;\r\n    revenue: number;\r\n    eventId: number;\r\n    title: string;\r\n    description: string;\r\n    shortDescription?: string;\r\n    organizerId: number;\r\n    organizerName: string;\r\n    venueId: number;\r\n    venueName: string;\r\n    venueCity: string;\r\n    categoryId: number;\r\n    categoryName: string;\r\n    startDateTime: string;\r\n    endDateTime: string;\r\n    imageUrl?: string;\r\n    basePrice: number;\r\n    currency: string;\r\n    isOnline: boolean;\r\n    ticketsSold: number;\r\n    availableTickets: number;\r\n    status: string;\r\n    isPublished: boolean;\r\n}\r\n\r\ninterface Stats {\r\n    totalEvents: number;\r\n    publishedEvents: number;\r\n    totalTicketsSold: number;\r\n    totalRevenue: number;\r\n    upcomingEvents: number;\r\n}\r\n\r\nconst OrganizerDashboard: React.FC = () => {\r\n    const { user, isOrganizer } = useAuth();\r\n    const { isDark, isCompact } = useTheme();\r\n    const themeClasses = useThemeClasses();\r\n\r\n    // Use the proper I18n context instead of fallback\r\n    const { t, formatCurrency } = useI18nContext();\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [events, setEvents] = useState<Event[]>([]);\r\n    const [stats, setStats] = useState<Stats>({\r\n        totalEvents: 0,\r\n        publishedEvents: 0,\r\n        totalTicketsSold: 0,\r\n        totalRevenue: 0,\r\n        upcomingEvents: 0\r\n    });\r\n    const [error, setError] = useState('');\r\n\r\n    useEffect(() => {\r\n        if (user && isOrganizer) {\r\n            fetchDashboardData();\r\n        }\r\n    }, [user, isOrganizer]);\r\n\r\n    const fetchDashboardData = async () => {\r\n        try {\r\n            setLoading(true);\r\n            setError('');\r\n            const eventsResponse = await eventsApi.getMyEvents();\r\n            setEvents(eventsResponse);\r\n\r\n            const now = new Date();\r\n            const totalEvents = eventsResponse.length;\r\n            const publishedEvents = eventsResponse.filter(event => event.isPublished).length;\r\n            const upcomingEvents = eventsResponse.filter(event =>\r\n                new Date(event.startDateTime || event.eventDate) > now && event.isPublished\r\n            ).length;\r\n            const totalTicketsSold = eventsResponse.reduce((sum, event) => sum + (event.ticketsSold || 0), 0);\r\n            const totalRevenue = eventsResponse.reduce((sum, event) => sum + (event.revenue || 0), 0);\r\n\r\n            setStats({\r\n                totalEvents,\r\n                publishedEvents,\r\n                totalTicketsSold,\r\n                totalRevenue,\r\n                upcomingEvents\r\n            });\r\n\r\n        } catch (error) {\r\n            console.error('Error fetching dashboard data:', error);\r\n            setError(t('dashboardError'));\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handlePublishEvent = async (eventId: number, currentStatus: boolean) => {\r\n        try {\r\n            const endpoint = currentStatus ? 'unpublish' : 'publish';\r\n            const response = await fetch(`http://localhost:5251/api/events/${eventId}/${endpoint}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`,\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            });\r\n\r\n            if (response.ok) {\r\n                setEvents(events.map(event =>\r\n                    event.eventId === eventId\r\n                        ? { ...event, isPublished: !currentStatus }\r\n                        : event\r\n                ));\r\n\r\n                setStats(prev => ({\r\n                    ...prev,\r\n                    publishedEvents: currentStatus ? prev.publishedEvents - 1 : prev.publishedEvents + 1\r\n                }));\r\n            } else {\r\n                throw new Error('Failed to update event status');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error updating event status:', error);\r\n            setError('Failed to update event status');\r\n        }\r\n    };\r\n\r\n    const handleDeleteEvent = async (eventId: number) => {\r\n        if (!confirm('Are you sure you want to delete this event? This action cannot be undone.')) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(`http://localhost:5251/api/events/${eventId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                }\r\n            });\r\n\r\n            if (response.ok) {\r\n                const deletedEvent = events.find(e => e.eventId === eventId);\r\n                setEvents(events.filter(event => event.eventId !== eventId));\r\n\r\n                setStats(prev => ({\r\n                    ...prev,\r\n                    totalEvents: prev.totalEvents - 1,\r\n                    publishedEvents: deletedEvent?.isPublished ? prev.publishedEvents - 1 : prev.publishedEvents\r\n                }));\r\n            } else {\r\n                throw new Error('Failed to delete event');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error deleting event:', error);\r\n            setError('Failed to delete event');\r\n        }\r\n    };\r\n\r\n    const StatCard: React.FC<{\r\n        icon: React.ElementType;\r\n        title: string;\r\n        value: string | number;\r\n        subtitle?: string;\r\n        trend?: 'up' | 'down';\r\n        trendValue?: string;\r\n        color?: string;\r\n    }> = ({ icon: Icon, title, value, subtitle, trend, trendValue, color = 'blue' }) => (\r\n        <div className={`${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-sm border ${themeClasses.themeBorder} theme-transition`}>\r\n            <div className=\"flex items-center justify-between\">\r\n                <div className=\"flex items-center\">\r\n                    <div className={`p-3 rounded-lg ${color === 'blue' ? 'accent-bg' :\r\n                        color === 'green' ? 'bg-green-500' :\r\n                            color === 'purple' ? 'bg-purple-500' :\r\n                                color === 'orange' ? 'bg-orange-500' : 'accent-bg'}`}>\r\n                        <Icon className=\"h-6 w-6 text-white\" />\r\n                    </div>\r\n                    <div className={`${isCompact ? 'ml-3' : 'ml-4'}`}>\r\n                        <p className={`${themeClasses.textSm} font-medium ${themeClasses.themeMutedFg}`}>{title}</p>\r\n                        <p className={`${themeClasses.text2Xl} font-bold ${themeClasses.themeFg}`}>{value}</p>\r\n                        {subtitle && <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>{subtitle}</p>}\r\n                    </div>\r\n                </div>\r\n                {trend && (\r\n                    <div className={`flex items-center ${trend === 'up' ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'}`}>\r\n                        {trend === 'up' ? <ArrowUp className=\"h-4 w-4\" /> : <ArrowDown className=\"h-4 w-4\" />}\r\n                        <span className={`${themeClasses.textSm} font-medium ml-1`}>{trendValue}</span>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const EventCard: React.FC<{ event: Event }> = ({ event }) => {\r\n        const formatDateRange = (startDate: string | number | Date, endDate: string | number | Date) => {\r\n            if (!startDate) return 'Date not set';\r\n            const start = new Date(startDate);\r\n            if (isNaN(start.getTime())) return 'Invalid date';\r\n            return start.toLocaleDateString('en-US', {\r\n                month: 'short',\r\n                day: 'numeric',\r\n                year: 'numeric'\r\n            });\r\n        };\r\n\r\n        const startDateTime = event.startDateTime || event.eventDate;\r\n        const endDateTime = event.endDateTime || event.startDateTime || event.eventDate;\r\n\r\n        return (\r\n            <div className={`${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-sm border ${themeClasses.themeBorder} hover:shadow-md theme-transition`}>\r\n                <div className={`flex justify-between items-start ${isCompact ? 'mb-3' : 'mb-4'}`}>\r\n                    <div className=\"flex-1\">\r\n                        <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} ${isCompact ? 'mb-1' : 'mb-2'}`}>{event.title}</h3>\r\n                        <p className={`${themeClasses.themeMutedFg} ${themeClasses.textSm} line-clamp-2`}>{event.description}</p>\r\n                    </div>\r\n                    <div className={`flex flex-col ${isCompact ? 'gap-1' : 'gap-2'} ${isCompact ? 'ml-3' : 'ml-4'}`}>\r\n                        <span className={`px-3 py-1 rounded-full ${themeClasses.textSm} font-medium ${event.isPublished\r\n                            ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300'\r\n                            : 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300'\r\n                            }`}>\r\n                            {event.isPublished ? t('published') : t('draft')}\r\n                        </span>\r\n                        <span className={`px-3 py-1 rounded-full ${themeClasses.textSm} font-medium ${event.isOnline\r\n                            ? 'bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300'\r\n                            : 'bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300'\r\n                            }`}>\r\n                            {event.isOnline ? t('online') : t('inPerson')}\r\n                        </span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-between items-center\">\r\n                    <div className={`flex ${isCompact ? 'gap-1' : 'gap-2'}`}>\r\n                        <button\r\n                            onClick={() => window.open(`/events/${event.eventId}`, '_blank')}\r\n                            className={`flex items-center ${themeClasses.compactButton} ${themeClasses.textSm} bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 rounded-lg hover:bg-blue-200 dark:hover:bg-blue-900/50 theme-transition`}\r\n                        >\r\n                            <Eye className=\"h-4 w-4 mr-1\" />\r\n                            {t('view')}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => window.location.href = `/organizer/events/${event.eventId}/edit`}\r\n                            className={`flex items-center ${themeClasses.compactButton} ${themeClasses.textSm} ${themeClasses.themeMuted} ${themeClasses.themeMutedFg} rounded-lg ${isDark ? 'hover:bg-gray-600' : 'hover:bg-gray-200'} theme-transition`}\r\n                        >\r\n                            <Edit className=\"h-4 w-4 mr-1\" />\r\n                            {t('edit')}\r\n                        </button>\r\n                    </div>\r\n                    <div className={`flex ${isCompact ? 'gap-1' : 'gap-2'}`}>\r\n                        <button\r\n                            onClick={() => handlePublishEvent(event.eventId, event.isPublished)}\r\n                            className={`${themeClasses.compactButton} ${themeClasses.textSm} rounded-lg font-medium theme-transition ${event.isPublished\r\n                                ? 'bg-yellow-100 text-yellow-700 hover:bg-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-300 dark:hover:bg-yellow-900/50'\r\n                                : 'bg-green-100 text-green-700 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50'\r\n                                }`}\r\n                        >\r\n                            {event.isPublished ? t('unpublish') : t('publish')}\r\n                        </button>\r\n                        <button\r\n                            onClick={() => handleDeleteEvent(event.eventId)}\r\n                            className={`flex items-center ${themeClasses.compactButton} ${themeClasses.textSm} bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 theme-transition`}\r\n                        >\r\n                            <Trash2 className=\"h-4 w-4 mr-1\" />\r\n                            {t('delete')}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className={`${isCompact ? 'p-4' : 'p-8'} min-h-screen ${themeClasses.themeBg}`}>\r\n                <div className=\"max-w-7xl mx-auto\">\r\n                    <div className=\"flex items-center justify-center py-12\">\r\n                        <div className=\"text-center\">\r\n                            <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 accent-border mx-auto\"></div>\r\n                            <p className={`mt-4 ${themeClasses.themeMutedFg}`}>{t('loadingDashboard')}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={`${isCompact ? 'p-4' : 'p-6'} min-h-screen ${themeClasses.themeBg} theme-transition`}>\r\n            <div className=\"max-w-7xl mx-auto\">\r\n                {/* Header */}\r\n                <div className={isCompact ? 'mb-6' : 'mb-8'}>\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <div>\r\n                            <h1 className={`${themeClasses.text3Xl} font-bold ${themeClasses.themeFg}`}>\r\n                                {t('dashboard')}\r\n                            </h1>\r\n                            <p className={` ${themeClasses.themeMutedFg} mt-1`}>\r\n                                {t('welcomeBack', { name: user?.firstName })}\r\n                            </p>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => window.location.href = '/organizer/events/create'}\r\n                            className=\"btn-accent\"\r\n                        >\r\n                            <Plus className=\"h-5 w-5 mr-2\" />\r\n                            {t('createEvent')}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Error Message */}\r\n                {error && (\r\n                    <div className={`${isCompact ? 'mb-4' : 'mb-6'} p-4 bg-red-50 border border-red-200 dark:bg-red-900/20 dark:border-red-800 rounded-lg`}>\r\n                        <div className=\"flex items-center\">\r\n                            <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400 mr-2\" />\r\n                            <p className=\"text-red-600 dark:text-red-400\">{error}</p>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Stats Cards */}\r\n                <div className={`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 ${themeClasses.compactGap} ${isCompact ? 'mb-6' : 'mb-8'}`}>\r\n                    <StatCard\r\n                        icon={Calendar}\r\n                        title={t('totalEvents')}\r\n                        value={stats.totalEvents}\r\n                        subtitle={t('publishedCount', { count: stats.publishedEvents })}\r\n                        color=\"blue\"\r\n                    />\r\n                    <StatCard\r\n                        icon={Users}\r\n                        title={t('ticketsSold')}\r\n                        value={stats.totalTicketsSold.toLocaleString()}\r\n                        color=\"green\"\r\n                    />\r\n                    <StatCard\r\n                        icon={DollarSign}\r\n                        title={t('totalRevenue')}\r\n                        value={formatCurrency(stats.totalRevenue)}\r\n                        color=\"purple\"\r\n                    />\r\n                    <StatCard\r\n                        icon={TrendingUp}\r\n                        title={t('upcomingEvents')}\r\n                        value={stats.upcomingEvents}\r\n                        color=\"orange\"\r\n                    />\r\n                </div>\r\n\r\n                {/* Recent Events */}\r\n                <div>\r\n                    <div className={`flex justify-between items-center ${isCompact ? 'mb-4' : 'mb-6'}`}>\r\n                        <h2 className={`${themeClasses.textXl} font-semibold ${themeClasses.themeFg}`}>{t('yourEvents')}</h2>\r\n                        {events.length > 6 && (\r\n                            <button\r\n                                onClick={() => window.location.href = '/organizer/events'}\r\n                                className=\"accent-text hover:accent-hover text-sm font-medium theme-transition\"\r\n                            >\r\n                                {t('viewAllEvents')}\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n\r\n                    {events.length === 0 ? (\r\n                        <div className={`text-center ${isCompact ? 'py-8' : 'py-12'} ${themeClasses.themeCard} rounded-lg border ${themeClasses.themeBorder}`}>\r\n                            <Calendar className={`h-12 w-12 ${themeClasses.themeMutedFg} mx-auto ${isCompact ? 'mb-3' : 'mb-4'}`} />\r\n                            <h3 className={`${themeClasses.textLg} font-medium ${themeClasses.themeFg} ${isCompact ? 'mb-1' : 'mb-2'}`}>{t('noEventsYet')}</h3>\r\n                            <p className={`${themeClasses.themeMutedFg} ${isCompact ? 'mb-4' : 'mb-6'}`}>{t('createFirstEventPrompt')}</p>\r\n                            <button\r\n                                onClick={() => window.location.href = '/organizer/events/create'}\r\n                                className=\"btn-accent\"\r\n                            >\r\n                                <Plus className=\"h-4 w-4 mr-2\" />\r\n                                {t('createYourFirstEvent')}\r\n                            </button>\r\n                        </div>\r\n                    ) : (\r\n                        <div className={`grid ${themeClasses.compactGap} lg:grid-cols-2`}>\r\n                            {events.slice(0, 6).map((event) => (\r\n                                <EventCard key={event.eventId} event={event} />\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrganizerDashboard;"],"names":[],"mappings":"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","debugId":null}}]
}