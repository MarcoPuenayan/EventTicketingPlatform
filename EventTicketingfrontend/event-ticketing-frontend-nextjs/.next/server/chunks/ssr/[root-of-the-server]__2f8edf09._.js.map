{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_59dee874.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"inter_59dee874-module__9CtR0q__className\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 23, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_59dee874.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Inter%22,%22arguments%22:[{%22subsets%22:[%22latin%22]}],%22variableName%22:%22inter%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Inter', 'Inter Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,qJAAA,CAAA,UAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,qJAAA,CAAA,UAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,qJAAA,CAAA,UAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 69, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/hooks/useAuth.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { createContext, useContext, useState, useEffect, ReactNode } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\n\r\n// Local type definitions to avoid import issues\r\ninterface User {\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    roles: string[];\r\n}\r\n\r\ninterface AuthResponse {\r\n    token: string;\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    roles: string[];\r\n    expiresAt?: string;\r\n}\r\n\r\ninterface LoginRequest {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\ninterface RegisterRequest {\r\n    email: string;\r\n    password: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    phoneNumber?: string;\r\n}\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    login: (credentials: LoginRequest) => Promise<void>;\r\n    register: (userData: RegisterRequest) => Promise<void>;\r\n    logout: () => void;\r\n    isLoading: boolean;\r\n    isAuthenticated: boolean;\r\n    isOrganizer: boolean;\r\n    isAdmin: boolean;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nexport const AuthProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\r\n    const [user, setUser] = useState<User | null>(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const router = useRouter();\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('authToken');\r\n        const userData = localStorage.getItem('user');\r\n\r\n        if (token && userData) {\r\n            try {\r\n                setUser(JSON.parse(userData));\r\n            } catch (error) {\r\n                console.error('Error parsing user data:', error);\r\n                localStorage.removeItem('authToken');\r\n                localStorage.removeItem('user');\r\n            }\r\n        }\r\n        setIsLoading(false);\r\n    }, []);\r\n\r\n    const login = async (credentials: LoginRequest) => {\r\n        try {\r\n            // Call your existing API\r\n            const response = await fetch('http://localhost:5251/api/auth/login', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(credentials),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Login failed');\r\n            }\r\n\r\n            const authData: AuthResponse = await response.json();\r\n\r\n            const userData: User = {\r\n                email: authData.email,\r\n                firstName: authData.firstName,\r\n                lastName: authData.lastName,\r\n                roles: authData.roles,\r\n            };\r\n\r\n            localStorage.setItem('authToken', authData.token);\r\n            localStorage.setItem('user', JSON.stringify(userData));\r\n            setUser(userData);\r\n\r\n            // Role-based redirect - this is the key addition!\r\n            if (userData.roles.includes('Admin')) {\r\n                router.push('/admin/dashboard');\r\n            } else if (userData.roles.includes('Organizer')) {\r\n                router.push('/organizer/dashboard');\r\n            } else {\r\n                router.push('/events'); // Your existing customer redirect\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Login error:', error);\r\n            throw new Error('Login failed');\r\n        }\r\n    };\r\n\r\n    const register = async (userData: RegisterRequest) => {\r\n        try {\r\n            const response = await fetch('http://localhost:5251/api/auth/register', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(userData),\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Registration failed');\r\n            }\r\n\r\n            const authData: AuthResponse = await response.json();\r\n\r\n            const user: User = {\r\n                email: authData.email,\r\n                firstName: authData.firstName,\r\n                lastName: authData.lastName,\r\n                roles: authData.roles,\r\n            };\r\n\r\n            localStorage.setItem('authToken', authData.token);\r\n            localStorage.setItem('user', JSON.stringify(user));\r\n            setUser(user);\r\n\r\n            // Role-based redirect after registration\r\n            if (user.roles.includes('Admin')) {\r\n                router.push('/admin/dashboard');\r\n            } else if (user.roles.includes('Organizer')) {\r\n                router.push('/organizer/dashboard');\r\n            } else {\r\n                router.push('/events'); // Your existing customer redirect\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error('Registration error:', error);\r\n            throw new Error('Registration failed');\r\n        }\r\n    };\r\n\r\n    const logout = () => {\r\n        localStorage.removeItem('authToken');\r\n        localStorage.removeItem('user');\r\n        setUser(null);\r\n        router.push('/');\r\n    };\r\n\r\n    const isAuthenticated = !!user;\r\n    const isOrganizer = user?.roles.includes('Organizer') ?? false;\r\n    const isAdmin = user?.roles.includes('Admin') ?? false;\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{\r\n                user,\r\n                login,\r\n                register,\r\n                logout,\r\n                isLoading,\r\n                isAuthenticated,\r\n                isOrganizer,\r\n                isAdmin,\r\n            }}\r\n        >\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useAuth = () => {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n};"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/components/common/Navbar.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { Calendar, User, LogOut, Settings, Ticket } from 'lucide-react';\r\n\r\nconst Navbar: React.FC = () => {\r\n    const { user, logout, isAuthenticated, isOrganizer } = useAuth();\r\n\r\n    const handleLogout = () => {\r\n        logout();\r\n    };\r\n\r\n    return (\r\n        <nav className=\"bg-white shadow-lg border-b border-gray-200\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n                <div className=\"flex justify-between h-16\">\r\n                    <div className=\"flex items-center\">\r\n                        <Link href=\"/\" className=\"flex items-center space-x-2\">\r\n                            <Calendar className=\"h-8 w-8 text-blue-600\" />\r\n                            <span className=\"text-xl font-bold text-gray-900\">EventHub</span>\r\n                        </Link>\r\n\r\n                        <div className=\"hidden md:flex items-center space-x-8 ml-10\">\r\n                            <Link href=\"/events\" className=\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium\">\r\n                                Events\r\n                            </Link>\r\n                            {isOrganizer && (\r\n                                <Link href=\"/organizer\" className=\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium\">\r\n                                    Organize\r\n                                </Link>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center space-x-4\">\r\n                        {isAuthenticated ? (\r\n                            <div className=\"flex items-center space-x-4\">\r\n                                <Link href=\"/tickets\" className=\"flex items-center text-gray-700 hover:text-blue-600\">\r\n                                    <Ticket className=\"h-5 w-5 mr-1\" />\r\n                                    My Tickets\r\n                                </Link>\r\n\r\n                                <div className=\"relative group\">\r\n                                    <button className=\"flex items-center text-gray-700 hover:text-blue-600\">\r\n                                        <User className=\"h-5 w-5 mr-1\" />\r\n                                        {user?.firstName}\r\n                                    </button>\r\n\r\n                                    <div className=\"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50\">\r\n                                        <div className=\"py-1\">\r\n                                            <Link href=\"/profile\" className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\r\n                                                <Settings className=\"h-4 w-4 mr-2\" />\r\n                                                Profile Settings\r\n                                            </Link>\r\n                                            <Link href=\"/orders\" className=\"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\">\r\n                                                <Ticket className=\"h-4 w-4 mr-2\" />\r\n                                                My Orders\r\n                                            </Link>\r\n                                            <button\r\n                                                onClick={handleLogout}\r\n                                                className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\r\n                                            >\r\n                                                <LogOut className=\"h-4 w-4 mr-2\" />\r\n                                                Sign Out\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"flex items-center space-x-4\">\r\n                                <Link href=\"/login\" className=\"text-gray-700 hover:text-blue-600 px-3 py-2 rounded-md text-sm font-medium\">\r\n                                    Sign In\r\n                                </Link>\r\n                                <Link href=\"/register\" className=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200\">\r\n                                    Sign Up\r\n                                </Link>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    );\r\n};\r\n\r\nexport default Navbar;"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AALA;;;;;AAOA,MAAM,SAAmB;IACrB,MAAM,EAAE,IAAI,EAAE,MAAM,EAAE,eAAe,EAAE,WAAW,EAAE,GAAG,CAAA,GAAA,wHAAA,CAAA,UAAO,AAAD;IAE7D,MAAM,eAAe;QACjB;IACJ;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;sBACX,cAAA,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAI,WAAU;;kDACrB,8OAAC,0MAAA,CAAA,WAAQ;wCAAC,WAAU;;;;;;kDACpB,8OAAC;wCAAK,WAAU;kDAAkC;;;;;;;;;;;;0CAGtD,8OAAC;gCAAI,WAAU;;kDACX,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAU,WAAU;kDAA6E;;;;;;oCAG3G,6BACG,8OAAC,4JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAa,WAAU;kDAA6E;;;;;;;;;;;;;;;;;;kCAO3H,8OAAC;wBAAI,WAAU;kCACV,gCACG,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAW,WAAU;;sDAC5B,8OAAC,sMAAA,CAAA,SAAM;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;8CAIvC,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAO,WAAU;;8DACd,8OAAC,kMAAA,CAAA,OAAI;oDAAC,WAAU;;;;;;gDACf,MAAM;;;;;;;sDAGX,8OAAC;4CAAI,WAAU;sDACX,cAAA,8OAAC;gDAAI,WAAU;;kEACX,8OAAC,4JAAA,CAAA,UAAI;wDAAC,MAAK;wDAAW,WAAU;;0EAC5B,8OAAC,0MAAA,CAAA,WAAQ;gEAAC,WAAU;;;;;;4DAAiB;;;;;;;kEAGzC,8OAAC,4JAAA,CAAA,UAAI;wDAAC,MAAK;wDAAU,WAAU;;0EAC3B,8OAAC,sMAAA,CAAA,SAAM;gEAAC,WAAU;;;;;;4DAAiB;;;;;;;kEAGvC,8OAAC;wDACG,SAAS;wDACT,WAAU;;0EAEV,8OAAC,0MAAA,CAAA,SAAM;gEAAC,WAAU;;;;;;4DAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iDAQvD,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAS,WAAU;8CAA6E;;;;;;8CAG3G,8OAAC,4JAAA,CAAA,UAAI;oCAAC,MAAK;oCAAY,WAAU;8CAA6G;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU9K;uCAEe","debugId":null}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/app/layout.tsx"],"sourcesContent":["'use client';\n\nimport { Inter } from 'next/font/google';\nimport './globals.css';\nimport Navbar from '@/components/common/Navbar';\nimport { AuthProvider } from '@/hooks/useAuth';\n\nconst inter = Inter({ subsets: ['latin'] });\n\nexport default function RootLayout({\n    children,\n}: {\n    children: React.ReactNode;\n}) {\n    return (\n        <html lang=\"en\">\n            <body className={inter.className}>\n                <AuthProvider>\n                    <Navbar />\n                    {children}\n                </AuthProvider>\n            </body>\n        </html>\n    );\n}"],"names":[],"mappings":";;;;;AAIA;AACA;AALA;;;;;;AASe,SAAS,WAAW,EAC/B,QAAQ,EAGX;IACG,qBACI,8OAAC;QAAK,MAAK;kBACP,cAAA,8OAAC;YAAK,WAAW,yIAAA,CAAA,UAAK,CAAC,SAAS;sBAC5B,cAAA,8OAAC,wHAAA,CAAA,eAAY;;kCACT,8OAAC,sIAAA,CAAA,UAAM;;;;;oBACN;;;;;;;;;;;;;;;;;AAKrB","debugId":null}}]
}