{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/lib/api.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport axios, { AxiosResponse, AxiosError } from 'axios';\r\n\r\n// Enhanced types with smart ticketing support\r\ninterface User {\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    roles: string[];\r\n}\r\n\r\ninterface AuthResponse {\r\n    token: string;\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    roles: string[];\r\n    expiresAt: string;\r\n}\r\n\r\ninterface LoginRequest {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\ninterface RegisterRequest {\r\n    email: string;\r\n    password: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    phoneNumber?: string;\r\n}\r\n\r\ninterface Event {\r\n    eventDate: string | number | Date;\r\n    revenue: number;\r\n    eventId: number;\r\n    title: string;\r\n    description: string;\r\n    shortDescription?: string;\r\n    organizerId: number;\r\n    organizerName: string;\r\n    venueId: number;\r\n    venueName: string;\r\n    venueCity: string;\r\n    categoryId: number;\r\n    categoryName: string;\r\n    startDateTime: string;\r\n    endDateTime: string;\r\n    imageUrl?: string;\r\n    basePrice: number;\r\n    currency: string;\r\n    isOnline: boolean;\r\n    ticketsSold: number;\r\n    availableTickets: number;\r\n    status: string;\r\n    isPublished: boolean;\r\n}\r\n\r\n// Enhanced TicketType interface with smart editing support\r\ninterface TicketType {\r\n    ticketTypeId: number;\r\n    eventId: number;\r\n    eventTitle?: string;\r\n    name: string;\r\n    description?: string;\r\n    price: number;\r\n    quantityAvailable: number;\r\n    quantitySold: number;\r\n    quantityRemaining: number;\r\n    isActive: boolean;\r\n    isOnSale: boolean;\r\n    // Smart editing support fields\r\n    isEventPublished?: boolean;\r\n    eventStatus?: string;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n    createdAt?: string;\r\n    updatedAt?: string;\r\n}\r\n\r\ninterface Ticket {\r\n    ticketId: number;\r\n    eventId: number;\r\n    eventTitle: string;\r\n    ticketTypeName: string;\r\n    ticketNumber: string;\r\n    qrCode?: string;\r\n    pricePaid: number;\r\n    status: string;\r\n    purchaseDate: string;\r\n    attendeeFirstName?: string;\r\n    attendeeLastName?: string;\r\n    attendeeEmail?: string;\r\n    eventStartDateTime: string;\r\n    venueName: string;\r\n    venueAddress: string;\r\n}\r\n\r\ninterface Order {\r\n    orderId: number;\r\n    orderNumber: string;\r\n    eventTitle: string;\r\n    totalAmount: number;\r\n    currency: string;\r\n    status: string;\r\n    createdAt: string;\r\n    tickets: Ticket[];\r\n}\r\n\r\n// Enhanced DTOs with proper field mapping\r\ninterface CreateEventDto {\r\n    title: string;\r\n    description: string;\r\n    shortDescription?: string;\r\n    startDateTime: string;\r\n    endDateTime?: string;\r\n    categoryId: number;\r\n    venueId?: number;\r\n    imageUrl?: string;\r\n    bannerImageUrl?: string;\r\n    tags?: string;\r\n    maxAttendees: number;\r\n    basePrice: number;\r\n    currency: string;\r\n    isOnline: boolean;\r\n    onlineUrl?: string;\r\n}\r\n\r\ninterface UpdateEventDto {\r\n    title?: string;\r\n    description?: string;\r\n    shortDescription?: string;\r\n    startDateTime?: string;\r\n    endDateTime?: string;\r\n    categoryId?: number;\r\n    venueId?: number;\r\n    imageUrl?: string;\r\n    bannerImageUrl?: string;\r\n    tags?: string;\r\n    maxAttendees?: number;\r\n    basePrice?: number;\r\n    currency?: string;\r\n    isOnline?: boolean;\r\n    onlineUrl?: string;\r\n}\r\n\r\n// Enhanced CreateTicketTypeDto with all required fields\r\ninterface CreateTicketTypeDto {\r\n    eventId: number;\r\n    name: string;\r\n    description?: string;\r\n    price: number;\r\n    quantityAvailable: number;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n}\r\n\r\ninterface UpdateTicketTypeDto {\r\n    name?: string;\r\n    description?: string;\r\n    price?: number;\r\n    quantityAvailable?: number;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n    isActive?: boolean;\r\n}\r\n\r\ninterface Category {\r\n    categoryId: number;\r\n    name: string;\r\n    description?: string;\r\n}\r\n\r\ninterface CreateCategoryDto {\r\n    name: string;\r\n    description?: string;\r\n}\r\n\r\ninterface Venue {\r\n    venueId: number;\r\n    name: string;\r\n    address: string;\r\n    city: string;\r\n    capacity: number;\r\n    description?: string;\r\n}\r\n\r\ninterface CreateVenueDto {\r\n    name: string;\r\n    address: string;\r\n    city: string;\r\n    capacity: number;\r\n    description?: string;\r\n}\r\n\r\ninterface PurchaseTicketsDto {\r\n    eventId: number;\r\n    ticketItems: {\r\n        ticketTypeId: number;\r\n        quantity: number;\r\n    }[];\r\n    billingEmail: string;\r\n    billingFirstName: string;\r\n    billingLastName: string;\r\n    billingAddress?: string;\r\n    billingCity?: string;\r\n    billingState?: string;\r\n    billingZipCode?: string;\r\n    promoCode?: string;\r\n    attendees?: {\r\n        firstName: string;\r\n        lastName: string;\r\n        email: string;\r\n    }[];\r\n}\r\n\r\ninterface OrderSummary {\r\n    eventId: number;\r\n    eventTitle: string;\r\n    items: { ticketTypeId: number; quantity: number; }[];\r\n    subTotal: number;\r\n    serviceFee: number;\r\n    taxAmount: number;\r\n    discountAmount: number;\r\n    totalAmount: number;\r\n    currency: string;\r\n}\r\n\r\ninterface CheckInTicketDto {\r\n    ticketNumber: string;\r\n}\r\n\r\ninterface TicketValidation {\r\n    isValid: boolean;\r\n    ticket?: Ticket;\r\n    message: string;\r\n}\r\n\r\ninterface UserProfile {\r\n    userId: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phoneNumber?: string;\r\n    dateOfBirth?: string;\r\n    profileImageUrl?: string;\r\n    isEmailVerified: boolean;\r\n    isPhoneVerified: boolean;\r\n    createdAt: string;\r\n    lastLoginAt?: string;\r\n    status: string;\r\n    bio?: string;\r\n    website?: string;\r\n    timeZone?: string;\r\n    isOrganizer: boolean;\r\n    roles: string[];\r\n}\r\n\r\ninterface UpdateUserProfileDto {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phoneNumber?: string;\r\n    dateOfBirth?: string;\r\n    bio?: string;\r\n    website?: string;\r\n    timeZone?: string;\r\n}\r\n\r\ninterface UserOrganization {\r\n    companyName?: string;\r\n    businessLicense?: string;\r\n    address?: string;\r\n    city?: string;\r\n    state?: string;\r\n    zipCode?: string;\r\n    country?: string;\r\n}\r\n\r\ninterface UpdateUserOrganizationDto {\r\n    companyName?: string;\r\n    businessLicense?: string;\r\n    address?: string;\r\n    city?: string;\r\n    state?: string;\r\n    zipCode?: string;\r\n    country?: string;\r\n}\r\n\r\ninterface UserPreferences {\r\n    emailNotifications: boolean;\r\n    smsNotifications: boolean;\r\n    newBookingNotifications: boolean;\r\n    cancellationNotifications: boolean;\r\n    lowInventoryNotifications: boolean;\r\n    dailyReports: boolean;\r\n    weeklyReports: boolean;\r\n    monthlyReports: boolean;\r\n    twoFactorEnabled: boolean;\r\n    sessionTimeout: number;\r\n    loginNotifications: boolean;\r\n    defaultTimeZone?: string;\r\n    defaultEventDuration: number;\r\n    defaultTicketSaleStart: number;\r\n    defaultRefundPolicy?: string;\r\n    requireApproval: boolean;\r\n    autoPublish: boolean;\r\n    theme: string;\r\n    language: string;\r\n    dateFormat: string;\r\n    timeFormat: string;\r\n    currency: string;\r\n    accentColor: string;\r\n    fontSize: string;\r\n    compactMode: boolean;\r\n}\r\n\r\ninterface UpdateUserPreferencesDto {\r\n    emailNotifications: boolean;\r\n    smsNotifications: boolean;\r\n    newBookingNotifications: boolean;\r\n    cancellationNotifications: boolean;\r\n    lowInventoryNotifications: boolean;\r\n    dailyReports: boolean;\r\n    weeklyReports: boolean;\r\n    monthlyReports: boolean;\r\n    twoFactorEnabled: boolean;\r\n    sessionTimeout: number;\r\n    loginNotifications: boolean;\r\n    defaultTimeZone?: string;\r\n    defaultEventDuration: number;\r\n    defaultTicketSaleStart: number;\r\n    defaultRefundPolicy?: string;\r\n    requireApproval: boolean;\r\n    autoPublish: boolean;\r\n    theme: string;\r\n    language: string;\r\n    dateFormat: string;\r\n    timeFormat: string;\r\n    currency: string;\r\n    accentColor: string;\r\n    fontSize: string;\r\n    compactMode: boolean;\r\n}\r\n\r\ninterface ChangePasswordDto {\r\n    currentPassword: string;\r\n    newPassword: string;\r\n}\r\n\r\n// API Response wrapper\r\ninterface ApiResponse<T> {\r\n    success?: boolean;\r\n    data?: T;\r\n    message?: string;\r\n    errors?: string[];\r\n}\r\n\r\n// Enhanced API configuration with environment support\r\nconst getApiBaseUrl = (): string => {\r\n    if (typeof window !== 'undefined') {\r\n        return process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5251/api';\r\n    }\r\n    return process.env.API_URL || 'http://localhost:5251/api';\r\n};\r\n\r\nexport const userApi = {\r\n    // Profile management\r\n    getProfile: async (): Promise<UserProfile> => {\r\n        try {\r\n            console.log('üë§ Fetching user profile');\r\n            const response = await api.get('/user/profile');\r\n            console.log('üë§ Successfully loaded user profile');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üë§ Error fetching profile:', error.message);\r\n            throw new Error(`Failed to load profile: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    updateProfile: async (profileData: UpdateUserProfileDto): Promise<UserProfile> => {\r\n        try {\r\n            console.log('üë§ Updating user profile');\r\n            const response = await api.put('/user/profile', profileData);\r\n            console.log('üë§ Successfully updated user profile');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üë§ Error updating profile:', error.message);\r\n            throw new Error(`Failed to update profile: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    changePassword: async (passwordData: ChangePasswordDto): Promise<void> => {\r\n        try {\r\n            console.log('üë§ Changing password');\r\n            await api.post('/user/change-password', passwordData);\r\n            console.log('üë§ Successfully changed password');\r\n        } catch (error: any) {\r\n            console.error('üë§ Error changing password:', error.message);\r\n            throw new Error(`Failed to change password: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    // Organization management\r\n    getOrganization: async (): Promise<UserOrganization> => {\r\n        try {\r\n            console.log('üè¢ Fetching organization details');\r\n            const response = await api.get('/user/organization');\r\n            console.log('üè¢ Successfully loaded organization details');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üè¢ Error fetching organization:', error.message);\r\n            // Return empty object for new organizations\r\n            return {};\r\n        }\r\n    },\r\n\r\n    updateOrganization: async (orgData: UpdateUserOrganizationDto): Promise<UserOrganization> => {\r\n        try {\r\n            console.log('üè¢ Updating organization details');\r\n            const response = await api.put('/user/organization', orgData);\r\n            console.log('üè¢ Successfully updated organization details');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üè¢ Error updating organization:', error.message);\r\n            throw new Error(`Failed to update organization: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    // Preferences management\r\n    getPreferences: async (): Promise<UserPreferences> => {\r\n        try {\r\n            console.log('‚öôÔ∏è Fetching user preferences');\r\n            const response = await api.get('/user/preferences');\r\n            console.log('‚öôÔ∏è Successfully loaded user preferences');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('‚öôÔ∏è Error fetching preferences:', error.message);\r\n            // Return default preferences if none exist\r\n            return {\r\n                emailNotifications: true,\r\n                smsNotifications: false,\r\n                newBookingNotifications: true,\r\n                cancellationNotifications: true,\r\n                lowInventoryNotifications: true,\r\n                dailyReports: false,\r\n                weeklyReports: true,\r\n                monthlyReports: true,\r\n                twoFactorEnabled: false,\r\n                sessionTimeout: 30,\r\n                loginNotifications: true,\r\n                defaultTimeZone: 'America/New_York',\r\n                defaultEventDuration: 120,\r\n                defaultTicketSaleStart: 30,\r\n                defaultRefundPolicy: 'flexible',\r\n                requireApproval: false,\r\n                autoPublish: false,\r\n                theme: 'light',\r\n                language: 'en',\r\n                dateFormat: 'MM/dd/yyyy',\r\n                timeFormat: '12h',\r\n                currency: 'USD',\r\n                accentColor: 'blue',\r\n                fontSize: 'medium',\r\n                compactMode: false\r\n\r\n            };\r\n        }\r\n    },\r\n\r\n    updatePreferences: async (preferencesData: UpdateUserPreferencesDto): Promise<UserPreferences> => {\r\n        try {\r\n            console.log('‚öôÔ∏è Updating user preferences');\r\n            const response = await api.put('/user/preferences', preferencesData);\r\n            console.log('‚öôÔ∏è Successfully updated user preferences');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('‚öôÔ∏è Error updating preferences:', error.message);\r\n            throw new Error(`Failed to update preferences: ${error.message}`);\r\n        }\r\n    }\r\n};\r\n\r\nconst API_BASE_URL = getApiBaseUrl();\r\n\r\nconst api = axios.create({\r\n    baseURL: API_BASE_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n    timeout: 30000, // 30 second timeout\r\n});\r\n\r\n// Enhanced request interceptor with better error handling\r\napi.interceptors.request.use((config) => {\r\n    if (typeof window !== 'undefined') {\r\n        const token = localStorage.getItem('authToken');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n    }\r\n\r\n    // Log requests in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n        console.log(`üîÑ API Request: ${config.method?.toUpperCase()} ${config.url}`);\r\n    }\r\n\r\n    return config;\r\n});\r\n\r\n// Enhanced response interceptor with better error handling\r\napi.interceptors.response.use(\r\n    (response: AxiosResponse) => {\r\n        // Handle wrapped responses\r\n        if (response.data?.success === false) {\r\n            throw new Error(response.data.message || 'API request failed');\r\n        }\r\n\r\n        // Extract data from wrapped responses\r\n        if (response.data?.success === true && response.data?.data !== undefined) {\r\n            response.data = response.data.data;\r\n        }\r\n\r\n        if (process.env.NODE_ENV === 'development') {\r\n            console.log(`‚úÖ API Response: ${response.config.method?.toUpperCase()} ${response.config.url}`);\r\n        }\r\n\r\n        return response;\r\n    },\r\n    (error: AxiosError) => {\r\n        const message = (error.response?.data as any)?.message || error.message || 'Network error';\r\n\r\n        if (process.env.NODE_ENV === 'development') {\r\n            console.error(`‚ùå API Error: ${error.config?.method?.toUpperCase()} ${error.config?.url}`, message);\r\n        }\r\n\r\n        if (error.response?.status === 401 && typeof window !== 'undefined') {\r\n            localStorage.removeItem('authToken');\r\n            localStorage.removeItem('user');\r\n            // Don't redirect automatically, let components handle this\r\n            console.warn('Authentication expired. Please log in again.');\r\n        }\r\n\r\n        // Create a more detailed error\r\n        const enhancedError = new Error(message);\r\n        (enhancedError as any).status = error.response?.status;\r\n        (enhancedError as any).originalError = error;\r\n\r\n        return Promise.reject(enhancedError);\r\n    }\r\n);\r\n\r\n// Helper functions for data normalization\r\nconst normalizeTicketType = (tt: any): TicketType => ({\r\n    ticketTypeId: tt.ticketTypeId || tt.TicketTypeId,\r\n    eventId: tt.eventId || tt.EventId,\r\n    eventTitle: tt.eventTitle || tt.EventTitle,\r\n    name: tt.name || tt.Name || '',\r\n    description: tt.description || tt.Description || '',\r\n    price: Number(tt.price || tt.Price || 0),\r\n    quantityAvailable: Number(tt.quantityAvailable || tt.QuantityAvailable || 0),\r\n    quantitySold: Number(tt.quantitySold || tt.QuantitySold || 0),\r\n    quantityRemaining: Number(tt.quantityRemaining || tt.QuantityRemaining || 0),\r\n    isActive: tt.isActive !== undefined ? tt.isActive : tt.IsActive !== undefined ? tt.IsActive : true,\r\n    isOnSale: tt.isOnSale !== undefined ? tt.isOnSale : tt.IsOnSale !== undefined ? tt.IsOnSale : true,\r\n    isEventPublished: tt.isEventPublished || tt.IsEventPublished || false,\r\n    eventStatus: tt.eventStatus || tt.EventStatus || 'Draft',\r\n    saleStartDate: tt.saleStartDate || tt.SaleStartDate,\r\n    saleEndDate: tt.saleEndDate || tt.SaleEndDate,\r\n    minQuantityPerOrder: Number(tt.minQuantityPerOrder || tt.MinQuantityPerOrder || 1),\r\n    maxQuantityPerOrder: Number(tt.maxQuantityPerOrder || tt.MaxQuantityPerOrder || 10),\r\n    sortOrder: Number(tt.sortOrder || tt.SortOrder || 0),\r\n    createdAt: tt.createdAt || tt.CreatedAt,\r\n    updatedAt: tt.updatedAt || tt.UpdatedAt\r\n});\r\n\r\n// Smart ticketing utility functions\r\nexport const canEditTicketType = (ticketType: TicketType): { canEdit: boolean; reason: string } => {\r\n    if (ticketType.quantitySold > 0) {\r\n        return {\r\n            canEdit: false,\r\n            reason: `${ticketType.quantitySold} ticket(s) already sold. Editing locked to preserve purchase data.`\r\n        };\r\n    }\r\n\r\n    if (ticketType.isEventPublished) {\r\n        return {\r\n            canEdit: false,\r\n            reason: 'Event is published. Limited editing to preserve sales integrity.'\r\n        };\r\n    }\r\n\r\n    return {\r\n        canEdit: true,\r\n        reason: 'Safe to edit - no sales yet and event is unpublished.'\r\n    };\r\n};\r\n\r\nexport const canCreateTicketTypes = (event: Event): { canCreate: boolean; reason: string } => {\r\n    const totalTicketsSold = event.ticketsSold || 0;\r\n\r\n    if (totalTicketsSold > 0) {\r\n        return {\r\n            canCreate: false,\r\n            reason: `Cannot create new ticket types. ${totalTicketsSold} ticket(s) have already been sold.`\r\n        };\r\n    }\r\n\r\n    if (event.isPublished) {\r\n        return {\r\n            canCreate: true,\r\n            reason: 'Event is published - new ticket types will be immediately available for sale.'\r\n        };\r\n    }\r\n\r\n    return {\r\n        canCreate: true,\r\n        reason: 'Safe to create new ticket types.'\r\n    };\r\n};\r\n\r\n// Auth API\r\nexport const authApi = {\r\n    login: async (credentials: LoginRequest): Promise<AuthResponse> => {\r\n        const response = await api.post('/auth/login', credentials);\r\n        return response.data;\r\n    },\r\n\r\n    register: async (userData: RegisterRequest): Promise<AuthResponse> => {\r\n        const response = await api.post('/auth/register', userData);\r\n        return response.data;\r\n    },\r\n};\r\n\r\n// Events API - Enhanced for organizers\r\nexport const eventsApi = {\r\n    // Public endpoints\r\n    getEvents: async (params?: {\r\n        categoryId?: number;\r\n        search?: string;\r\n        isOnline?: boolean;\r\n        startDate?: string;\r\n        endDate?: string;\r\n        page?: number;\r\n        pageSize?: number;\r\n    }): Promise<Event[]> => {\r\n        const response = await api.get('/events', { params });\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getEvent: async (id: number): Promise<Event> => {\r\n        const response = await api.get(`/events/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Organizer endpoints\r\n    getMyEvents: async (): Promise<Event[]> => {\r\n        const response = await api.get('/events/my-events');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    createEvent: async (eventData: CreateEventDto): Promise<Event> => {\r\n        const response = await api.post('/events', eventData);\r\n        return response.data;\r\n    },\r\n\r\n    updateEvent: async (id: number, eventData: UpdateEventDto): Promise<Event> => {\r\n        const response = await api.put(`/events/${id}`, eventData);\r\n        return response.data;\r\n    },\r\n\r\n    deleteEvent: async (id: number): Promise<boolean> => {\r\n        const response = await api.delete(`/events/${id}`);\r\n        return response.status === 204 || response.status === 200;\r\n    },\r\n\r\n    publishEvent: async (id: number): Promise<void> => {\r\n        await api.post(`/events/${id}/publish`);\r\n    },\r\n\r\n    unpublishEvent: async (id: number): Promise<void> => {\r\n        await api.post(`/events/${id}/unpublish`);\r\n    }\r\n};\r\n\r\n// Categories API\r\nexport const categoriesApi = {\r\n    getCategories: async (): Promise<Category[]> => {\r\n        const response = await api.get('/categories');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getCategory: async (id: number): Promise<Category> => {\r\n        const response = await api.get(`/categories/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    createCategory: async (categoryData: CreateCategoryDto): Promise<Category> => {\r\n        const response = await api.post('/categories', categoryData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Venues API\r\nexport const venuesApi = {\r\n    getVenues: async (city?: string): Promise<Venue[]> => {\r\n        const params = city ? { city } : {};\r\n        const response = await api.get('/venues', { params });\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getVenue: async (id: number): Promise<Venue> => {\r\n        const response = await api.get(`/venues/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    createVenue: async (venueData: CreateVenueDto): Promise<Venue> => {\r\n        const response = await api.post('/venues', venueData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Enhanced Tickets API with smart ticketing support\r\nexport const ticketsApi = {\r\n    // Ticket Types - Enhanced with proper error handling and data normalization\r\n    getEventTicketTypes: async (eventId: number): Promise<TicketType[]> => {\r\n        try {\r\n            console.log(`üé´ Fetching ticket types for event ${eventId}`);\r\n            const response = await api.get(`/tickets/event/${eventId}/ticket-types`);\r\n\r\n            const ticketTypes = Array.isArray(response.data) ? response.data : [];\r\n            const normalizedTicketTypes = ticketTypes.map(normalizeTicketType);\r\n\r\n            console.log(`üé´ Successfully loaded ${normalizedTicketTypes.length} ticket types`);\r\n            return normalizedTicketTypes;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error fetching ticket types:', error.message);\r\n            throw new Error(`Failed to load ticket types: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    createTicketType: async (ticketTypeData: CreateTicketTypeDto): Promise<TicketType> => {\r\n        try {\r\n            console.log('üé´ Creating ticket type:', ticketTypeData);\r\n\r\n            const payload = {\r\n                eventId: Number(ticketTypeData.eventId),\r\n                name: ticketTypeData.name.trim(),\r\n                description: ticketTypeData.description?.trim() || null,\r\n                price: Number(ticketTypeData.price),\r\n                quantityAvailable: Number(ticketTypeData.quantityAvailable),\r\n                saleStartDate: ticketTypeData.saleStartDate || null,\r\n                saleEndDate: ticketTypeData.saleEndDate || null,\r\n                minQuantityPerOrder: Number(ticketTypeData.minQuantityPerOrder || 1),\r\n                maxQuantityPerOrder: Number(ticketTypeData.maxQuantityPerOrder || 10),\r\n                sortOrder: Number(ticketTypeData.sortOrder || 0)\r\n            };\r\n\r\n            const response = await api.post('/tickets/ticket-types', payload);\r\n            const normalizedTicketType = normalizeTicketType(response.data);\r\n\r\n            console.log('üé´ Successfully created ticket type:', normalizedTicketType);\r\n            return normalizedTicketType;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error creating ticket type:', error.message);\r\n            throw new Error(`Failed to create ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    updateTicketType: async (id: number, ticketTypeData: UpdateTicketTypeDto): Promise<TicketType> => {\r\n        try {\r\n            console.log(`üé´ Updating ticket type ${id}:`, ticketTypeData);\r\n\r\n            // Remove undefined values\r\n            const payload = Object.fromEntries(\r\n                Object.entries(ticketTypeData).filter(([_, value]) => value !== undefined)\r\n            );\r\n\r\n            const response = await api.put(`/tickets/ticket-types/${id}`, payload);\r\n            const normalizedTicketType = normalizeTicketType(response.data);\r\n\r\n            console.log('üé´ Successfully updated ticket type:', normalizedTicketType);\r\n            return normalizedTicketType;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error updating ticket type:', error.message);\r\n            throw new Error(`Failed to update ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    deleteTicketType: async (id: number): Promise<boolean> => {\r\n        try {\r\n            console.log(`üé´ Deleting ticket type ${id}`);\r\n            const response = await api.delete(`/tickets/ticket-types/${id}`);\r\n            console.log('üé´ Successfully deleted ticket type');\r\n            return response.status === 204 || response.status === 200;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error deleting ticket type:', error.message);\r\n            throw new Error(`Failed to delete ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    getTicketType: async (id: number): Promise<TicketType> => {\r\n        const response = await api.get(`/tickets/ticket-types/${id}`);\r\n        return normalizeTicketType(response.data);\r\n    },\r\n\r\n    // Orders and Purchases\r\n    calculateOrder: async (purchaseData: PurchaseTicketsDto): Promise<OrderSummary> => {\r\n        const response = await api.post('/tickets/calculate-order', purchaseData);\r\n        return response.data;\r\n    },\r\n\r\n    purchaseTickets: async (purchaseData: PurchaseTicketsDto): Promise<Order> => {\r\n        const response = await api.post('/tickets/purchase', purchaseData);\r\n        return response.data;\r\n    },\r\n\r\n    // User tickets\r\n    getMyTickets: async (): Promise<Ticket[]> => {\r\n        const response = await api.get('/tickets/my-tickets');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getTicket: async (id: number): Promise<Ticket> => {\r\n        const response = await api.get(`/tickets/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Validation and Check-in\r\n    validateTicket: async (ticketNumber: string): Promise<TicketValidation> => {\r\n        const response = await api.post('/tickets/validate', JSON.stringify(ticketNumber), {\r\n            headers: { 'Content-Type': 'application/json' }\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    checkInTicket: async (checkInData: CheckInTicketDto): Promise<Ticket> => {\r\n        const response = await api.post('/tickets/check-in', checkInData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Orders API\r\nexport const ordersApi = {\r\n    getMyOrders: async (): Promise<Order[]> => {\r\n        const response = await api.get('/orders');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getOrder: async (id: number): Promise<Order> => {\r\n        const response = await api.get(`/orders/${id}`);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Health check and connectivity testing\r\nexport const healthApi = {\r\n    checkConnection: async (): Promise<boolean> => {\r\n        try {\r\n            const response = await api.get('/health');\r\n            return response.status === 200;\r\n        } catch {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    testAuth: async (): Promise<boolean> => {\r\n        try {\r\n            const response = await api.get('/events/my-events');\r\n            return response.status === 200;\r\n        } catch {\r\n            return false;\r\n        }\r\n    }\r\n};\r\n\r\nexport default api;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/app/organizer/settings/page.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\n'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { userApi } from '@/lib/api';\r\nimport { useTheme, useThemeClasses } from '@/hooks/useTheme';\r\nimport { useI18nContext } from '@/components/providers/I18nProvider';\r\nimport LanguageSettings from '@/components/LanguageSettings';\r\nimport {\r\n    User,\r\n    Mail,\r\n    Phone,\r\n    MapPin,\r\n    Building2,\r\n    CreditCard,\r\n    Bell,\r\n    Shield,\r\n    Palette,\r\n    Calendar,\r\n    DollarSign,\r\n    Globe,\r\n    Settings,\r\n    Save,\r\n    Eye,\r\n    EyeOff,\r\n    Clock,\r\n    Languages,\r\n    Smartphone,\r\n    Key,\r\n    Download,\r\n    Upload,\r\n    RefreshCw,\r\n    AlertCircle,\r\n    CheckCircle,\r\n    Lock,\r\n    Unlock,\r\n    Zap,\r\n    FileText,\r\n    Monitor,\r\n    Sun,\r\n    Moon,\r\n    Check,\r\n    X\r\n} from 'lucide-react';\r\n\r\n// UPDATED: Removed dateFormat from UserPreferences interface\r\ninterface UserPreferences {\r\n    // Notification preferences\r\n    emailNotifications: boolean;\r\n    smsNotifications: boolean;\r\n    newBookingNotifications: boolean;\r\n    cancellationNotifications: boolean;\r\n    lowInventoryNotifications: boolean;\r\n    dailyReports: boolean;\r\n    weeklyReports: boolean;\r\n    monthlyReports: boolean;\r\n\r\n    // Security preferences\r\n    twoFactorEnabled: boolean;\r\n    sessionTimeout: number;\r\n    loginNotifications: boolean;\r\n\r\n    // Event defaults\r\n    defaultTimeZone?: string;\r\n    defaultEventDuration: number;\r\n    defaultTicketSaleStart: number;\r\n    defaultRefundPolicy?: string;\r\n    requireApproval: boolean;\r\n    autoPublish: boolean;\r\n    dateFormat: string;\r\n    // Appearance preferences - REMOVED dateFormat\r\n    theme: 'light' | 'dark' | 'auto';\r\n    language: string;\r\n    timeFormat: '12h' | '24h';\r\n    currency: string;\r\n    accentColor: string;\r\n    fontSize: 'small' | 'medium' | 'large';\r\n    compactMode: boolean;\r\n}\r\n\r\ninterface UserProfileData {\r\n    companyName?: string;\r\n    businessLicense?: string;\r\n    address?: string;\r\n    city?: string;\r\n    state?: string;\r\n    zipCode?: string;\r\n    country?: string;\r\n    bio?: string;\r\n    website?: string;\r\n    timeZone?: string;\r\n    isOrganizer?: boolean;\r\n}\r\n\r\ninterface UserData {\r\n    userId?: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phoneNumber?: string;\r\n    dateOfBirth?: string;\r\n    profileImageUrl?: string;\r\n    isEmailVerified?: boolean;\r\n    isPhoneVerified?: boolean;\r\n    createdAt?: string;\r\n    lastLoginAt?: string;\r\n    status?: string;\r\n    bio?: string;\r\n    website?: string;\r\n    timeZone?: string;\r\n    isOrganizer?: boolean;\r\n    roles?: string[];\r\n}\r\n\r\nconst themes = [\r\n    {\r\n        id: 'light',\r\n        name: 'Light',\r\n        icon: Sun,\r\n        description: 'Clean and bright interface',\r\n        preview: { bg: 'bg-white', text: 'text-gray-900', border: 'border-gray-200' }\r\n    },\r\n    {\r\n        id: 'dark',\r\n        name: 'Dark',\r\n        icon: Moon,\r\n        description: 'Easy on the eyes',\r\n        preview: { bg: 'bg-gray-900', text: 'text-white', border: 'border-gray-700' }\r\n    },\r\n    {\r\n        id: 'auto',\r\n        name: 'Auto',\r\n        icon: Monitor,\r\n        description: 'Follows system preference',\r\n        preview: { bg: 'bg-gradient-to-r from-white to-gray-900', text: 'text-gray-600', border: 'border-gray-400' }\r\n    }\r\n];\r\n\r\nconst accentColors = [\r\n    { id: 'blue', name: 'Blue', class: 'bg-blue-500', rgb: 'rgb(59, 130, 246)' },\r\n    { id: 'purple', name: 'Purple', class: 'bg-purple-500', rgb: 'rgb(168, 85, 247)' },\r\n    { id: 'green', name: 'Green', class: 'bg-green-500', rgb: 'rgb(34, 197, 94)' },\r\n    { id: 'red', name: 'Red', class: 'bg-red-500', rgb: 'rgb(239, 68, 68)' },\r\n    { id: 'orange', name: 'Orange', class: 'bg-orange-500', rgb: 'rgb(249, 115, 22)' },\r\n    { id: 'pink', name: 'Pink', class: 'bg-pink-500', rgb: 'rgb(236, 72, 153)' }\r\n];\r\n\r\nconst languages = [\r\n    { code: 'en', name: 'English', flag: 'üá∫üá∏' },\r\n    { code: 'es', name: 'Espa√±ol', flag: 'üá™üá∏' },\r\n    { code: 'fr', name: 'Fran√ßais', flag: 'üá´üá∑' },\r\n    { code: 'de', name: 'Deutsch', flag: 'üá©üá™' },\r\n    { code: 'it', name: 'Italiano', flag: 'üáÆüáπ' }\r\n];\r\n\r\n\r\n\r\n\r\n// UPDATED: Enhanced currency options\r\nconst currencies = [\r\n    { code: 'USD', symbol: '$', name: 'US Dollar' },\r\n    { code: 'EUR', symbol: '‚Ç¨', name: 'Euro' },\r\n    { code: 'GBP', symbol: '¬£', name: 'British Pound' },\r\n    { code: 'CAD', symbol: 'C$', name: 'Canadian Dollar' },\r\n    { code: 'MYR', symbol: 'RM', name: 'Malaysian Ringgit' },\r\n    { code: 'SGD', symbol: 'S$', name: 'Singapore Dollar' },\r\n    { code: 'JPY', symbol: '¬•', name: 'Japanese Yen' },\r\n    { code: 'AUD', symbol: 'A$', name: 'Australian Dollar' }\r\n];\r\n\r\nconst OrganizerSettings: React.FC = () => {\r\n    // State declarations\r\n    const [activeTab, setActiveTab] = useState('profile');\r\n    const [loading, setLoading] = useState(false);\r\n    const [profileLoading, setProfileLoading] = useState(true);\r\n    const [saved, setSaved] = useState(false);\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [authStatus, setAuthStatus] = useState<'checking' | 'authenticated' | 'unauthenticated'>('checking');\r\n    const [error, setError] = useState<string | null>(null);\r\n    const { t, changeLanguage, currentLanguage } = useI18nContext();\r\n\r\n    // UPDATED: Use enhanced theme hooks\r\n    const { updateTheme, isDark, isCompact } = useTheme();\r\n    const themeClasses = useThemeClasses();\r\n\r\n    // User basic data (from User entity)\r\n    const [userData, setUserData] = useState<UserData>({\r\n        email: '',\r\n        firstName: '',\r\n        lastName: '',\r\n        phoneNumber: '',\r\n        profileImageUrl: ''\r\n    });\r\n\r\n    // User profile data (from UserProfile entity)\r\n    const [userProfile, setUserProfile] = useState<UserProfileData>({\r\n        bio: '',\r\n        website: '',\r\n        companyName: '',\r\n        address: '',\r\n        city: '',\r\n        state: '',\r\n        zipCode: '',\r\n        country: 'United States',\r\n        timeZone: 'America/New_York',\r\n        isOrganizer: false,\r\n        businessLicense: ''\r\n    });\r\n\r\n    const dateFormats = [\r\n        { id: 'MM/dd/yyyy', name: 'MM/DD/YYYY', example: '12/31/2024' },\r\n        { id: 'dd/MM/yyyy', name: 'DD/MM/YYYY', example: '31/12/2024' },\r\n        { id: 'yyyy-MM-dd', name: 'YYYY-MM-DD', example: '2024-12-31' },\r\n        { id: 'dd-MM-yyyy', name: 'DD-MM-YYYY', example: '31-12-2024' },\r\n        { id: 'MMM dd, yyyy', name: 'MMM DD, YYYY', example: 'Dec 31, 2024' },\r\n        { id: 'dd MMM yyyy', name: 'DD MMM YYYY', example: '31 Dec 2024' }\r\n    ];\r\n\r\n    const renderLanguageTab = () => (\r\n        <div className=\"space-y-6\">\r\n            {/* Primary Language Settings */}\r\n            {/* Primary Language Settings */}\r\n            <div className={`${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <div className=\"flex items-center space-x-2 mb-4\">\r\n                    <Languages className={`w-5 h-5 ${themeClasses.themeMutedFg}`} />\r\n                    <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg}`}>Language & Region</h3>\r\n                </div>\r\n                <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg} mb-6`}>\r\n                    Configure your language preferences and regional formats\r\n                </p>\r\n\r\n                <div className=\"space-y-6\">\r\n                    {/* Language Selection */}\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-3`}>\r\n                            Interface Language\r\n                        </label>\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n                            {languages.map((lang) => (\r\n                                <button\r\n                                    key={lang.code}\r\n                                    onClick={() => updatePreference('language', lang.code)}\r\n                                    className={`p-3 rounded-lg border-2 transition-all text-left ${\r\n                                        // Use currentLanguage from useI18n hook\r\n                                        currentLanguage === lang.code\r\n                                            ? 'accent-border bg-blue-50 dark:bg-blue-900/20'\r\n                                            : `${themeClasses.themeBorder} ${themeClasses.hover}`\r\n                                        }`}\r\n                                >\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <div className=\"flex items-center space-x-2\">\r\n                                            <span className=\"text-lg\">{lang.flag}</span>\r\n                                            <span className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>\r\n                                                {lang.name}\r\n                                            </span>\r\n                                        </div>\r\n                                        {currentLanguage === lang.code && (\r\n                                            <Check className=\"w-4 h-4 accent-text\" />\r\n                                        )}\r\n                                    </div>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Rest of your renderLanguageTab content stays the same */}\r\n            {/* ... Time & Date Formats, Currency Settings, Live Preview ... */}\r\n        </div>\r\n    );\r\n\r\n    // UPDATED: User preferences - REMOVED dateFormat\r\n    // Fix the initial state declaration around line 228\r\n\r\n    // UPDATED: User preferences - Include dateFormat in initial state\r\n    const [userPreferences, setUserPreferences] = useState<UserPreferences>({\r\n        // Notification preferences\r\n        emailNotifications: true,\r\n        smsNotifications: false,\r\n        newBookingNotifications: true,\r\n        cancellationNotifications: true,\r\n        lowInventoryNotifications: true,\r\n        dailyReports: false,\r\n        weeklyReports: true,\r\n        monthlyReports: true,\r\n\r\n        // Security preferences\r\n        twoFactorEnabled: false,\r\n        sessionTimeout: 30,\r\n        loginNotifications: true,\r\n\r\n        // Event defaults\r\n        defaultTimeZone: 'America/New_York',\r\n        defaultEventDuration: 120,\r\n        defaultTicketSaleStart: 30,\r\n        defaultRefundPolicy: 'flexible',\r\n        requireApproval: false,\r\n        autoPublish: false,\r\n\r\n        // IMPORTANT: Add dateFormat to initial state\r\n        dateFormat: 'MM/dd/yyyy', // ADD THIS LINE\r\n\r\n        // Appearance preferences\r\n        theme: 'light',\r\n        language: 'en',\r\n        timeFormat: '12h',\r\n        currency: 'USD',\r\n        accentColor: 'blue',\r\n        fontSize: 'medium',\r\n        compactMode: false\r\n    });\r\n\r\n    const [passwordData, setPasswordData] = useState({\r\n        currentPassword: '',\r\n        newPassword: '',\r\n        confirmPassword: ''\r\n    });\r\n\r\n    // UPDATED: Enhanced theme-aware input styles\r\n    const getInputStyles = (hasError = false) => {\r\n        const baseStyles = `w-full border rounded-lg focus:ring-2 accent-focus placeholder-opacity-60 theme-transition`;\r\n        const themeStyles = `${themeClasses.themeCard} ${themeClasses.themeFg} ${themeClasses.themeBorder} ${themeClasses.compactInput}`;\r\n        const errorStyles = hasError ? 'border-red-500' : '';\r\n        return `${baseStyles} ${themeStyles} ${errorStyles}`;\r\n    };\r\n\r\n    // Keep existing authentication and data fetching functions\r\n    const checkAuth = (): boolean => {\r\n        const token = localStorage.getItem('authToken');\r\n\r\n        console.log('üîç Checking auth status:', { hasToken: !!token });\r\n\r\n        if (!token) {\r\n            setAuthStatus('unauthenticated');\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            const payload = JSON.parse(atob(token.split('.')[1]));\r\n            const currentTime = Math.floor(Date.now() / 1000);\r\n\r\n            if (payload.exp && payload.exp < currentTime) {\r\n                localStorage.removeItem('authToken');\r\n                localStorage.removeItem('user');\r\n                setAuthStatus('unauthenticated');\r\n                return false;\r\n            }\r\n\r\n            setAuthStatus('authenticated');\r\n            console.log('‚úÖ Authentication successful');\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Invalid token format:', error);\r\n            localStorage.removeItem('authToken');\r\n            localStorage.removeItem('user');\r\n            setAuthStatus('unauthenticated');\r\n            return false;\r\n        }\r\n    };\r\n\r\n    // UPDATED: Fetch user data - removed dateFormat\r\n    const fetchUserData = async (): Promise<void> => {\r\n        if (!checkAuth()) return;\r\n\r\n        setProfileLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            // OPTIMIZATION: Load all data in parallel instead of sequentially\r\n            const [userResponse, organizationData, preferencesData] = await Promise.allSettled([\r\n                userApi.getProfile(),\r\n                userApi.getOrganization(),\r\n                userApi.getPreferences()\r\n            ]);\r\n\r\n            // Handle user profile data\r\n            if (userResponse.status === 'fulfilled') {\r\n                setUserData({\r\n                    userId: userResponse.value.userId,\r\n                    firstName: userResponse.value.firstName || '',\r\n                    lastName: userResponse.value.lastName || '',\r\n                    email: userResponse.value.email || '',\r\n                    phoneNumber: userResponse.value.phoneNumber || '',\r\n                    dateOfBirth: userResponse.value.dateOfBirth || '',\r\n                    profileImageUrl: userResponse.value.profileImageUrl || '',\r\n                    isEmailVerified: userResponse.value.isEmailVerified || false,\r\n                    isPhoneVerified: userResponse.value.isPhoneVerified || false,\r\n                    createdAt: userResponse.value.createdAt || '',\r\n                    lastLoginAt: userResponse.value.lastLoginAt || '',\r\n                    status: userResponse.value.status || '',\r\n                    bio: userResponse.value.bio || '',\r\n                    website: userResponse.value.website || '',\r\n                    timeZone: userResponse.value.timeZone || '',\r\n                    isOrganizer: userResponse.value.isOrganizer || false,\r\n                    roles: userResponse.value.roles || []\r\n                });\r\n            }\r\n\r\n            // Handle organization data\r\n            if (organizationData.status === 'fulfilled') {\r\n                setUserProfile({\r\n                    companyName: organizationData.value.companyName || '',\r\n                    businessLicense: organizationData.value.businessLicense || '',\r\n                    address: organizationData.value.address || '',\r\n                    city: organizationData.value.city || '',\r\n                    state: organizationData.value.state || '',\r\n                    zipCode: organizationData.value.zipCode || '',\r\n                    country: organizationData.value.country || 'United States',\r\n                    bio: userResponse.status === 'fulfilled' ? userResponse.value.bio || '' : '',\r\n                    website: userResponse.status === 'fulfilled' ? userResponse.value.website || '' : '',\r\n                    timeZone: userResponse.status === 'fulfilled' ? userResponse.value.timeZone || 'America/New_York' : 'America/New_York',\r\n                    isOrganizer: userResponse.status === 'fulfilled' ? userResponse.value.isOrganizer || false : false\r\n                });\r\n            } else {\r\n                // Fallback for organization data\r\n                console.log('No organization data found, using defaults');\r\n                setUserProfile({\r\n                    companyName: '',\r\n                    businessLicense: '',\r\n                    address: '',\r\n                    city: '',\r\n                    state: '',\r\n                    zipCode: '',\r\n                    country: 'United States',\r\n                    bio: userResponse.status === 'fulfilled' ? userResponse.value.bio || '' : '',\r\n                    website: userResponse.status === 'fulfilled' ? userResponse.value.website || '' : '',\r\n                    timeZone: userResponse.status === 'fulfilled' ? userResponse.value.timeZone || 'America/New_York' : 'America/New_York',\r\n                    isOrganizer: userResponse.status === 'fulfilled' ? userResponse.value.isOrganizer || false : false\r\n                });\r\n            }\r\n\r\n            // Handle preferences data\r\n            if (preferencesData.status === 'fulfilled') {\r\n                setUserPreferences({\r\n                    emailNotifications: preferencesData.value.emailNotifications ?? true,\r\n                    smsNotifications: preferencesData.value.smsNotifications ?? false,\r\n                    newBookingNotifications: preferencesData.value.newBookingNotifications ?? true,\r\n                    cancellationNotifications: preferencesData.value.cancellationNotifications ?? true,\r\n                    lowInventoryNotifications: preferencesData.value.lowInventoryNotifications ?? true,\r\n                    dailyReports: preferencesData.value.dailyReports ?? false,\r\n                    weeklyReports: preferencesData.value.weeklyReports ?? true,\r\n                    monthlyReports: preferencesData.value.monthlyReports ?? true,\r\n                    twoFactorEnabled: preferencesData.value.twoFactorEnabled ?? false,\r\n                    sessionTimeout: preferencesData.value.sessionTimeout ?? 30,\r\n                    loginNotifications: preferencesData.value.loginNotifications ?? true,\r\n                    defaultTimeZone: preferencesData.value.defaultTimeZone ?? 'America/New_York',\r\n                    defaultEventDuration: preferencesData.value.defaultEventDuration ?? 120,\r\n                    defaultTicketSaleStart: preferencesData.value.defaultTicketSaleStart ?? 30,\r\n                    defaultRefundPolicy: preferencesData.value.defaultRefundPolicy ?? 'flexible',\r\n                    requireApproval: preferencesData.value.requireApproval ?? false,\r\n                    autoPublish: preferencesData.value.autoPublish ?? false,\r\n                    dateFormat: preferencesData.value.dateFormat ?? 'MM/dd/yyyy',\r\n                    theme: (['light', 'dark', 'auto'].includes(preferencesData.value.theme) ? preferencesData.value.theme : 'light') as 'light' | 'dark' | 'auto',\r\n                    language: preferencesData.value.language ?? 'en',\r\n                    timeFormat: (['12h', '24h'].includes(preferencesData.value.timeFormat) ? preferencesData.value.timeFormat : '12h') as '12h' | '24h',\r\n                    currency: preferencesData.value.currency ?? 'USD',\r\n                    accentColor: preferencesData.value.accentColor ?? 'blue',\r\n                    fontSize: (['small', 'medium', 'large'].includes(preferencesData.value.fontSize) ? preferencesData.value.fontSize : 'medium') as 'small' | 'medium' | 'large',\r\n                    compactMode: preferencesData.value.compactMode ?? false\r\n                });\r\n            } else {\r\n                console.log('No preferences found, using defaults');\r\n                setUserPreferences(prev => ({\r\n                    ...prev,\r\n                    dateFormat: 'MM/dd/yyyy'\r\n                }));\r\n            }\r\n\r\n        } catch (error: any) {\r\n            console.error('Error fetching user data:', error);\r\n            setError(error.message || 'Failed to load user data');\r\n\r\n            // Fallback to localStorage only if all API calls failed\r\n            const storedUser = localStorage.getItem('user');\r\n            if (storedUser) {\r\n                try {\r\n                    const userData = JSON.parse(storedUser);\r\n                    setUserData({\r\n                        firstName: userData.firstName || '',\r\n                        lastName: userData.lastName || '',\r\n                        email: userData.email || '',\r\n                        phoneNumber: userData.phoneNumber || '',\r\n                        profileImageUrl: userData.profileImageUrl || '',\r\n                        bio: userData.bio || '',\r\n                        website: userData.website || '',\r\n                        timeZone: userData.timeZone || '',\r\n                        isOrganizer: userData.isOrganizer || false,\r\n                        roles: userData.roles || []\r\n                    });\r\n                } catch (parseError) {\r\n                    console.error('Error parsing stored user data:', parseError);\r\n                }\r\n            }\r\n        } finally {\r\n            setProfileLoading(false);\r\n        }\r\n    };\r\n\r\n    const LoadingSkeleton: React.FC = () => (\r\n        <div className=\"space-y-6\">\r\n            <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <div className=\"animate-pulse\">\r\n                    <div className=\"h-6 bg-gray-300 dark:bg-gray-600 rounded w-1/4 mb-4\"></div>\r\n                    <div className=\"space-y-3\">\r\n                        <div className=\"h-4 bg-gray-300 dark:bg-gray-600 rounded\"></div>\r\n                        <div className=\"h-4 bg-gray-300 dark:bg-gray-600 rounded w-3/4\"></div>\r\n                        <div className=\"grid grid-cols-2 gap-4\">\r\n                            <div className=\"h-10 bg-gray-300 dark:bg-gray-600 rounded\"></div>\r\n                            <div className=\"h-10 bg-gray-300 dark:bg-gray-600 rounded\"></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <div className=\"animate-pulse\">\r\n                    <div className=\"h-6 bg-gray-300 dark:bg-gray-600 rounded w-1/3 mb-4\"></div>\r\n                    <div className=\"space-y-3\">\r\n                        <div className=\"h-4 bg-gray-300 dark:bg-gray-600 rounded\"></div>\r\n                        <div className=\"h-4 bg-gray-300 dark:bg-gray-600 rounded w-2/3\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n\r\n    // Keep existing update functions but remove dateFormat from updateUserPreferences\r\n    const updateUserProfile = async (): Promise<void> => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            await userApi.updateProfile({\r\n                firstName: userData.firstName,\r\n                lastName: userData.lastName,\r\n                email: userData.email,\r\n                phoneNumber: userData.phoneNumber\r\n            });\r\n\r\n            setSaved(true);\r\n            setTimeout(() => setSaved(false), 3000);\r\n        } catch (error: any) {\r\n            console.error('Error updating profile:', error);\r\n            setError(error.message || 'Failed to update profile');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const updateUserProfileInfo = async (): Promise<void> => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            await userApi.updateOrganization({\r\n                companyName: userProfile.companyName,\r\n                businessLicense: userProfile.businessLicense,\r\n                address: userProfile.address,\r\n                city: userProfile.city,\r\n                state: userProfile.state,\r\n                zipCode: userProfile.zipCode,\r\n                country: userProfile.country\r\n            });\r\n\r\n            setSaved(true);\r\n            setTimeout(() => setSaved(false), 3000);\r\n        } catch (error: any) {\r\n            console.error('Error updating profile info:', error);\r\n            setError(error.message || 'Failed to update profile information');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // UPDATED: Remove dateFormat from updateUserPreferences\r\n    // FIXED: Updated updateUserPreferences function\r\n    const updateUserPreferences = async (): Promise<void> => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            await userApi.updatePreferences({\r\n                emailNotifications: userPreferences.emailNotifications,\r\n                smsNotifications: userPreferences.smsNotifications,\r\n                newBookingNotifications: userPreferences.newBookingNotifications,\r\n                cancellationNotifications: userPreferences.cancellationNotifications,\r\n                lowInventoryNotifications: userPreferences.lowInventoryNotifications,\r\n                dailyReports: userPreferences.dailyReports,\r\n                weeklyReports: userPreferences.weeklyReports,\r\n                monthlyReports: userPreferences.monthlyReports,\r\n                twoFactorEnabled: userPreferences.twoFactorEnabled,\r\n                sessionTimeout: userPreferences.sessionTimeout,\r\n                loginNotifications: userPreferences.loginNotifications,\r\n                defaultTimeZone: userPreferences.defaultTimeZone,\r\n                defaultEventDuration: userPreferences.defaultEventDuration,\r\n                defaultTicketSaleStart: userPreferences.defaultTicketSaleStart,\r\n                defaultRefundPolicy: userPreferences.defaultRefundPolicy,\r\n                requireApproval: userPreferences.requireApproval,\r\n                autoPublish: userPreferences.autoPublish,\r\n                theme: userPreferences.theme,\r\n                language: userPreferences.language,\r\n                timeFormat: userPreferences.timeFormat,\r\n                currency: userPreferences.currency,\r\n                accentColor: userPreferences.accentColor,\r\n                fontSize: userPreferences.fontSize,\r\n                compactMode: userPreferences.compactMode,\r\n                dateFormat: userPreferences.dateFormat \r\n            });\r\n\r\n            setSaved(true);\r\n            setTimeout(() => setSaved(false), 3000);\r\n        } catch (error: any) {\r\n            console.error('Error updating preferences:', error);\r\n            setError(error.message || 'Failed to update preferences');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderOrganizationTab = () => (\r\n        <div className=\"space-y-6\">\r\n            <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} mb-4`}>Organization Information</h3>\r\n                <div className={`grid grid-cols-1 md:grid-cols-2 ${themeClasses.compactGap}`}>\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Company Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userProfile.companyName || ''}\r\n                            onChange={(e) => setUserProfile({ ...userProfile, companyName: e.target.value })}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Business License</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userProfile.businessLicense || ''}\r\n                            onChange={(e) => setUserProfile({ ...userProfile, businessLicense: e.target.value })}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Address</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userProfile.address || ''}\r\n                            onChange={(e) => setUserProfile({ ...userProfile, address: e.target.value })}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>City</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userProfile.city || ''}\r\n                            onChange={(e) => setUserProfile({ ...userProfile, city: e.target.value })}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>State</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userProfile.state || ''}\r\n                            onChange={(e) => setUserProfile({ ...userProfile, state: e.target.value })}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>ZIP Code</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={userProfile.zipCode || ''}\r\n                            onChange={(e) => setUserProfile({ ...userProfile, zipCode: e.target.value })}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderNotificationsTab = () => (\r\n        <div className=\"space-y-6\">\r\n            <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} mb-4`}>Email Notifications</h3>\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>New Bookings</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Get notified when someone books your event</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.newBookingNotifications}\r\n                            onChange={(enabled) => updatePreference('newBookingNotifications', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>Cancellations</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Get notified when bookings are cancelled</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.cancellationNotifications}\r\n                            onChange={(enabled) => updatePreference('cancellationNotifications', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>Daily Reports</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Receive daily summary of bookings and revenue</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.dailyReports}\r\n                            onChange={(enabled) => updatePreference('dailyReports', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>Weekly Reports</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Receive weekly analytics and insights</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.weeklyReports}\r\n                            onChange={(enabled) => updatePreference('weeklyReports', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderSecurityTab = () => (\r\n        <div className=\"space-y-6\">\r\n            <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} mb-4`}>Security Settings</h3>\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>Two-Factor Authentication</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Add an extra layer of security to your account</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.twoFactorEnabled}\r\n                            onChange={(enabled) => updatePreference('twoFactorEnabled', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>Login Notifications</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Get notified of new login attempts</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.loginNotifications}\r\n                            onChange={(enabled) => updatePreference('loginNotifications', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Session Timeout (minutes)</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={userPreferences.sessionTimeout}\r\n                            onChange={(e) => updatePreference('sessionTimeout', parseInt(e.target.value) || 30)}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                            min=\"5\"\r\n                            max=\"480\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const renderEventsTab = () => (\r\n        <div className=\"space-y-6\">\r\n            <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} mb-4`}>Event Defaults</h3>\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Default Event Duration (minutes)</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={userPreferences.defaultEventDuration}\r\n                            onChange={(e) => updatePreference('defaultEventDuration', parseInt(e.target.value) || 120)}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                            min=\"15\"\r\n                            step=\"15\"\r\n                        />\r\n                    </div>\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Ticket Sale Start (days before event)</label>\r\n                        <input\r\n                            type=\"number\"\r\n                            value={userPreferences.defaultTicketSaleStart}\r\n                            onChange={(e) => updatePreference('defaultTicketSaleStart', parseInt(e.target.value) || 30)}\r\n                            className={getInputStyles()}\r\n                            disabled={loading}\r\n                            min=\"1\"\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>Require Approval</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Require approval before events go live</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.requireApproval}\r\n                            onChange={(enabled) => updatePreference('requireApproval', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>Auto Publish</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Automatically publish events when created</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.autoPublish}\r\n                            onChange={(enabled) => updatePreference('autoPublish', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    const changePassword = async (): Promise<void> => {\r\n        if (passwordData.newPassword !== passwordData.confirmPassword) {\r\n            setError('New passwords do not match');\r\n            return;\r\n        }\r\n\r\n        if (passwordData.newPassword.length < 6) {\r\n            setError('New password must be at least 6 characters long');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            await userApi.changePassword({\r\n                currentPassword: passwordData.currentPassword,\r\n                newPassword: passwordData.newPassword\r\n            });\r\n\r\n            setPasswordData({\r\n                currentPassword: '',\r\n                newPassword: '',\r\n                confirmPassword: ''\r\n            });\r\n\r\n            setSaved(true);\r\n            setTimeout(() => setSaved(false), 3000);\r\n        } catch (error: any) {\r\n            console.error('Error changing password:', error);\r\n            setError(error.message || 'Failed to change password');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleSave = async (section: string) => {\r\n        setError(null);\r\n\r\n        switch (section) {\r\n            case 'profile':\r\n                await updateUserProfile();\r\n                break;\r\n            case 'organization':\r\n                await updateUserProfileInfo();\r\n                break;\r\n            case 'notifications':\r\n            case 'security':\r\n            case 'events':\r\n            case 'language':\r\n            case 'appearance':\r\n                await updateUserPreferences();\r\n                break;\r\n            default:\r\n                await updateUserProfile();\r\n        }\r\n    };\r\n\r\n\r\n    const renderTabContent = () => {\r\n        if (profileLoading) {\r\n            return <LoadingSkeleton />;\r\n        }\r\n\r\n        switch (activeTab) {\r\n            case 'profile':\r\n                return renderProfileTab();\r\n            case 'organization':\r\n                return renderOrganizationTab();\r\n            case 'notifications':\r\n                return renderNotificationsTab();\r\n            case 'security':\r\n                return renderSecurityTab();\r\n            case 'language':\r\n                return renderLanguageTab();\r\n            case 'events':\r\n                return renderEventsTab();\r\n            case 'appearance':\r\n                return renderAppearanceTab();\r\n            default:\r\n                return renderProfileTab();\r\n        }\r\n    };\r\n\r\n    // Helper function for updating preferences\r\n    const updatePreference = <K extends keyof UserPreferences>(\r\n        key: K,\r\n        value: UserPreferences[K]\r\n    ) => {\r\n        setUserPreferences(prev => ({\r\n            ...prev,\r\n            [key]: value\r\n        }));\r\n\r\n        // Update theme immediately for theme-related changes\r\n        if (key === 'theme' || key === 'accentColor' || key === 'fontSize' || key === 'compactMode') {\r\n            updateTheme({ [key]: value });\r\n        }\r\n\r\n        // Update language immediately when language changes\r\n        if (key === 'language') {\r\n            changeLanguage(value as string);\r\n            // Also trigger a re-render by updating the state\r\n            window.dispatchEvent(new Event('languageChange'));\r\n        }\r\n    };\r\n\r\n\r\n    // Keep existing useEffect hooks\r\n    useEffect(() => {\r\n        checkAuth();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (authStatus === 'authenticated') {\r\n            fetchUserData();\r\n        }\r\n    }, [authStatus]);\r\n\r\n    useEffect(() => {\r\n        if (!profileLoading && authStatus === 'authenticated') {\r\n            updateTheme({\r\n                theme: userPreferences.theme,\r\n                accentColor: userPreferences.accentColor,\r\n                fontSize: userPreferences.fontSize,\r\n                compactMode: userPreferences.compactMode\r\n            });\r\n        }\r\n    }, [profileLoading, authStatus]);\r\n\r\n    useEffect(() => {\r\n        if (currentLanguage && userPreferences.language !== currentLanguage) {\r\n            setUserPreferences(prev => ({\r\n                ...prev,\r\n                language: currentLanguage\r\n            }));\r\n        }\r\n    }, [currentLanguage]);\r\n\r\n    // Tab configuration\r\n    const tabs = [\r\n        { id: 'profile', name: 'Profile', icon: User },\r\n        { id: 'organization', name: 'Organization', icon: Building2 },\r\n        { id: 'notifications', name: 'Notifications', icon: Bell },\r\n        { id: 'security', name: 'Security', icon: Shield },\r\n        { id: 'language', name: 'Language & Region', icon: Languages }, // Updated name\r\n        { id: 'events', name: 'Event Defaults', icon: Calendar },\r\n        { id: 'appearance', name: 'Appearance', icon: Palette }\r\n    ];\r\n\r\n    // UPDATED: Enhanced Toggle component with accent colors\r\n    const Toggle: React.FC<{ enabled: boolean; onChange: (enabled: boolean) => void; disabled?: boolean }> = ({ enabled, onChange, disabled = false }) => (\r\n        <button\r\n            type=\"button\"\r\n            onClick={() => !disabled && onChange(!enabled)}\r\n            disabled={disabled}\r\n            className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${enabled ? 'accent-bg' : isDark ? 'bg-gray-600' : 'bg-gray-200'\r\n                } ${disabled ? 'opacity-50 cursor-not-allowed' : 'cursor-pointer'}`}\r\n        >\r\n            <span\r\n                className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${enabled ? 'translate-x-6' : 'translate-x-1'\r\n                    }`}\r\n            />\r\n        </button>\r\n    );\r\n\r\n    // Keep existing render functions for profile, organization, notifications, security, events\r\n    // I'll show the key ones that need updating for theme integration\r\n\r\n    const renderProfileTab = () => (\r\n        <div className=\"space-y-6\">\r\n            {profileLoading && (\r\n                <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                    <div className=\"flex items-center justify-center h-32\">\r\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 accent-border\"></div>\r\n                        <span className={`ml-3 ${themeClasses.themeFg}`}>Loading profile...</span>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {error && (\r\n                <div className=\"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4\">\r\n                    <div className=\"flex items-center\">\r\n                        <AlertCircle className=\"w-5 h-5 text-red-600 dark:text-red-400 mr-2\" />\r\n                        <span className=\"text-sm text-red-800 dark:text-red-300\">{error}</span>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {!profileLoading && (\r\n                <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                    <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} mb-4`}>Personal Information</h3>\r\n                    <div className={`grid grid-cols-1 md:grid-cols-2 ${themeClasses.compactGap}`}>\r\n                        <div>\r\n                            <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>First Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={userData.firstName}\r\n                                onChange={(e) => setUserData({ ...userData, firstName: e.target.value })}\r\n                                className={getInputStyles()}\r\n                                disabled={loading}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Last Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={userData.lastName}\r\n                                onChange={(e) => setUserData({ ...userData, lastName: e.target.value })}\r\n                                className={getInputStyles()}\r\n                                disabled={loading}\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Email</label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"email\"\r\n                                    value={userData.email}\r\n                                    onChange={(e) => setUserData({ ...userData, email: e.target.value })}\r\n                                    className={getInputStyles()}\r\n                                    disabled={loading}\r\n                                />\r\n                                {userData.isEmailVerified && (\r\n                                    <CheckCircle className=\"absolute right-3 top-2.5 w-5 h-5 text-green-500\" />\r\n                                )}\r\n                            </div>\r\n                            {!userData.isEmailVerified && (\r\n                                <p className=\"text-xs text-amber-600 dark:text-amber-400 mt-1\">Email address not verified</p>\r\n                            )}\r\n                        </div>\r\n                        <div>\r\n                            <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Phone Number</label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type=\"tel\"\r\n                                    value={userData.phoneNumber || ''}\r\n                                    onChange={(e) => setUserData({ ...userData, phoneNumber: e.target.value })}\r\n                                    className={getInputStyles()}\r\n                                    disabled={loading}\r\n                                    placeholder=\"Optional\"\r\n                                />\r\n                                {userData.isPhoneVerified && (\r\n                                    <CheckCircle className=\"absolute right-3 top-2.5 w-5 h-5 text-green-500\" />\r\n                                )}\r\n                            </div>\r\n                            {userData.phoneNumber && !userData.isPhoneVerified && (\r\n                                <p className=\"text-xs text-amber-600 dark:text-amber-400 mt-1\">Phone number not verified</p>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {!profileLoading && (\r\n                <div className={`${themeClasses.themeCard} rounded-lg ${themeClasses.compactCard} shadow-sm border ${themeClasses.themeBorder}`}>\r\n                    <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} mb-4`}>Change Password</h3>\r\n                    <div className=\"space-y-4\">\r\n                        <div>\r\n                            <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Current Password</label>\r\n                            <div className=\"relative\">\r\n                                <input\r\n                                    type={showPassword ? 'text' : 'password'}\r\n                                    value={passwordData.currentPassword}\r\n                                    onChange={(e) => setPasswordData({ ...passwordData, currentPassword: e.target.value })}\r\n                                    className={`${getInputStyles()} pr-10`}\r\n                                    disabled={loading}\r\n                                />\r\n                                <button\r\n                                    type=\"button\"\r\n                                    onClick={() => setShowPassword(!showPassword)}\r\n                                    className={`absolute right-3 top-2.5 ${themeClasses.themeMutedFg}`}\r\n                                    disabled={loading}\r\n                                >\r\n                                    {showPassword ? <EyeOff size={16} /> : <Eye size={16} />}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>New Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                value={passwordData.newPassword}\r\n                                onChange={(e) => setPasswordData({ ...passwordData, newPassword: e.target.value })}\r\n                                className={getInputStyles()}\r\n                                disabled={loading}\r\n                                placeholder=\"Minimum 6 characters\"\r\n                            />\r\n                        </div>\r\n                        <div>\r\n                            <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-2`}>Confirm New Password</label>\r\n                            <input\r\n                                type=\"password\"\r\n                                value={passwordData.confirmPassword}\r\n                                onChange={(e) => setPasswordData({ ...passwordData, confirmPassword: e.target.value })}\r\n                                className={getInputStyles()}\r\n                                disabled={loading}\r\n                            />\r\n                        </div>\r\n                        <div className=\"pt-2\">\r\n                            <button\r\n                                onClick={changePassword}\r\n                                disabled={loading || !passwordData.currentPassword || !passwordData.newPassword || !passwordData.confirmPassword}\r\n                                className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                            >\r\n                                {loading ? 'Changing...' : 'Change Password'}\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n\r\n    // MAIN UPDATE: Enhanced Appearance Tab with removed date format\r\n    const renderAppearanceTab = () => (\r\n        <div className=\"space-y-6\">\r\n            {/* Theme Selection */}\r\n            <div className={`${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <div className=\"flex items-center space-x-2 mb-4\">\r\n                    <Palette className={`w-5 h-5 ${themeClasses.themeMutedFg}`} />\r\n                    <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg}`}>Theme</h3>\r\n                </div>\r\n                <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg} mb-6`}>Choose your preferred interface theme</p>\r\n\r\n                <div className={`grid grid-cols-1 md:grid-cols-3 ${themeClasses.compactGap}`}>\r\n                    {themes.map((theme) => {\r\n                        const Icon = theme.icon;\r\n                        const isSelected = userPreferences.theme === theme.id;\r\n\r\n                        return (\r\n                            <button\r\n                                key={theme.id}\r\n                                onClick={() => updatePreference('theme', theme.id as any)}\r\n                                className={`relative p-4 rounded-lg border-2 transition-all ${isSelected\r\n                                    ? 'accent-border bg-blue-50 dark:bg-blue-900/20'\r\n                                    : `${themeClasses.themeBorder} ${themeClasses.hover}`\r\n                                    }`}\r\n                            >\r\n                                {isSelected && (\r\n                                    <div className=\"absolute top-2 right-2\">\r\n                                        <Check className=\"w-4 h-4 accent-text\" />\r\n                                    </div>\r\n                                )}\r\n\r\n                                <div className={`flex items-center space-x-3 ${isCompact ? 'mb-2' : 'mb-3'}`}>\r\n                                    <Icon className={`w-5 h-5 ${themeClasses.themeMutedFg}`} />\r\n                                    <span className={`font-medium ${themeClasses.themeFg}`}>{theme.name}</span>\r\n                                </div>\r\n\r\n                                <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg} ${isCompact ? 'mb-2' : 'mb-3'}`}>{theme.description}</p>\r\n\r\n                                <div className={`${theme.preview.bg} ${theme.preview.border} border rounded p-2 space-y-1`}>\r\n                                    <div className={`h-2 accent-bg rounded`}></div>\r\n                                    <div className={`h-1 ${theme.preview.text} bg-current opacity-50 rounded`}></div>\r\n                                    <div className={`h-1 ${theme.preview.text} bg-current opacity-30 rounded w-3/4`}></div>\r\n                                </div>\r\n                            </button>\r\n                        );\r\n                    })}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Accent Color */}\r\n            <div className={`${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} mb-4`}>Accent Color</h3>\r\n                <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg} mb-6`}>Choose your preferred accent color</p>\r\n\r\n                <div className={`grid grid-cols-3 md:grid-cols-6 ${themeClasses.compactGap}`}>\r\n                    {accentColors.map((color) => (\r\n                        <button\r\n                            key={color.id}\r\n                            onClick={() => updatePreference('accentColor', color.id)}\r\n                            className={`relative p-3 rounded-lg border-2 transition-all ${userPreferences.accentColor === color.id\r\n                                ? `accent-border ${themeClasses.themeCard}`\r\n                                : `${themeClasses.themeBorder} ${themeClasses.hover}`\r\n                                }`}\r\n                        >\r\n                            <div className={`w-8 h-8 ${color.class} rounded-full mx-auto mb-2`}></div>\r\n                            <span className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>{color.name}</span>\r\n                            {userPreferences.accentColor === color.id && (\r\n                                <div className=\"absolute top-1 right-1\">\r\n                                    <Check className={`w-3 h-3 accent-text`} />\r\n                                </div>\r\n                            )}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Display Settings */}\r\n            <div className={`${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-sm border ${themeClasses.themeBorder}`}>\r\n                <h3 className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} mb-4`}>Display Settings</h3>\r\n\r\n                <div className=\"space-y-6\">\r\n                    <div>\r\n                        <label className={`block ${themeClasses.textSm} font-medium ${themeClasses.themeFg} mb-3`}>Font Size</label>\r\n                        <div className={`grid grid-cols-3 ${themeClasses.compactGap}`}>\r\n                            {(['small', 'medium', 'large'] as const).map((size) => (\r\n                                <button\r\n                                    key={size}\r\n                                    onClick={() => updatePreference('fontSize', size)}\r\n                                    className={`p-3 rounded-lg border-2 transition-all ${userPreferences.fontSize === size\r\n                                        ? 'accent-border bg-blue-50 dark:bg-blue-900/20'\r\n                                        : `${themeClasses.themeBorder} ${themeClasses.hover}`\r\n                                        }`}\r\n                                >\r\n                                    <div className={`${size === 'small' ? 'text-sm' : size === 'large' ? 'text-lg' : 'text-base'} ${themeClasses.themeFg} font-medium capitalize`}>\r\n                                        {size}\r\n                                    </div>\r\n                                </button>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <h4 className={`${themeClasses.textSm} font-medium ${themeClasses.themeFg}`}>Compact Mode</h4>\r\n                            <p className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>Reduce spacing between elements</p>\r\n                        </div>\r\n                        <Toggle\r\n                            enabled={userPreferences.compactMode}\r\n                            onChange={(enabled) => updatePreference('compactMode', enabled)}\r\n                            disabled={loading}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n    const CACHE_KEY = 'userPreferencesCache';\r\n    const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\r\n\r\n    const getCachedPreferences = (): UserPreferences | null => {\r\n        try {\r\n            const cached = localStorage.getItem(CACHE_KEY);\r\n            if (cached) {\r\n                const { data, timestamp } = JSON.parse(cached);\r\n                if (Date.now() - timestamp < CACHE_DURATION) {\r\n                    return data;\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error('Error reading cached preferences:', error);\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const setCachedPreferences = (preferences: UserPreferences): void => {\r\n        try {\r\n            const cacheData = {\r\n                data: preferences,\r\n                timestamp: Date.now()\r\n            };\r\n            localStorage.setItem(CACHE_KEY, JSON.stringify(cacheData));\r\n        } catch (error) {\r\n            console.error('Error caching preferences:', error);\r\n        }\r\n    };\r\n\r\n\r\n    // UPDATED: Main render with full theme integration\r\n    return (\r\n        <div className={`max-w-7xl mx-auto ${isCompact ? 'p-4' : 'p-6'} ${themeClasses.themeBg} min-h-screen theme-transition`}>\r\n            {/* Authentication checking state */}\r\n            {authStatus === 'checking' && (\r\n                <div className=\"flex items-center justify-center min-h-screen\">\r\n                    <div className=\"text-center\">\r\n                        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 accent-border mx-auto mb-4\"></div>\r\n                        <p className={themeClasses.themeFg}>Checking authentication...</p>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Unauthenticated state */}\r\n            {authStatus === 'unauthenticated' && (\r\n                <div className=\"flex items-center justify-center min-h-screen\">\r\n                    <div className={`text-center ${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-md`}>\r\n                        <User className=\"w-16 h-16 text-red-500 mx-auto mb-4\" />\r\n                        <h2 className={`${themeClasses.textXl} font-bold ${themeClasses.themeFg} mb-2`}>Authentication Required</h2>\r\n                        <p className={`${themeClasses.themeMutedFg} mb-4`}>Please log in to access your settings.</p>\r\n                        <button\r\n                            onClick={() => window.location.href = '/login'}\r\n                            className=\"btn-accent\"\r\n                        >\r\n                            Go to Login\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Authenticated content */}\r\n            {authStatus === 'authenticated' && (\r\n                <>\r\n                    <div className={isCompact ? 'mb-4' : 'mb-8'}>\r\n                        <h1 className={`${themeClasses.text3Xl} font-bold ${themeClasses.themeFg} mb-2`}>Settings</h1>\r\n                        <p className={`${themeClasses.themeMutedFg} ${themeClasses.textBase}`}>Manage your account and event preferences</p>\r\n                    </div>\r\n\r\n                    <div className={`flex flex-col lg:flex-row ${themeClasses.compactGap}`}>\r\n                        {/* Sidebar Navigation */}\r\n                        <div className=\"lg:w-64\">\r\n                            <div className={`${themeClasses.themeCard} rounded-lg shadow-sm border ${themeClasses.themeBorder} ${themeClasses.compactCard}`}>\r\n                                <nav className=\"space-y-2\">\r\n                                    {tabs.map((tab) => {\r\n                                        const Icon = tab.icon;\r\n                                        return (\r\n                                            <button\r\n                                                key={tab.id}\r\n                                                onClick={() => {\r\n                                                    setActiveTab(tab.id);\r\n                                                    setError(null);\r\n                                                }}\r\n                                                className={`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${activeTab === tab.id\r\n                                                    ? 'accent-bg text-white'\r\n                                                    : `${themeClasses.themeFg} ${themeClasses.hover}`\r\n                                                    }`}\r\n                                            >\r\n                                                <Icon className=\"w-4 h-4\" />\r\n                                                <span className={`${themeClasses.textSm} font-medium`}>{tab.name}</span>\r\n                                            </button>\r\n                                        );\r\n                                    })}\r\n                                </nav>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Main Content */}\r\n                        <div className=\"flex-1\">\r\n                            {renderTabContent()}\r\n\r\n                            {/* Save Button */}\r\n                            <div className={`${isCompact ? 'mt-4' : 'mt-8'} flex justify-end`}>\r\n                                <button\r\n                                    onClick={() => handleSave(activeTab)}\r\n                                    disabled={loading || profileLoading}\r\n                                    className=\"btn-accent disabled:opacity-50\"\r\n                                >\r\n                                    {loading ? (\r\n                                        <RefreshCw className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                                    ) : saved ? (\r\n                                        <CheckCircle className=\"w-4 h-4 mr-2\" />\r\n                                    ) : (\r\n                                        <Save className=\"w-4 h-4 mr-2\" />\r\n                                    )}\r\n                                    {loading ? 'Saving...' : saved ? 'Saved!' : 'Save Changes'}\r\n                                </button>\r\n                            </div>\r\n\r\n                            {/* Success message */}\r\n                            {saved && (\r\n                                <div className=\"mt-4 p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg\">\r\n                                    <div className=\"flex items-center\">\r\n                                        <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-400 mr-2\" />\r\n                                        <span className=\"text-sm text-green-800 dark:text-green-300\">Settings saved successfully!</span>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrganizerSettings;"],"names":[],"mappings":"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","debugId":null}}]
}