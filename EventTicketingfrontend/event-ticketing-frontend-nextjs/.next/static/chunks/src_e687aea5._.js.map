{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/lib/api.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport axios, { AxiosResponse, AxiosError } from 'axios';\r\n\r\n// Enhanced types with smart ticketing support\r\ninterface User {\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    roles: string[];\r\n}\r\n\r\ninterface AuthResponse {\r\n    token: string;\r\n    email: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    roles: string[];\r\n    expiresAt: string;\r\n}\r\n\r\ninterface LoginRequest {\r\n    email: string;\r\n    password: string;\r\n}\r\n\r\ninterface RegisterRequest {\r\n    email: string;\r\n    password: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    phoneNumber?: string;\r\n}\r\n\r\ninterface Event {\r\n    eventDate: string | number | Date;\r\n    revenue: number;\r\n    eventId: number;\r\n    title: string;\r\n    description: string;\r\n    shortDescription?: string;\r\n    organizerId: number;\r\n    organizerName: string;\r\n    venueId: number;\r\n    venueName: string;\r\n    venueCity: string;\r\n    categoryId: number;\r\n    categoryName: string;\r\n    startDateTime: string;\r\n    endDateTime: string;\r\n    imageUrl?: string;\r\n    basePrice: number;\r\n    currency: string;\r\n    isOnline: boolean;\r\n    ticketsSold: number;\r\n    availableTickets: number;\r\n    status: string;\r\n    isPublished: boolean;\r\n}\r\n\r\n// Enhanced TicketType interface with smart editing support\r\ninterface TicketType {\r\n    ticketTypeId: number;\r\n    eventId: number;\r\n    eventTitle?: string;\r\n    name: string;\r\n    description?: string;\r\n    price: number;\r\n    quantityAvailable: number;\r\n    quantitySold: number;\r\n    quantityRemaining: number;\r\n    isActive: boolean;\r\n    isOnSale: boolean;\r\n    // Smart editing support fields\r\n    isEventPublished?: boolean;\r\n    eventStatus?: string;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n    createdAt?: string;\r\n    updatedAt?: string;\r\n}\r\n\r\ninterface Ticket {\r\n    ticketId: number;\r\n    eventId: number;\r\n    eventTitle: string;\r\n    ticketTypeName: string;\r\n    ticketNumber: string;\r\n    qrCode?: string;\r\n    pricePaid: number;\r\n    status: string;\r\n    purchaseDate: string;\r\n    attendeeFirstName?: string;\r\n    attendeeLastName?: string;\r\n    attendeeEmail?: string;\r\n    eventStartDateTime: string;\r\n    venueName: string;\r\n    venueAddress: string;\r\n}\r\n\r\ninterface Order {\r\n    orderId: number;\r\n    orderNumber: string;\r\n    eventTitle: string;\r\n    totalAmount: number;\r\n    currency: string;\r\n    status: string;\r\n    createdAt: string;\r\n    tickets: Ticket[];\r\n}\r\n\r\n// Enhanced DTOs with proper field mapping\r\ninterface CreateEventDto {\r\n    title: string;\r\n    description: string;\r\n    shortDescription?: string;\r\n    startDateTime: string;\r\n    endDateTime?: string;\r\n    categoryId: number;\r\n    venueId?: number;\r\n    imageUrl?: string;\r\n    bannerImageUrl?: string;\r\n    tags?: string;\r\n    maxAttendees: number;\r\n    basePrice: number;\r\n    currency: string;\r\n    isOnline: boolean;\r\n    onlineUrl?: string;\r\n}\r\n\r\ninterface UpdateEventDto {\r\n    title?: string;\r\n    description?: string;\r\n    shortDescription?: string;\r\n    startDateTime?: string;\r\n    endDateTime?: string;\r\n    categoryId?: number;\r\n    venueId?: number;\r\n    imageUrl?: string;\r\n    bannerImageUrl?: string;\r\n    tags?: string;\r\n    maxAttendees?: number;\r\n    basePrice?: number;\r\n    currency?: string;\r\n    isOnline?: boolean;\r\n    onlineUrl?: string;\r\n}\r\n\r\n// Enhanced CreateTicketTypeDto with all required fields\r\ninterface CreateTicketTypeDto {\r\n    eventId: number;\r\n    name: string;\r\n    description?: string;\r\n    price: number;\r\n    quantityAvailable: number;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n}\r\n\r\ninterface UpdateTicketTypeDto {\r\n    name?: string;\r\n    description?: string;\r\n    price?: number;\r\n    quantityAvailable?: number;\r\n    saleStartDate?: string;\r\n    saleEndDate?: string;\r\n    minQuantityPerOrder?: number;\r\n    maxQuantityPerOrder?: number;\r\n    sortOrder?: number;\r\n    isActive?: boolean;\r\n}\r\n\r\ninterface Category {\r\n    categoryId: number;\r\n    name: string;\r\n    description?: string;\r\n}\r\n\r\ninterface CreateCategoryDto {\r\n    name: string;\r\n    description?: string;\r\n}\r\n\r\ninterface Venue {\r\n    venueId: number;\r\n    name: string;\r\n    address: string;\r\n    city: string;\r\n    capacity: number;\r\n    description?: string;\r\n}\r\n\r\ninterface CreateVenueDto {\r\n    name: string;\r\n    address: string;\r\n    city: string;\r\n    capacity: number;\r\n    description?: string;\r\n}\r\n\r\ninterface PurchaseTicketsDto {\r\n    eventId: number;\r\n    ticketItems: {\r\n        ticketTypeId: number;\r\n        quantity: number;\r\n    }[];\r\n    billingEmail: string;\r\n    billingFirstName: string;\r\n    billingLastName: string;\r\n    billingAddress?: string;\r\n    billingCity?: string;\r\n    billingState?: string;\r\n    billingZipCode?: string;\r\n    promoCode?: string;\r\n    attendees?: {\r\n        firstName: string;\r\n        lastName: string;\r\n        email: string;\r\n    }[];\r\n}\r\n\r\ninterface OrderSummary {\r\n    eventId: number;\r\n    eventTitle: string;\r\n    items: { ticketTypeId: number; quantity: number; }[];\r\n    subTotal: number;\r\n    serviceFee: number;\r\n    taxAmount: number;\r\n    discountAmount: number;\r\n    totalAmount: number;\r\n    currency: string;\r\n}\r\n\r\ninterface CheckInTicketDto {\r\n    ticketNumber: string;\r\n}\r\n\r\ninterface TicketValidation {\r\n    isValid: boolean;\r\n    ticket?: Ticket;\r\n    message: string;\r\n}\r\n\r\ninterface UserProfile {\r\n    userId: number;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phoneNumber?: string;\r\n    dateOfBirth?: string;\r\n    profileImageUrl?: string;\r\n    isEmailVerified: boolean;\r\n    isPhoneVerified: boolean;\r\n    createdAt: string;\r\n    lastLoginAt?: string;\r\n    status: string;\r\n    bio?: string;\r\n    website?: string;\r\n    timeZone?: string;\r\n    isOrganizer: boolean;\r\n    roles: string[];\r\n}\r\n\r\ninterface UpdateUserProfileDto {\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    phoneNumber?: string;\r\n    dateOfBirth?: string;\r\n    bio?: string;\r\n    website?: string;\r\n    timeZone?: string;\r\n}\r\n\r\ninterface UserOrganization {\r\n    companyName?: string;\r\n    businessLicense?: string;\r\n    address?: string;\r\n    city?: string;\r\n    state?: string;\r\n    zipCode?: string;\r\n    country?: string;\r\n}\r\n\r\ninterface UpdateUserOrganizationDto {\r\n    companyName?: string;\r\n    businessLicense?: string;\r\n    address?: string;\r\n    city?: string;\r\n    state?: string;\r\n    zipCode?: string;\r\n    country?: string;\r\n}\r\n\r\ninterface UserPreferences {\r\n    emailNotifications: boolean;\r\n    smsNotifications: boolean;\r\n    newBookingNotifications: boolean;\r\n    cancellationNotifications: boolean;\r\n    lowInventoryNotifications: boolean;\r\n    dailyReports: boolean;\r\n    weeklyReports: boolean;\r\n    monthlyReports: boolean;\r\n    twoFactorEnabled: boolean;\r\n    sessionTimeout: number;\r\n    loginNotifications: boolean;\r\n    defaultTimeZone?: string;\r\n    defaultEventDuration: number;\r\n    defaultTicketSaleStart: number;\r\n    defaultRefundPolicy?: string;\r\n    requireApproval: boolean;\r\n    autoPublish: boolean;\r\n    theme: string;\r\n    language: string;\r\n    dateFormat: string;\r\n    timeFormat: string;\r\n    currency: string;\r\n    accentColor: string;\r\n    fontSize: string;\r\n    compactMode: boolean;\r\n}\r\n\r\ninterface UpdateUserPreferencesDto {\r\n    emailNotifications: boolean;\r\n    smsNotifications: boolean;\r\n    newBookingNotifications: boolean;\r\n    cancellationNotifications: boolean;\r\n    lowInventoryNotifications: boolean;\r\n    dailyReports: boolean;\r\n    weeklyReports: boolean;\r\n    monthlyReports: boolean;\r\n    twoFactorEnabled: boolean;\r\n    sessionTimeout: number;\r\n    loginNotifications: boolean;\r\n    defaultTimeZone?: string;\r\n    defaultEventDuration: number;\r\n    defaultTicketSaleStart: number;\r\n    defaultRefundPolicy?: string;\r\n    requireApproval: boolean;\r\n    autoPublish: boolean;\r\n    theme: string;\r\n    language: string;\r\n    dateFormat: string;\r\n    timeFormat: string;\r\n    currency: string;\r\n    accentColor: string;\r\n    fontSize: string;\r\n    compactMode: boolean;\r\n}\r\n\r\ninterface ChangePasswordDto {\r\n    currentPassword: string;\r\n    newPassword: string;\r\n}\r\n\r\n// API Response wrapper\r\ninterface ApiResponse<T> {\r\n    success?: boolean;\r\n    data?: T;\r\n    message?: string;\r\n    errors?: string[];\r\n}\r\n\r\n// Enhanced API configuration with environment support\r\nconst getApiBaseUrl = (): string => {\r\n    if (typeof window !== 'undefined') {\r\n        return process.env.NEXT_PUBLIC_API_URL || 'http://localhost:5251/api';\r\n    }\r\n    return process.env.API_URL || 'http://localhost:5251/api';\r\n};\r\n\r\nexport const userApi = {\r\n    // Profile management\r\n    getProfile: async (): Promise<UserProfile> => {\r\n        try {\r\n            console.log('üë§ Fetching user profile');\r\n            const response = await api.get('/user/profile');\r\n            console.log('üë§ Successfully loaded user profile');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üë§ Error fetching profile:', error.message);\r\n            throw new Error(`Failed to load profile: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    updateProfile: async (profileData: UpdateUserProfileDto): Promise<UserProfile> => {\r\n        try {\r\n            console.log('üë§ Updating user profile');\r\n            const response = await api.put('/user/profile', profileData);\r\n            console.log('üë§ Successfully updated user profile');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üë§ Error updating profile:', error.message);\r\n            throw new Error(`Failed to update profile: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    changePassword: async (passwordData: ChangePasswordDto): Promise<void> => {\r\n        try {\r\n            console.log('üë§ Changing password');\r\n            await api.post('/user/change-password', passwordData);\r\n            console.log('üë§ Successfully changed password');\r\n        } catch (error: any) {\r\n            console.error('üë§ Error changing password:', error.message);\r\n            throw new Error(`Failed to change password: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    // Organization management\r\n    getOrganization: async (): Promise<UserOrganization> => {\r\n        try {\r\n            console.log('üè¢ Fetching organization details');\r\n            const response = await api.get('/user/organization');\r\n            console.log('üè¢ Successfully loaded organization details');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üè¢ Error fetching organization:', error.message);\r\n            // Return empty object for new organizations\r\n            return {};\r\n        }\r\n    },\r\n\r\n    updateOrganization: async (orgData: UpdateUserOrganizationDto): Promise<UserOrganization> => {\r\n        try {\r\n            console.log('üè¢ Updating organization details');\r\n            const response = await api.put('/user/organization', orgData);\r\n            console.log('üè¢ Successfully updated organization details');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('üè¢ Error updating organization:', error.message);\r\n            throw new Error(`Failed to update organization: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    // Preferences management\r\n    getPreferences: async (): Promise<UserPreferences> => {\r\n        try {\r\n            console.log('‚öôÔ∏è Fetching user preferences');\r\n            const response = await api.get('/user/preferences');\r\n            console.log('‚öôÔ∏è Successfully loaded user preferences');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('‚öôÔ∏è Error fetching preferences:', error.message);\r\n            // Return default preferences if none exist\r\n            return {\r\n                emailNotifications: true,\r\n                smsNotifications: false,\r\n                newBookingNotifications: true,\r\n                cancellationNotifications: true,\r\n                lowInventoryNotifications: true,\r\n                dailyReports: false,\r\n                weeklyReports: true,\r\n                monthlyReports: true,\r\n                twoFactorEnabled: false,\r\n                sessionTimeout: 30,\r\n                loginNotifications: true,\r\n                defaultTimeZone: 'America/New_York',\r\n                defaultEventDuration: 120,\r\n                defaultTicketSaleStart: 30,\r\n                defaultRefundPolicy: 'flexible',\r\n                requireApproval: false,\r\n                autoPublish: false,\r\n                theme: 'light',\r\n                language: 'en',\r\n                dateFormat: 'MM/dd/yyyy',\r\n                timeFormat: '12h',\r\n                currency: 'USD',\r\n                accentColor: 'blue',\r\n                fontSize: 'medium',\r\n                compactMode: false\r\n\r\n            };\r\n        }\r\n    },\r\n\r\n    updatePreferences: async (preferencesData: UpdateUserPreferencesDto): Promise<UserPreferences> => {\r\n        try {\r\n            console.log('‚öôÔ∏è Updating user preferences');\r\n            const response = await api.put('/user/preferences', preferencesData);\r\n            console.log('‚öôÔ∏è Successfully updated user preferences');\r\n            return response.data;\r\n        } catch (error: any) {\r\n            console.error('‚öôÔ∏è Error updating preferences:', error.message);\r\n            throw new Error(`Failed to update preferences: ${error.message}`);\r\n        }\r\n    }\r\n};\r\n\r\nconst API_BASE_URL = getApiBaseUrl();\r\n\r\nconst api = axios.create({\r\n    baseURL: API_BASE_URL,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n    timeout: 30000, // 30 second timeout\r\n});\r\n\r\n// Enhanced request interceptor with better error handling\r\napi.interceptors.request.use((config) => {\r\n    if (typeof window !== 'undefined') {\r\n        const token = localStorage.getItem('authToken');\r\n        if (token) {\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n    }\r\n\r\n    // Log requests in development\r\n    if (process.env.NODE_ENV === 'development') {\r\n        console.log(`üîÑ API Request: ${config.method?.toUpperCase()} ${config.url}`);\r\n    }\r\n\r\n    return config;\r\n});\r\n\r\n// Enhanced response interceptor with better error handling\r\napi.interceptors.response.use(\r\n    (response: AxiosResponse) => {\r\n        // Handle wrapped responses\r\n        if (response.data?.success === false) {\r\n            throw new Error(response.data.message || 'API request failed');\r\n        }\r\n\r\n        // Extract data from wrapped responses\r\n        if (response.data?.success === true && response.data?.data !== undefined) {\r\n            response.data = response.data.data;\r\n        }\r\n\r\n        if (process.env.NODE_ENV === 'development') {\r\n            console.log(`‚úÖ API Response: ${response.config.method?.toUpperCase()} ${response.config.url}`);\r\n        }\r\n\r\n        return response;\r\n    },\r\n    (error: AxiosError) => {\r\n        const message = (error.response?.data as any)?.message || error.message || 'Network error';\r\n\r\n        if (process.env.NODE_ENV === 'development') {\r\n            console.error(`‚ùå API Error: ${error.config?.method?.toUpperCase()} ${error.config?.url}`, message);\r\n        }\r\n\r\n        if (error.response?.status === 401 && typeof window !== 'undefined') {\r\n            localStorage.removeItem('authToken');\r\n            localStorage.removeItem('user');\r\n            // Don't redirect automatically, let components handle this\r\n            console.warn('Authentication expired. Please log in again.');\r\n        }\r\n\r\n        // Create a more detailed error\r\n        const enhancedError = new Error(message);\r\n        (enhancedError as any).status = error.response?.status;\r\n        (enhancedError as any).originalError = error;\r\n\r\n        return Promise.reject(enhancedError);\r\n    }\r\n);\r\n\r\n// Helper functions for data normalization\r\nconst normalizeTicketType = (tt: any): TicketType => ({\r\n    ticketTypeId: tt.ticketTypeId || tt.TicketTypeId,\r\n    eventId: tt.eventId || tt.EventId,\r\n    eventTitle: tt.eventTitle || tt.EventTitle,\r\n    name: tt.name || tt.Name || '',\r\n    description: tt.description || tt.Description || '',\r\n    price: Number(tt.price || tt.Price || 0),\r\n    quantityAvailable: Number(tt.quantityAvailable || tt.QuantityAvailable || 0),\r\n    quantitySold: Number(tt.quantitySold || tt.QuantitySold || 0),\r\n    quantityRemaining: Number(tt.quantityRemaining || tt.QuantityRemaining || 0),\r\n    isActive: tt.isActive !== undefined ? tt.isActive : tt.IsActive !== undefined ? tt.IsActive : true,\r\n    isOnSale: tt.isOnSale !== undefined ? tt.isOnSale : tt.IsOnSale !== undefined ? tt.IsOnSale : true,\r\n    isEventPublished: tt.isEventPublished || tt.IsEventPublished || false,\r\n    eventStatus: tt.eventStatus || tt.EventStatus || 'Draft',\r\n    saleStartDate: tt.saleStartDate || tt.SaleStartDate,\r\n    saleEndDate: tt.saleEndDate || tt.SaleEndDate,\r\n    minQuantityPerOrder: Number(tt.minQuantityPerOrder || tt.MinQuantityPerOrder || 1),\r\n    maxQuantityPerOrder: Number(tt.maxQuantityPerOrder || tt.MaxQuantityPerOrder || 10),\r\n    sortOrder: Number(tt.sortOrder || tt.SortOrder || 0),\r\n    createdAt: tt.createdAt || tt.CreatedAt,\r\n    updatedAt: tt.updatedAt || tt.UpdatedAt\r\n});\r\n\r\n// Smart ticketing utility functions\r\nexport const canEditTicketType = (ticketType: TicketType): { canEdit: boolean; reason: string } => {\r\n    if (ticketType.quantitySold > 0) {\r\n        return {\r\n            canEdit: false,\r\n            reason: `${ticketType.quantitySold} ticket(s) already sold. Editing locked to preserve purchase data.`\r\n        };\r\n    }\r\n\r\n    if (ticketType.isEventPublished) {\r\n        return {\r\n            canEdit: false,\r\n            reason: 'Event is published. Limited editing to preserve sales integrity.'\r\n        };\r\n    }\r\n\r\n    return {\r\n        canEdit: true,\r\n        reason: 'Safe to edit - no sales yet and event is unpublished.'\r\n    };\r\n};\r\n\r\nexport const canCreateTicketTypes = (event: Event): { canCreate: boolean; reason: string } => {\r\n    const totalTicketsSold = event.ticketsSold || 0;\r\n\r\n    if (totalTicketsSold > 0) {\r\n        return {\r\n            canCreate: false,\r\n            reason: `Cannot create new ticket types. ${totalTicketsSold} ticket(s) have already been sold.`\r\n        };\r\n    }\r\n\r\n    if (event.isPublished) {\r\n        return {\r\n            canCreate: true,\r\n            reason: 'Event is published - new ticket types will be immediately available for sale.'\r\n        };\r\n    }\r\n\r\n    return {\r\n        canCreate: true,\r\n        reason: 'Safe to create new ticket types.'\r\n    };\r\n};\r\n\r\n// Auth API\r\nexport const authApi = {\r\n    login: async (credentials: LoginRequest): Promise<AuthResponse> => {\r\n        const response = await api.post('/auth/login', credentials);\r\n        return response.data;\r\n    },\r\n\r\n    register: async (userData: RegisterRequest): Promise<AuthResponse> => {\r\n        const response = await api.post('/auth/register', userData);\r\n        return response.data;\r\n    },\r\n};\r\n\r\n// Events API - Enhanced for organizers\r\nexport const eventsApi = {\r\n    // Public endpoints\r\n    getEvents: async (params?: {\r\n        categoryId?: number;\r\n        search?: string;\r\n        isOnline?: boolean;\r\n        startDate?: string;\r\n        endDate?: string;\r\n        page?: number;\r\n        pageSize?: number;\r\n    }): Promise<Event[]> => {\r\n        const response = await api.get('/events', { params });\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getEvent: async (id: number): Promise<Event> => {\r\n        const response = await api.get(`/events/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Organizer endpoints\r\n    getMyEvents: async (): Promise<Event[]> => {\r\n        const response = await api.get('/events/my-events');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    createEvent: async (eventData: CreateEventDto): Promise<Event> => {\r\n        const response = await api.post('/events', eventData);\r\n        return response.data;\r\n    },\r\n\r\n    updateEvent: async (id: number, eventData: UpdateEventDto): Promise<Event> => {\r\n        const response = await api.put(`/events/${id}`, eventData);\r\n        return response.data;\r\n    },\r\n\r\n    deleteEvent: async (id: number): Promise<boolean> => {\r\n        const response = await api.delete(`/events/${id}`);\r\n        return response.status === 204 || response.status === 200;\r\n    },\r\n\r\n    publishEvent: async (id: number): Promise<void> => {\r\n        await api.post(`/events/${id}/publish`);\r\n    },\r\n\r\n    unpublishEvent: async (id: number): Promise<void> => {\r\n        await api.post(`/events/${id}/unpublish`);\r\n    }\r\n};\r\n\r\n// Categories API\r\nexport const categoriesApi = {\r\n    getCategories: async (): Promise<Category[]> => {\r\n        const response = await api.get('/categories');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getCategory: async (id: number): Promise<Category> => {\r\n        const response = await api.get(`/categories/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    createCategory: async (categoryData: CreateCategoryDto): Promise<Category> => {\r\n        const response = await api.post('/categories', categoryData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Venues API\r\nexport const venuesApi = {\r\n    getVenues: async (city?: string): Promise<Venue[]> => {\r\n        const params = city ? { city } : {};\r\n        const response = await api.get('/venues', { params });\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getVenue: async (id: number): Promise<Venue> => {\r\n        const response = await api.get(`/venues/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    createVenue: async (venueData: CreateVenueDto): Promise<Venue> => {\r\n        const response = await api.post('/venues', venueData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Enhanced Tickets API with smart ticketing support\r\nexport const ticketsApi = {\r\n    // Ticket Types - Enhanced with proper error handling and data normalization\r\n    getEventTicketTypes: async (eventId: number): Promise<TicketType[]> => {\r\n        try {\r\n            console.log(`üé´ Fetching ticket types for event ${eventId}`);\r\n            const response = await api.get(`/tickets/event/${eventId}/ticket-types`);\r\n\r\n            const ticketTypes = Array.isArray(response.data) ? response.data : [];\r\n            const normalizedTicketTypes = ticketTypes.map(normalizeTicketType);\r\n\r\n            console.log(`üé´ Successfully loaded ${normalizedTicketTypes.length} ticket types`);\r\n            return normalizedTicketTypes;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error fetching ticket types:', error.message);\r\n            throw new Error(`Failed to load ticket types: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    createTicketType: async (ticketTypeData: CreateTicketTypeDto): Promise<TicketType> => {\r\n        try {\r\n            console.log('üé´ Creating ticket type:', ticketTypeData);\r\n\r\n            const payload = {\r\n                eventId: Number(ticketTypeData.eventId),\r\n                name: ticketTypeData.name.trim(),\r\n                description: ticketTypeData.description?.trim() || null,\r\n                price: Number(ticketTypeData.price),\r\n                quantityAvailable: Number(ticketTypeData.quantityAvailable),\r\n                saleStartDate: ticketTypeData.saleStartDate || null,\r\n                saleEndDate: ticketTypeData.saleEndDate || null,\r\n                minQuantityPerOrder: Number(ticketTypeData.minQuantityPerOrder || 1),\r\n                maxQuantityPerOrder: Number(ticketTypeData.maxQuantityPerOrder || 10),\r\n                sortOrder: Number(ticketTypeData.sortOrder || 0)\r\n            };\r\n\r\n            const response = await api.post('/tickets/ticket-types', payload);\r\n            const normalizedTicketType = normalizeTicketType(response.data);\r\n\r\n            console.log('üé´ Successfully created ticket type:', normalizedTicketType);\r\n            return normalizedTicketType;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error creating ticket type:', error.message);\r\n            throw new Error(`Failed to create ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    updateTicketType: async (id: number, ticketTypeData: UpdateTicketTypeDto): Promise<TicketType> => {\r\n        try {\r\n            console.log(`üé´ Updating ticket type ${id}:`, ticketTypeData);\r\n\r\n            // Remove undefined values\r\n            const payload = Object.fromEntries(\r\n                Object.entries(ticketTypeData).filter(([_, value]) => value !== undefined)\r\n            );\r\n\r\n            const response = await api.put(`/tickets/ticket-types/${id}`, payload);\r\n            const normalizedTicketType = normalizeTicketType(response.data);\r\n\r\n            console.log('üé´ Successfully updated ticket type:', normalizedTicketType);\r\n            return normalizedTicketType;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error updating ticket type:', error.message);\r\n            throw new Error(`Failed to update ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    deleteTicketType: async (id: number): Promise<boolean> => {\r\n        try {\r\n            console.log(`üé´ Deleting ticket type ${id}`);\r\n            const response = await api.delete(`/tickets/ticket-types/${id}`);\r\n            console.log('üé´ Successfully deleted ticket type');\r\n            return response.status === 204 || response.status === 200;\r\n        } catch (error: any) {\r\n            console.error('üé´ Error deleting ticket type:', error.message);\r\n            throw new Error(`Failed to delete ticket type: ${error.message}`);\r\n        }\r\n    },\r\n\r\n    getTicketType: async (id: number): Promise<TicketType> => {\r\n        const response = await api.get(`/tickets/ticket-types/${id}`);\r\n        return normalizeTicketType(response.data);\r\n    },\r\n\r\n    // Orders and Purchases\r\n    calculateOrder: async (purchaseData: PurchaseTicketsDto): Promise<OrderSummary> => {\r\n        const response = await api.post('/tickets/calculate-order', purchaseData);\r\n        return response.data;\r\n    },\r\n\r\n    purchaseTickets: async (purchaseData: PurchaseTicketsDto): Promise<Order> => {\r\n        const response = await api.post('/tickets/purchase', purchaseData);\r\n        return response.data;\r\n    },\r\n\r\n    // User tickets\r\n    getMyTickets: async (): Promise<Ticket[]> => {\r\n        const response = await api.get('/tickets/my-tickets');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getTicket: async (id: number): Promise<Ticket> => {\r\n        const response = await api.get(`/tickets/${id}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Validation and Check-in\r\n    validateTicket: async (ticketNumber: string): Promise<TicketValidation> => {\r\n        const response = await api.post('/tickets/validate', JSON.stringify(ticketNumber), {\r\n            headers: { 'Content-Type': 'application/json' }\r\n        });\r\n        return response.data;\r\n    },\r\n\r\n    checkInTicket: async (checkInData: CheckInTicketDto): Promise<Ticket> => {\r\n        const response = await api.post('/tickets/check-in', checkInData);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Orders API\r\nexport const ordersApi = {\r\n    getMyOrders: async (): Promise<Order[]> => {\r\n        const response = await api.get('/orders');\r\n        return Array.isArray(response.data) ? response.data : [];\r\n    },\r\n\r\n    getOrder: async (id: number): Promise<Order> => {\r\n        const response = await api.get(`/orders/${id}`);\r\n        return response.data;\r\n    }\r\n};\r\n\r\n// Health check and connectivity testing\r\nexport const healthApi = {\r\n    checkConnection: async (): Promise<boolean> => {\r\n        try {\r\n            const response = await api.get('/health');\r\n            return response.status === 200;\r\n        } catch {\r\n            return false;\r\n        }\r\n    },\r\n\r\n    testAuth: async (): Promise<boolean> => {\r\n        try {\r\n            const response = await api.get('/events/my-events');\r\n            return response.status === 200;\r\n        } catch {\r\n            return false;\r\n        }\r\n    }\r\n};\r\n\r\nexport default api;"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Eliezer%20Kibet%20Rotich/source/repos/Project/EventTicketingPlatform/EventTicketingfrontend/event-ticketing-frontend-nextjs/src/app/organizer/events/page.tsx"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-unused-vars */\r\n'use client';\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { useAuth } from '@/hooks/useAuth';\r\nimport { eventsApi } from '@/lib/api';\r\nimport { useI18nContext } from '@/components/providers/I18nProvider';\r\nimport { useTheme, useThemeClasses } from '@/hooks/useTheme';\r\nimport {\r\n    Calendar,\r\n    MapPin,\r\n    Users,\r\n    Plus,\r\n    Edit,\r\n    Trash2,\r\n    Eye,\r\n    EyeOff,\r\n    Search,\r\n    Filter,\r\n    Globe,\r\n    Clock,\r\n    Tag,\r\n    DollarSign\r\n} from 'lucide-react';\r\n\r\n// Use the same Event interface as your dashboard\r\ninterface Event {\r\n    eventDate: string | number | Date;\r\n    revenue: number;\r\n    eventId: number;\r\n    title: string;\r\n    description: string;\r\n    shortDescription?: string;\r\n    organizerId: number;\r\n    organizerName: string;\r\n    venueId: number;\r\n    venueName: string;\r\n    venueCity: string;\r\n    categoryId: number;\r\n    categoryName: string;\r\n    startDateTime: string;\r\n    endDateTime: string;\r\n    imageUrl?: string;\r\n    basePrice: number;\r\n    currency: string;\r\n    isOnline: boolean;\r\n    ticketsSold: number;\r\n    availableTickets: number;\r\n    status: string;\r\n    isPublished: boolean;\r\n}\r\n\r\nconst OrganizerEventsPage = () => {\r\n    const router = useRouter();\r\n    const { user, isOrganizer } = useAuth();\r\n    const themeClasses = useThemeClasses();\r\n\r\n    const [events, setEvents] = useState<Event[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [filterPublished, setFilterPublished] = useState<'all' | 'published' | 'unpublished'>('all');\r\n\r\n    const { t, changeLanguage, currentLanguage } = useI18nContext();\r\n    const { updateTheme, isDark, isCompact } = useTheme();\r\n\r\n\r\n    // Load user's events\r\n    useEffect(() => {\r\n        if (user && isOrganizer) {\r\n            fetchMyEvents();\r\n        } else if (user && !isOrganizer) {\r\n            router.push('/');\r\n        }\r\n    }, [user, isOrganizer, router]);\r\n\r\n    const fetchMyEvents = async () => {\r\n        try {\r\n            setLoading(true);\r\n            setError('');\r\n\r\n            // Use the same API call as your dashboard\r\n            const eventsData = await eventsApi.getMyEvents();\r\n            console.log(`Successfully loaded ${eventsData.length} events with full data`);\r\n\r\n            // Debug: Check what date fields are actually available\r\n            if (eventsData.length > 0) {\r\n                console.log('First event structure:', {\r\n                    eventId: eventsData[0].eventId,\r\n                    title: eventsData[0].title,\r\n                    eventDate: eventsData[0].eventDate,\r\n                    startDateTime: eventsData[0].startDateTime,\r\n                    endDateTime: eventsData[0].endDateTime,\r\n                    // Show all properties to see what's available\r\n                    allProperties: Object.keys(eventsData[0])\r\n                });\r\n            }\r\n\r\n            setEvents(eventsData);\r\n\r\n        } catch (error) {\r\n            console.error('Error fetching my events:', error);\r\n            setError('Failed to load your events. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handlePublishToggle = async (eventId: number, isCurrentlyPublished: boolean) => {\r\n        try {\r\n            const action = isCurrentlyPublished ? 'unpublish' : 'publish';\r\n            const response = await fetch(`http://localhost:5251/api/events/${eventId}/${action}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`Failed to ${action} event`);\r\n            }\r\n\r\n            // Update the event in the local state\r\n            setEvents(prevEvents =>\r\n                prevEvents.map(event =>\r\n                    event.eventId === eventId\r\n                        ? { ...event, isPublished: !isCurrentlyPublished }\r\n                        : event\r\n                )\r\n            );\r\n\r\n        } catch (error) {\r\n            console.error('Error toggling publish status:', error);\r\n            setError(`Failed to ${isCurrentlyPublished ? 'unpublish' : 'publish'} event`);\r\n        }\r\n    };\r\n\r\n    const handleDeleteEvent = async (eventId: number, eventTitle: string) => {\r\n        if (!confirm(`Are you sure you want to delete \"${eventTitle}\"? This action cannot be undone.`)) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(`http://localhost:5251/api/events/${eventId}`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Authorization': `Bearer ${localStorage.getItem('authToken')}`\r\n                }\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error('Failed to delete event');\r\n            }\r\n\r\n            // Remove the event from local state\r\n            setEvents(prevEvents => prevEvents.filter(event => event.eventId !== eventId));\r\n\r\n        } catch (error) {\r\n            console.error('Error deleting event:', error);\r\n            setError('Failed to delete event. Please try again.');\r\n        }\r\n    };\r\n\r\n    // Helper function to check if event spans multiple days\r\n    const isMultiDayEvent = (startDate: string | number | Date, endDate: string | number | Date) => {\r\n        if (!startDate || !endDate) return false;\r\n\r\n        const start = new Date(startDate);\r\n        const end = new Date(endDate);\r\n\r\n        if (isNaN(start.getTime()) || isNaN(end.getTime())) return false;\r\n\r\n        const startDateOnly = start.toDateString();\r\n        const endDateOnly = end.toDateString();\r\n\r\n        console.log('Event duration check:', {\r\n            startDateOnly,\r\n            endDateOnly,\r\n            isMultiDay: startDateOnly !== endDateOnly\r\n        });\r\n\r\n        return startDateOnly !== endDateOnly;\r\n    };\r\n\r\n    // Helper function to format date range\r\n    const formatDateRange = (startDate: string | number | Date, endDate: string | number | Date) => {\r\n        if (!startDate) return 'Date not set';\r\n\r\n        const start = new Date(startDate);\r\n        if (isNaN(start.getTime())) return 'Invalid date';\r\n\r\n        if (!endDate || !isMultiDayEvent(startDate, endDate)) {\r\n            return start.toLocaleDateString('en-US', {\r\n                month: 'short',\r\n                day: 'numeric',\r\n                year: 'numeric'\r\n            });\r\n        }\r\n\r\n        const end = new Date(endDate);\r\n        if (isNaN(end.getTime())) {\r\n            return start.toLocaleDateString('en-US', {\r\n                month: 'short',\r\n                day: 'numeric',\r\n                year: 'numeric'\r\n            });\r\n        }\r\n\r\n        // Multi-day event formatting\r\n        const startMonth = start.getMonth();\r\n        const endMonth = end.getMonth();\r\n        const startYear = start.getFullYear();\r\n        const endYear = end.getFullYear();\r\n\r\n        if (startYear === endYear) {\r\n            if (startMonth === endMonth) {\r\n                // Same month and year: \"Jul 22-23, 2025\"\r\n                return `${start.toLocaleDateString('en-US', { month: 'short' })} ${start.getDate()}-${end.getDate()}, ${startYear}`;\r\n            } else {\r\n                // Different months, same year: \"Jul 5 - Aug 7, 2025\"\r\n                return `${start.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })} - ${end.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}, ${startYear}`;\r\n            }\r\n        } else {\r\n            // Different years: \"Dec 30, 2024 - Jan 5, 2025\"\r\n            return `${start.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })} - ${end.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}`;\r\n        }\r\n    };\r\n\r\n    // Helper function to format time range\r\n    const formatTimeRange = (startDate: string | number | Date, endDate: string | number | Date) => {\r\n        if (!startDate) return 'Time not set';\r\n\r\n        const start = new Date(startDate);\r\n        if (isNaN(start.getTime())) return 'Invalid time';\r\n\r\n        const startTime = start.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n\r\n        if (!endDate) {\r\n            return startTime;\r\n        }\r\n\r\n        const end = new Date(endDate);\r\n        if (isNaN(end.getTime())) {\r\n            return startTime;\r\n        }\r\n\r\n        const endTime = end.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });\r\n\r\n        if (startTime !== endTime) {\r\n            return `${startTime} - ${endTime}`;\r\n        }\r\n\r\n        return startTime;\r\n    };\r\n\r\n    // Calculate event duration in days\r\n    const getEventDuration = (startDate: string | number | Date, endDate: string | number | Date) => {\r\n        if (!startDate || !endDate || !isMultiDayEvent(startDate, endDate)) {\r\n            return null;\r\n        }\r\n\r\n        const start = new Date(startDate);\r\n        const end = new Date(endDate);\r\n\r\n        if (isNaN(start.getTime()) || isNaN(end.getTime())) return null;\r\n\r\n        const diffInMs = end.getTime() - start.getTime();\r\n        const diffInDays = Math.ceil(diffInMs / (1000 * 60 * 60 * 24));\r\n\r\n        return diffInDays > 0 ? diffInDays : null;\r\n    };\r\n\r\n    // Filter events based on search and publish status\r\n    const filteredEvents = events.filter(event => {\r\n        if (!searchTerm.trim()) {\r\n            // If no search term, only apply publish filter\r\n            return filterPublished === 'all' ||\r\n                (filterPublished === 'published' && event.isPublished) ||\r\n                (filterPublished === 'unpublished' && !event.isPublished);\r\n        }\r\n\r\n        // Case-insensitive search across multiple fields\r\n        const searchLower = searchTerm.toLowerCase();\r\n        const matchesSearch =\r\n            event.title?.toLowerCase().includes(searchLower) ||\r\n            event.description?.toLowerCase().includes(searchLower) ||\r\n            event.shortDescription?.toLowerCase().includes(searchLower) ||\r\n            event.venueName?.toLowerCase().includes(searchLower) ||\r\n            event.venueCity?.toLowerCase().includes(searchLower) ||\r\n            event.categoryName?.toLowerCase().includes(searchLower) ||\r\n            event.organizerName?.toLowerCase().includes(searchLower) ||\r\n            // Search for \"online\" or \"in-person\"\r\n            (event.isOnline && 'online'.includes(searchLower)) ||\r\n            (!event.isOnline && ('in-person'.includes(searchLower) || 'physical'.includes(searchLower))) ||\r\n            // Search in ticket and revenue info\r\n            event.ticketsSold?.toString().includes(searchTerm) ||\r\n            event.availableTickets?.toString().includes(searchTerm) ||\r\n            event.currency?.toLowerCase().includes(searchLower) ||\r\n            event.basePrice?.toString().includes(searchTerm) ||\r\n            // Search in status\r\n            (event.isPublished && ('published'.includes(searchLower) || 'live'.includes(searchLower))) ||\r\n            (!event.isPublished && ('draft'.includes(searchLower) || 'unpublished'.includes(searchLower)));\r\n\r\n        const matchesFilter = filterPublished === 'all' ||\r\n            (filterPublished === 'published' && event.isPublished) ||\r\n            (filterPublished === 'unpublished' && !event.isPublished);\r\n\r\n        return matchesSearch && matchesFilter;\r\n    });\r\n\r\n    const formatDate = (dateString: string | number | Date) => {\r\n        // Debug what we're trying to format\r\n        console.log('Formatting date:', dateString, 'Type:', typeof dateString);\r\n\r\n        if (!dateString) {\r\n            console.log('No date provided');\r\n            return 'Date not set';\r\n        }\r\n\r\n        try {\r\n            const date = new Date(dateString);\r\n            if (isNaN(date.getTime())) {\r\n                console.log('Invalid date:', dateString);\r\n                return 'Invalid date';\r\n            }\r\n\r\n            return date.toLocaleDateString('en-US', {\r\n                year: 'numeric',\r\n                month: 'short',\r\n                day: 'numeric',\r\n                hour: '2-digit',\r\n                minute: '2-digit'\r\n            });\r\n        } catch (error) {\r\n            console.log('Error formatting date:', error);\r\n            return 'Date error';\r\n        }\r\n    };\r\n\r\n    if (!user || !isOrganizer) {\r\n        return (\r\n            <div className={`min-h-screen ${themeClasses.background} flex items-center justify-center`}>\r\n                <div className=\"text-center\">\r\n                    <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\r\n                    <p className={`mt-4 ${themeClasses.textMuted}`}>Loading...</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={`min-h-screen ${themeClasses.themeBg} theme-transition`}>\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n                {/* Header */}\r\n                <div className=\"mb-8\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <div>\r\n                            <h1 className={`${themeClasses.text3Xl} font-bold ${themeClasses.themeFg}`}>\r\n                                {t('events.title', 'My Events')}\r\n                            </h1>\r\n                            <p className={`${themeClasses.themeMutedFg} ${isCompact ? 'mt-1' : 'mt-2'}`}>\r\n                                {t('events.subtitle', 'Manage your events and track their performance')}\r\n                            </p>\r\n                        </div>\r\n                        <button\r\n                            onClick={() => router.push('/organizer/events/create')}\r\n                            className=\"btn-accent\"\r\n                        >\r\n                            <Plus className=\"h-5 w-5 mr-2\" />\r\n                            {t('events.createEvent', 'Create Event')}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Search and Filters */}\r\n                <div className={`${isCompact ? 'mb-4' : 'mb-6'} flex flex-col sm:flex-row ${themeClasses.compactGap}`}>\r\n                    <div className=\"flex-1 relative\">\r\n                        <Search className={`absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 ${themeClasses.themeMutedFg}`} />\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder={t('events.searchPlaceholder', 'Search by title, venue, category, date, status, revenue...')}\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                            className={`w-full pl-10 pr-4 ${themeClasses.compactInput} ${themeClasses.themeCard} ${themeClasses.themeFg} ${themeClasses.themeBorder} border rounded-lg focus:ring-2 accent-focus focus:border-transparent`}\r\n                        />\r\n                    </div>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        <Filter className={`h-5 w-5 ${themeClasses.themeMutedFg}`} />\r\n                        <select\r\n                            value={filterPublished}\r\n                            onChange={(e) => setFilterPublished(e.target.value as 'all' | 'published' | 'unpublished')}\r\n                            className={`${themeClasses.compactInput} ${themeClasses.themeCard} ${themeClasses.themeFg} ${themeClasses.themeBorder} border rounded-lg focus:ring-2 accent-focus focus:border-transparent`}\r\n                        >\r\n                            <option value=\"all\">{t('events.filter.all', 'All Events')}</option>\r\n                            <option value=\"published\">{t('events.filter.published', 'Published')}</option>\r\n                            <option value=\"unpublished\">{t('events.filter.unpublished', 'Unpublished')}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Error Message */}\r\n                {error && (\r\n                    <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\r\n                        <p className=\"text-red-700 dark:text-red-400 text-sm\">{error}</p>\r\n                        <button\r\n                            onClick={() => setError('')}\r\n                            className=\"text-red-500 dark:text-red-400 text-xs underline mt-1\"\r\n                        >\r\n                            Dismiss\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Loading State */}\r\n                {loading ? (\r\n                    <div className=\"flex items-center justify-center py-12\">\r\n                        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\r\n                        <p className={`ml-3 ${themeClasses.textMuted}`}>Loading your events...</p>\r\n                    </div>\r\n                ) : (\r\n                    <>\r\n                        {/* Enhanced Events Stats */}\r\n                        <div className={`${isCompact ? 'mb-4' : 'mb-6'} grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 ${themeClasses.compactGap}`}>\r\n                            <div className={`${themeClasses.card} ${themeClasses.border} rounded-lg shadow-sm border ${themeClasses.themeBorder} `}>\r\n                                <div className={`${themeClasses.textXl} font-bold ${themeClasses.themeFg}`}>{events.length}</div>\r\n                                    <div className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>\r\n                                        {t('events.stats.total', 'Total Events')}\r\n                                    </div>\r\n                            </div>\r\n                            <div className={`${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-sm border ${themeClasses.themeBorder}`}>\r\n                                <div className=\"text-xl font-bold text-green-600 dark:text-green-400\">\r\n                                    {events.filter(e => e.isPublished).length}\r\n                                </div>\r\n                                <div className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>\r\n                                    {t('events.stats.published', 'Published')}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={`${themeClasses.themeCard} ${themeClasses.compactCard} rounded-lg shadow-sm border ${themeClasses.themeBorder}`}>\r\n                                <div className=\"text-xl font-bold text-green-600 dark:text-green-400\">\r\n                                    {events.filter(e => e.isPublished).length}\r\n                                </div>\r\n                                <div className={`${themeClasses.textSm} ${themeClasses.themeMutedFg}`}>\r\n                                    {t('events.stats.published', 'Published')}\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className={`${themeClasses.card} p-4 rounded-lg ${themeClasses.border} border`}>\r\n                                <div className=\"text-2xl font-bold text-orange-600 dark:text-orange-400\">\r\n                                    {events.filter(e => !e.isPublished).length}\r\n                                </div>\r\n                                <div className={`text-sm ${themeClasses.textMuted}`}>Unpublished</div>\r\n                            </div>\r\n                            <div className={`${themeClasses.card} p-4 rounded-lg ${themeClasses.border} border`}>\r\n                                <div className=\"text-2xl font-bold text-blue-600 dark:text-blue-400\">\r\n                                    {events.reduce((sum, e) => sum + (e.ticketsSold || 0), 0).toLocaleString()}\r\n                                </div>\r\n                                <div className={`text-sm ${themeClasses.textMuted}`}>Tickets Sold</div>\r\n                            </div>\r\n                            <div className={`${themeClasses.card} p-4 rounded-lg ${themeClasses.border} border`}>\r\n                                <div className=\"text-2xl font-bold text-purple-600 dark:text-purple-400\">\r\n                                    {events.length > 0 ? events[0].currency : 'RM'} {events.reduce((sum, e) => sum + (e.revenue || 0), 0).toLocaleString()}\r\n                                </div>\r\n                                <div className={`text-sm ${themeClasses.textMuted}`}>Total Revenue</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Events List */}\r\n                        {filteredEvents.length === 0 ? (\r\n                            <div className=\"text-center py-12\">\r\n                                <Calendar className={`h-12 w-12 ${themeClasses.textMuted} mx-auto mb-4`} />\r\n                                <h3 className={`text-lg font-medium ${themeClasses.text} mb-2`}>\r\n                                    {events.length === 0 ? 'No events created yet' : 'No events match your search'}\r\n                                </h3>\r\n                                <p className={`${themeClasses.textMuted} mb-4`}>\r\n                                    {events.length === 0\r\n                                        ? 'Create your first event to get started with EventHub'\r\n                                        : 'Try adjusting your search or filter criteria'\r\n                                    }\r\n                                </p>\r\n                                {events.length === 0 && (\r\n                                    <button\r\n                                        onClick={() => router.push('/organizer/events/create')}\r\n                                        className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\r\n                                    >\r\n                                        <Plus className=\"h-5 w-5 mr-2\" />\r\n                                        Create Your First Event\r\n                                    </button>\r\n                                )}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"space-y-4\">\r\n                                {filteredEvents.map((event) => {\r\n                                    const startDateTime = event.startDateTime || event.eventDate;\r\n                                    const endDateTime = event.endDateTime || event.startDateTime || event.eventDate;\r\n                                    const duration = getEventDuration(startDateTime, endDateTime);\r\n\r\n                                    return (\r\n                                        <div key={event.eventId} className={`${themeClasses.themeCard} ${themeClasses.themeBorder} border rounded-lg shadow-sm hover:shadow-md transition-shadow theme-transition`}>\r\n                                            <div className={`${themeClasses.compactCard}`}>\r\n                                                <div className=\"flex justify-between items-start\">\r\n                                                    <div className=\"flex-1\">\r\n                                                        <div className={`flex items-center ${themeClasses.compactGap} ${isCompact ? 'mb-2' : 'mb-3'}`}>\r\n                                                            <button\r\n                                                                onClick={() => router.push(`/organizer/events/${event.eventId}`)}\r\n                                                                className={`${themeClasses.textLg} font-semibold ${themeClasses.themeFg} accent-hover transition-colors text-left`}\r\n                                                            >\r\n                                                                {event.title}\r\n                                                            </button>\r\n                                                            <span className={`px-2 py-1 rounded-full ${themeClasses.textXs} font-medium ${event.isPublished\r\n                                                                    ? 'bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300'\r\n                                                                    : 'bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300'\r\n                                                                }`}>\r\n                                                                {t(`events.status.${event.isPublished ? 'published' : 'draft'}`,\r\n                                                                    event.isPublished ? 'Published' : 'Draft')}\r\n                                                            </span>\r\n                                                            {/* Multi-day badge */}\r\n                                                            {duration && duration > 1 && (\r\n                                                                <span className=\"px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300\">\r\n                                                                    {duration} Days\r\n                                                                </span>\r\n                                                            )}\r\n                                                        </div>\r\n\r\n                                                        <p className={`${themeClasses.textMuted} mb-4 line-clamp-2`}>\r\n                                                            {event.description || event.shortDescription || 'No description available'}\r\n                                                        </p>\r\n\r\n                                                        <div className={`grid grid-cols-2 lg:grid-cols-4 gap-4 text-sm ${themeClasses.textMuted} mb-4`}>\r\n                                                            {/* Enhanced Date Display */}\r\n                                                            <div className=\"flex items-start\">\r\n                                                                <Calendar className=\"h-4 w-4 mr-1 flex-shrink-0 mt-0.5\" />\r\n                                                                <div className=\"flex flex-col\">\r\n                                                                    <span className={`font-medium ${themeClasses.themeFg}`}>\r\n                                                                        {formatDateRange(startDateTime, endDateTime)}\r\n                                                                    </span>\r\n                                                                    {duration && duration > 1 && (\r\n                                                                        <span className=\"text-xs accent-text font-medium\">\r\n                                                                            {t('events.multiDay', '{{count}} day event', { count: duration })}\r\n                                                                        </span>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            {/* Enhanced Time Display */}\r\n                                                            <div className=\"flex items-start\">\r\n                                                                <Clock className=\"h-4 w-4 mr-1 flex-shrink-0 mt-0.5\" />\r\n                                                                <div className=\"flex flex-col\">\r\n                                                                    <span>{formatTimeRange(startDateTime, endDateTime)}</span>\r\n                                                                    {isMultiDayEvent(startDateTime, endDateTime) && (\r\n                                                                        <span className={`text-xs ${themeClasses.textMuted}`}>\r\n                                                                            Multi-day schedule\r\n                                                                        </span>\r\n                                                                    )}\r\n                                                                </div>\r\n                                                            </div>\r\n\r\n                                                            <div className=\"flex items-center\">\r\n                                                                {event.isOnline ? <Globe className=\"h-4 w-4 mr-1\" /> : <MapPin className=\"h-4 w-4 mr-1\" />}\r\n                                                                {event.isOnline ? 'Virtual Event' : `${event.venueName} - ${event.venueCity}`}\r\n                                                            </div>\r\n                                                            <div className=\"flex items-center\">\r\n                                                                <Tag className=\"h-4 w-4 mr-1\" />\r\n                                                                {event.categoryName || 'Uncategorized'}\r\n                                                            </div>\r\n                                                        </div>\r\n\r\n                                                        {/* Event Statistics */}\r\n                                                        <div className={`grid grid-cols-3 gap-4 p-3 ${themeClasses.isDark ? 'bg-gray-800' : 'bg-gray-50'} rounded-lg mb-4`}>\r\n                                                            <div className=\"text-center\">\r\n                                                                <div className={`${themeClasses.textLg} font-bold ${themeClasses.themeFg}`}>\r\n                                                                    {event.ticketsSold || 0}\r\n                                                                </div>\r\n                                                                <div className={`${themeClasses.textXs} ${themeClasses.themeMutedFg}`}>\r\n                                                                    {t('events.ticketsSold', 'Tickets Sold')}\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            <div className=\"text-center\">\r\n                                                                <div className={`text-lg font-bold ${themeClasses.text}`}>{(event.availableTickets + (event.ticketsSold || 0)) || 'Unlimited'}</div>\r\n                                                                <div className={`text-xs ${themeClasses.textMuted}`}>Total Capacity</div>\r\n                                                            </div>\r\n                                                            <div className=\"text-center\">\r\n                                                                <div className=\"text-lg font-bold text-green-600 dark:text-green-400\">{event.currency} {(event.revenue || 0).toLocaleString()}</div>\r\n                                                                <div className={`text-xs ${themeClasses.textMuted}`}>Revenue</div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    {/* Actions */}\r\n                                                    <div className={`flex items-center ${themeClasses.compactGap} ml-4`}>\r\n                                                        <button\r\n                                                            onClick={() => router.push(`/organizer/events/${event.eventId}`)}\r\n                                                            className={`p-2 ${themeClasses.themeMutedFg} ${themeClasses.hover} rounded-lg transition-colors`}\r\n                                                            title={t('events.actions.view', 'View event details')}\r\n                                                        >\r\n                                                            <Eye className=\"h-5 w-5\" />\r\n                                                        </button>\r\n\r\n                                                        <button\r\n                                                            onClick={() => handlePublishToggle(event.eventId, event.isPublished)}\r\n                                                            className={`p-2 rounded-lg transition-colors ${event.isPublished\r\n                                                                ? 'text-orange-600 hover:bg-orange-50 dark:hover:bg-orange-900/20'\r\n                                                                : 'text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20'\r\n                                                                }`}\r\n                                                            title={event.isPublished ? 'Unpublish event' : 'Publish event'}\r\n                                                        >\r\n                                                            {event.isPublished ? <EyeOff className=\"h-5 w-5\" /> : <Eye className=\"h-5 w-5\" />}\r\n                                                        </button>\r\n\r\n                                                        <button\r\n                                                            onClick={() => router.push(`/organizer/events/${event.eventId}/edit`)}\r\n                                                            className=\"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg transition-colors\"\r\n                                                            title=\"Edit event\"\r\n                                                        >\r\n                                                            <Edit className=\"h-5 w-5\" />\r\n                                                        </button>\r\n\r\n                                                        <button\r\n                                                            onClick={() => handleDeleteEvent(event.eventId, event.title)}\r\n                                                            className=\"p-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors\"\r\n                                                            title=\"Delete event\"\r\n                                                        >\r\n                                                            <Trash2 className=\"h-5 w-5\" />\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        )}\r\n                    </>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default OrganizerEventsPage;"],"names":[],"mappings":"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","debugId":null}}]
}